/*! For license information please see 7822.chunk.js.LICENSE.txt */
(self.webpackChunkwebviewer_ui=self.webpackChunkwebviewer_ui||[]).push([[7822],{97822:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>ht}),n(63534),n(40590),n(27727),n(64216),n(49576),n(18636),n(58476),n(15195),n(47746),n(4895),n(18665),n(10557),n(14913),n(79389),n(98741),n(31586),n(96982),n(97755),n(15852),n(41412),n(7899),n(4632),n(5086),n(69193),n(87136),n(6048),n(43148),n(29979),n(58379),n(14602);var o=n(96540),i=n(61113),r=n(5556),a=n.n(r),l=n(7350),c=n.n(l),u=n(28854),s=n(10895),p=n(54030),d=n(90540),f=n(18492),h=n(14269),m=n(62140),y=n(10720),A=n(42688),v=n(26247),w=n(75710),g=n(97160),b=n(78632),E=n(59844),x=(n(36611),n(80115),n(17),n(87787),n(94009),n(36012),n(10678),n(3101),n(55794)),P=n.n(x),O=n(32485),S=n.n(O),C=n(60254),T=n(59163),N=n(4683);function k(t){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k(t)}function L(){L=function(){return e};var t,e={},n=Object.prototype,o=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",l=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function s(t,e,n,o){var r=e&&e.prototype instanceof A?e:A,a=Object.create(r.prototype),l=new _(o||[]);return i(a,"_invoke",{value:S(t,n,l)}),a}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var d="suspendedStart",f="suspendedYield",h="executing",m="completed",y={};function A(){}function v(){}function w(){}var g={};u(g,a,(function(){return this}));var b=Object.getPrototypeOf,E=b&&b(b(D([])));E&&E!==n&&o.call(E,a)&&(g=E);var x=w.prototype=A.prototype=Object.create(g);function P(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function n(i,r,a,l){var c=p(t[i],t,r);if("throw"!==c.type){var u=c.arg,s=u.value;return s&&"object"==k(s)&&o.call(s,"__await")?e.resolve(s.__await).then((function(t){n("next",t,a,l)}),(function(t){n("throw",t,a,l)})):e.resolve(s).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,l)}))}l(c.arg)}var r;i(this,"_invoke",{value:function(t,o){function i(){return new e((function(e,i){n(t,o,e,i)}))}return r=r?r.then(i,i):i()}})}function S(e,n,o){var i=d;return function(r,a){if(i===h)throw Error("Generator is already running");if(i===m){if("throw"===r)throw a;return{value:t,done:!0}}for(o.method=r,o.arg=a;;){var l=o.delegate;if(l){var c=C(l,o);if(c){if(c===y)continue;return c}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(i===d)throw i=m,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);i=h;var u=p(e,n,o);if("normal"===u.type){if(i=o.done?m:f,u.arg===y)continue;return{value:u.arg,done:o.done}}"throw"===u.type&&(i=m,o.method="throw",o.arg=u.arg)}}}function C(e,n){var o=n.method,i=e.iterator[o];if(i===t)return n.delegate=null,"throw"===o&&e.iterator.return&&(n.method="return",n.arg=t,C(e,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+o+"' method")),y;var r=p(i,e.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,y;var a=r.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function N(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function D(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,r=function n(){for(;++i<e.length;)if(o.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return r.next=r}}throw new TypeError(k(e)+" is not iterable")}return v.prototype=w,i(x,"constructor",{value:w,configurable:!0}),i(w,"constructor",{value:v,configurable:!0}),v.displayName=u(w,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,u(t,c,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},P(O.prototype),u(O.prototype,l,(function(){return this})),e.AsyncIterator=O,e.async=function(t,n,o,i,r){void 0===r&&(r=Promise);var a=new O(s(t,n,o,i),r);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},P(x),u(x,c,"Generator"),u(x,a,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var o in e)n.push(o);return n.reverse(),function t(){for(;n.length;){var o=n.pop();if(o in e)return t.value=o,t.done=!1,t}return t.done=!0,t}},e.values=D,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(o,i){return l.type="throw",l.arg=e,n.next=o,i&&(n.method="next",n.arg=t),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],l=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=o.call(a,"catchLoc"),u=o.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&o.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=t,a.arg=e,r?(this.method="next",this.next=r.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),N(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var o=n.completion;if("throw"===o.type){var i=o.arg;N(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,o){return this.delegate={iterator:D(e),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=t),y}},e}function _(t,e,n,o,i,r,a){try{var l=t[r](a),c=l.value}catch(t){return void n(t)}l.done?e(c):Promise.resolve(c).then(o,i)}var D=function(t){var e=t.onClick,n=t.annotation,i=t.onDatePickerShow,r=(0,o.useRef)(null),a=(0,o.useRef)(null);return(0,o.useEffect)((function(){var t,o=function(){var o,l=(o=L().mark((function o(){return L().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,window.Core.createDatePicker({field:r.current,onClick:e,container:a.current,format:n.getDateFormat()});case 2:t=o.sent,i(!0);case 4:case"end":return o.stop()}}),o)})),function(){var t=this,e=arguments;return new Promise((function(n,i){var r=o.apply(t,e);function a(t){_(r,n,i,a,l,"next",t)}function l(t){_(r,n,i,a,l,"throw",t)}a(void 0)}))});return function(){return l.apply(this,arguments)}}();return o(),function(){t.destroy(),t=null,i(!1)}}),[]),o.createElement("div",{"data-element":"datePickerContainer"},o.createElement("div",{ref:r}),o.createElement("div",{ref:a}))};D.propTypes={onClick:a().func.isRequired,annotation:a().object.isRequired,onDatePickerShow:a().func.isRequired};const F=D;var I=n(74409),M=(n(96088),n(68329),n(11768)),R=n(20714),B=n(91442),j=n(27620);function U(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var o,i,r,a,l=[],c=!0,u=!1;try{if(r=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=r.call(n)).done)&&(l.push(o.value),l.length!==e);c=!0);}catch(t){u=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,e)||function(t,e){if(t){if("string"==typeof t)return G(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?G(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}n(79560);var z=window.Core.Scale,W=function(t){var e=t.Measure.axis[0].factor;return"ft-in"===t.Scale[1][1]?t.getLineLength()*e/12:t.getLineLength()*e},Y={annotation:a().shape({Scale:a().arrayOf(a().array)})},V=function(t){var e,n,r=t.annotation,a=U((0,f.B)(),1)[0],l=(0,i.wA)(),c=U((0,i.d4)((function(t){return[w.A.getMeasurementUnits(t),w.A.getCalibrationInfo(t)]}),i.bN),2),s=c[0],p=c[1],d=p.tempScale,h=p.isFractionalUnit,m=p.defaultUnit,y=U((0,o.useState)(""),2),A=y[0],g=y[1],b=(0,o.useRef)(null),E=(null===(e=new z(d).worldScale)||void 0===e?void 0:e.unit)||"mm",x=h?s.to.filter((function(t){return j.Ph.includes(t)})):s.to,P=!j.Ph.includes(E),O=h||"ft-in"===E?"text":"number",C=S()("input-field",{"invalid-value":!(d&&(null===(n=new z(d).worldScale)||void 0===n?void 0:n.value)>0)}),T=function(t,e){var n,o=W(r),i=r.Scale,a=o/i[1][0],c=[i[0][0]*a,i[0][1]],u="pt"===(n=e)?"pt":j.EN.includes(n)?"mm":"in",s=(0,j.oU)(c[0],c[1],u);l(v.A.updateCalibrationInfo({tempScale:"".concat(s," ").concat(u," = ").concat(t," ").concat(e),isFractionalUnit:h}))},N=function(t){var e;T(t,null===(e=new z(d).worldScale)||void 0===e?void 0:e.unit)},k=function(){var t,e,n=null===(t=new z(d).worldScale)||void 0===t?void 0:t.value;e=h||"ft-in"===E?z.getFormattedValue(n,E,h?1/64:1e-4,!1,!0):"".concat(n),g(e||"")},L=(0,o.useRef)(d);return(0,o.useEffect)((function(){L.current=d}),[d]),(0,o.useEffect)((function(){if(r){var t=W(r),e=r.Scale[1][1];m?T((0,j.oU)(t,e,m),m):T(t,e)}var n=function(t,e){if("modify"===e&&1===t.length&&t[0]===r){var n,o=W(r),i=r.Scale[1][1],a=null===(n=new z(L.current).worldScale)||void 0===n?void 0:n.unit;a?T((0,j.oU)(o,i,a),a):T(o,i)}};return u.A.addEventListener("annotationChanged",n),function(){u.A.removeEventListener("annotationChanged",n),u.A.deleteAnnotations([r])}}),[r]),(0,o.useEffect)((function(){(null==b?void 0:b.current)!==document.activeElement&&k()}),[d,h]),o.createElement("div",{className:"CalibrationPopup","data-element":"calibrationPopup"},o.createElement("div",{className:"input-container"},o.createElement("input",{className:C,ref:b,type:O,value:A,min:"0",onChange:function(t){g(t.target.value);var e=t.target.value.trim();if(h){if("in"===E){if(j.yQ.test(e)){var n=(0,j.cX)(e);if(n>0)return void N(n)}}else if("ft-in"===E&&j.CR.test(e)){var o=(0,j.QQ)(e);if(o>0)return void N(o)}}else if("ft-in"===E&&j.oi.test(e)){var i=(0,j.Cg)(e);if(i>0)return void N(i)}else if(j.SY.test(e)){var r=parseFloat(e)||0;return void N(r)}N(0)},onBlur:function(){k()},placeholder:h?j.OR[E]:"ft-in"===E?j.OR["ft-in decimal"]:""}),o.createElement(B.A,{content:"option.measurement.scaleModal.displayUnits"},o.createElement("div",{className:"input-field"},o.createElement(R.A,{dataElement:"calibrationUnits",items:x,currentSelectionKey:E,onClickItem:function(t){var e;T(null===(e=new z(d).worldScale)||void 0===e?void 0:e.value,t)}})))),o.createElement(B.A,{content:a("option.measurement.scaleModal.fractionUnitsTooltip")},o.createElement("div",null,o.createElement(M.G,{isSwitch:!0,leftLabel:!0,label:a("option.measurement.scaleModal.fractionalUnits"),disabled:P,checked:h,id:"calibration-popup-fractional-units",className:"pop-switch",onChange:function(){l(v.A.updateCalibrationInfo({tempScale:d,isFractionalUnit:!h}))}}))))};V.propTypes=Y;const H=V;var K=n(17246),q=(n(12734),n(96763));function X(t){return X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},X(t)}function Q(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function $(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Q(Object(n),!0).forEach((function(e){var o,i,r,a;o=t,i=e,r=n[e],a=function(t,e){if("object"!=X(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,"string");if("object"!=X(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(i),(i="symbol"==X(a)?a:a+"")in o?Object.defineProperty(o,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):o[i]=r})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function J(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var o,i,r,a,l=[],c=!0,u=!1;try{if(r=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=r.call(n)).done)&&(l.push(o.value),l.length!==e);c=!0);}catch(t){u=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Z(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Z(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}var tt={isMobile:a().bool,isIE:a().bool,isOpen:a().bool,isRightClickMenu:a().bool,isNotesPanelOpenOrActive:a().bool,isRichTextPopupOpen:a().bool,isLinkModalOpen:a().bool,isWarningModalOpen:a().bool,isContextMenuPopupOpen:a().bool,focusedAnnotation:a().object,multipleAnnotationsSelected:a().bool,popupRef:a().any,position:a().object,showViewFileButton:a().bool,onViewFile:a().func,showCommentButton:a().bool,onCommentAnnotation:a().func,isDateFreeTextCanEdit:a().bool,isDatePickerOpen:a().bool,handleDateChange:a().func,onDatePickerShow:a().func,isCalibrationPopupOpen:a().bool,showEditStyleButton:a().bool,isStylePopupOpen:a().bool,hideSnapModeCheckbox:a().bool,openEditStylePopup:a().func,closeEditStylePopup:a().func,annotationStyle:a().object,onResize:a().func,showContentEditButton:a().bool,onEditContent:a().func,openContentEditDeleteWarningModal:a().func,isAppearanceSignature:a().bool,onClearAppearanceSignature:a().func,showRedactionButton:a().bool,onApplyRedaction:a().func,showGroupButton:a().bool,onGroupAnnotations:a().func,showUngroupButton:a().bool,onUngroupAnnotations:a().func,showFormFieldButton:a().bool,onOpenFormField:a().func,showDeleteButton:a().bool,onDeleteAnnotation:a().func,showLinkButton:a().bool,hasAssociatedLink:a().bool,linkAnnotationToURL:a().func,showFileDownloadButton:a().bool,downloadFileAttachment:a().func,showAudioPlayButton:a().bool,handlePlaySound:a().func,showCalibrateButton:a().bool,onOpenCalibration:a().func,customizableUI:a().bool,openStylePanel:a().func,isInReadOnlyMode:a().bool,onOpenAlignmentModal:a().func},et=function(t){var e,n,i=t.isMobile,r=t.isIE,a=t.isOpen,l=t.isRightClickMenu,c=t.isNotesPanelOpenOrActive,u=t.isRichTextPopupOpen,s=t.isLinkModalOpen,p=t.isWarningModalOpen,d=t.isContextMenuPopupOpen,h=t.focusedAnnotation,m=t.popupRef,y=t.position,A=t.multipleAnnotationsSelected,v=t.showViewFileButton,w=t.onViewFile,b=t.showCommentButton,x=t.onCommentAnnotation,O=t.isDateFreeTextCanEdit,k=t.isDatePickerOpen,L=t.handleDateChange,_=t.onDatePickerShow,D=t.isCalibrationPopupOpen,M=t.showEditStyleButton,R=t.isStylePopupOpen,B=t.hideSnapModeCheckbox,j=t.openEditStylePopup,U=t.closeEditStylePopup,G=t.annotationStyle,z=t.onResize,W=t.showContentEditButton,Y=t.onEditContent,V=t.openContentEditDeleteWarningModal,X=t.isAppearanceSignature,Q=t.onClearAppearanceSignature,Z=t.showRedactionButton,tt=t.onApplyRedaction,et=t.showGroupButton,nt=t.onGroupAnnotations,ot=t.showUngroupButton,it=t.onUngroupAnnotations,rt=t.showFormFieldButton,at=t.onOpenFormField,lt=t.showDeleteButton,ct=t.onDeleteAnnotation,ut=t.showLinkButton,st=t.hasAssociatedLink,pt=t.linkAnnotationToURL,dt=t.showFileDownloadButton,ft=t.downloadFileAttachment,ht=t.showAudioPlayButton,mt=t.handlePlaySound,yt=t.showCalibrateButton,At=t.onOpenCalibration,vt=t.customizableUI,wt=t.openStylePanel,gt=t.isInReadOnlyMode,bt=t.onOpenAlignmentModal,Et=J((0,f.B)(),1)[0],xt=J((0,o.useState)(!1),2),Pt=xt[0],Ot=xt[1],St=O?"action.changeDate":"action.comment",Ct=O?"icon-tool-fill-and-sign-calendar":"icon-header-chat-line",Tt=!gt&&h instanceof window.Core.Annotations.Model3DAnnotation&&!i,Nt=h instanceof window.Core.Annotations.RectangleAnnotation,kt=h instanceof window.Core.Annotations.EllipseAnnotation,Lt=h instanceof window.Core.Annotations.PolygonAnnotation,_t=h instanceof window.Core.Annotations.FreeTextAnnotation&&(h.getIntent()===window.Core.Annotations.FreeTextAnnotation.Intent.FreeText||h.getIntent()===window.Core.Annotations.FreeTextAnnotation.Intent.FreeTextCallout),Dt=h instanceof window.Core.Annotations.RedactionAnnotation,Ft=(0,K.c7)(h),It=!!h.Measure,Mt=(0,K.ap)((0,K.YP)(h.ToolName)).hasLineEndings,Rt=!window.isApryseWebViewerWebComponent||(null===(e=document.activeElement)||void 0===e?void 0:e.shadowRoot)===(0,E.Ay)(),Bt="solid",jt=null===(n=h.isContentEditPlaceholder)||void 0===n?void 0:n.call(h),Ut=h instanceof window.Core.Annotations.SignatureWidgetAnnotation&&h.fieldFlags.get(window.Core.Annotations.WidgetFlags.READ_ONLY);try{Bt="dash"===h.Style?"".concat(h.Style,",").concat(h.Dashes):h.Style}catch(t){q.error(t)}var Gt={};if(Mt&&(Gt={StartLineStyle:h.getStartStyle(),EndLineStyle:h.getEndStyle(),StrokeStyle:Bt}),(Nt||kt||Lt)&&(Gt={StrokeStyle:Bt}),_t){var zt,Wt,Yt,Vt,Ht,Kt,qt,Xt,Qt,$t,Jt,Zt=h.getRichTextStyle(),te=h.isAutoSizeFont(),ee=h.getCalculatedFontSize();Gt={Font:h.Font,FontSize:h.FontSize,TextAlign:h.TextAlign,TextVerticalAlign:h.TextVerticalAlign,bold:null!==(zt="bold"===(null==Zt||null===(Wt=Zt[0])||void 0===Wt?void 0:Wt["font-weight"]))&&void 0!==zt&&zt,italic:null!==(Yt="italic"===(null==Zt||null===(Vt=Zt[0])||void 0===Vt?void 0:Vt["font-style"]))&&void 0!==Yt&&Yt,underline:(null==Zt||null===(Ht=Zt[0])||void 0===Ht||null===(Kt=Ht["text-decoration"])||void 0===Kt?void 0:Kt.includes("underline"))||(null==Zt||null===(qt=Zt[0])||void 0===qt||null===(Xt=qt["text-decoration"])||void 0===Xt?void 0:Xt.includes("word")),strikeout:null!==(Qt=null==Zt||null===($t=Zt[0])||void 0===$t||null===(Jt=$t["text-decoration"])||void 0===Jt?void 0:Jt.includes("line-through"))&&void 0!==Qt&&Qt,StrokeStyle:Bt,isAutoSizeFont:te,calculatedFontSize:ee}}Dt&&(Gt={OverlayText:h.OverlayText,Font:h.Font,FontSize:h.FontSize,TextAlign:h.TextAlign});var ne=o.createElement("div",{className:S()({Popup:!0,AnnotationPopup:!0,open:a,closed:!a,stylePopupOpen:R,"is-vertical":!!Ut||l,"is-horizontal":!Ut&&!l}),ref:m,"data-element":g.A.ANNOTATION_POPUP,style:$({},y)},function(){switch(!0){case R:return o.createElement(N.A,{annotations:[h],style:G,isOpen:a,onResize:z,isFreeText:_t,isEllipse:kt,isRedaction:Dt,isMeasure:It,colorMapKey:Ft,showLineStyleOptions:Mt,properties:Gt,hideSnapModeCheckbox:B,hasBackToMenu:l,onBackToMenu:U});case k:return o.createElement(F,{onClick:L,annotation:h,onDatePickerShow:_});case D:return o.createElement(H,{annotation:h});case Pt&&h instanceof window.Core.Annotations.Model3DAnnotation:return o.createElement("div",{className:"shortCuts3D"},o.createElement("div",{className:"closeButton",onClick:function(){return Ot(!1)}},"x"),o.createElement("div",{className:"row"},Et("action.rotate3D")," ",o.createElement("span",null,Et("shortcut.rotate3D"))),o.createElement("div",{className:"row"},Et("action.zoom")," ",o.createElement("span",null,Et("shortcut.zoom3D"))));default:return o.createElement(C.s,{locked:a&&Rt&&!u&&!c&&!s&&!p&&!_t&&!d},o.createElement("div",{className:"container"},o.createElement(I.A,{dataElement:g.A.ANNOTATION_POPUP,childrenClassName:"main-menu-button"},v&&o.createElement(T.A,{className:"main-menu-button",dataElement:"viewFileButton",label:l?"action.viewFile":"",title:l?"":"action.viewFile",img:"icon-view",onClick:w}),b&&o.createElement(T.A,{className:"main-menu-button",dataElement:"annotationCommentButton",label:l?St:"",title:l?"":St,img:Ct,onClick:x}),M&&o.createElement(T.A,{className:"main-menu-button",dataElement:"annotationStyleEditButton",label:l?"action.style":"",title:l?"":"action.style",img:"icon-menu-style-line",onClick:vt?wt:j}),W&&o.createElement(T.A,{className:"main-menu-button",dataElement:"annotationContentEditButton",label:l?"action.edit":"",title:l?"":"action.edit",img:"ic_edit_page_24px",onClick:Y}),X&&o.createElement(T.A,{className:"main-menu-button",dataElement:"annotationClearSignatureButton",label:Ut?"action.readOnlySignature":l?"action.clearSignature":"",title:Ut?"action.readOnlySignature":l?"":"action.clearSignature",img:Ut?"":"icon-delete-line",onClick:Q,isNotClickableSelector:function(){return Ut}}),Z&&o.createElement(T.A,{className:"main-menu-button",dataElement:"annotationRedactButton",label:l?"action.apply":"",title:l?"":"action.apply",img:"ic_check_black_24px",onClick:tt}),et&&o.createElement(T.A,{className:"main-menu-button",dataElement:"annotationGroupButton",label:l?"action.group":"",title:l?"":"action.group",img:"group-annotations-icon",onClick:nt}),ot&&o.createElement(T.A,{className:"main-menu-button",dataElement:"annotationUngroupButton",label:l?"action.ungroup":"",title:l?"":"action.ungroup",img:"ungroup-annotations-icon",onClick:it}),A&&!i&&o.createElement(T.A,{className:"main-menu-button",dataElement:"openAlignmentButton",label:l?"alignment":"",title:l?"":"Align",img:"ic-alignment-main",onClick:bt}),rt&&o.createElement(T.A,{className:"main-menu-button",dataElement:"formFieldEditButton",label:l?"action.formFieldEdit":"",title:l?"":"action.formFieldEdit",img:"icon-edit-form-field",onClick:at}),lt&&o.createElement(T.A,{className:"main-menu-button",dataElement:"annotationDeleteButton",label:l?"action.delete":"",title:l?"":"action.delete",img:"icon-delete-line",onClick:jt?V:ct}),yt&&o.createElement(T.A,{className:"main-menu-button",dataElement:g.A.CALIBRATION_POPUP_BUTTON,label:l?"action.calibrate":"",title:l?"":"action.calibrate",img:"calibrate",onClick:At}),ut&&o.createElement(T.A,{className:"main-menu-button",dataElement:"linkButton",label:l?"tool.Link":"",title:l?"":"tool.Link",img:st?"icon-tool-unlink":"icon-tool-link",onClick:pt}),dt&&o.createElement(T.A,{className:"main-menu-button",dataElement:"fileAttachmentDownload",label:l?"action.fileAttachmentDownload":"",title:l?"":"action.fileAttachmentDownload",img:"icon-download",onClick:function(){return ft(h)}}),Tt&&o.createElement(T.A,{className:"main-menu-button",dataElement:"shortCutKeysFor3D",label:l?"action.viewShortCutKeysFor3D":"",title:l?"":"action.viewShortCutKeysFor3D",img:"icon-keyboard",onClick:function(){return Ot(!0)}}),ht&&o.createElement(T.A,{className:"main-menu-button",dataElement:"playSoundButton",label:l?"action.playAudio":"",title:l?"":"action.playAudio",img:"ic_play_24px",onClick:function(){return mt(h)}}))))}}());return r||i?ne:o.createElement(P(),{cancel:".Button, .cell, .sliders-container svg, select, button, input"},ne)};et.propTypes=tt;const nt=et;var ot=n(96763);function it(t){return it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},it(t)}function rt(){rt=function(){return e};var t,e={},n=Object.prototype,o=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",l=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function s(t,e,n,o){var r=e&&e.prototype instanceof A?e:A,a=Object.create(r.prototype),l=new k(o||[]);return i(a,"_invoke",{value:S(t,n,l)}),a}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var d="suspendedStart",f="suspendedYield",h="executing",m="completed",y={};function A(){}function v(){}function w(){}var g={};u(g,a,(function(){return this}));var b=Object.getPrototypeOf,E=b&&b(b(L([])));E&&E!==n&&o.call(E,a)&&(g=E);var x=w.prototype=A.prototype=Object.create(g);function P(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function n(i,r,a,l){var c=p(t[i],t,r);if("throw"!==c.type){var u=c.arg,s=u.value;return s&&"object"==it(s)&&o.call(s,"__await")?e.resolve(s.__await).then((function(t){n("next",t,a,l)}),(function(t){n("throw",t,a,l)})):e.resolve(s).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,l)}))}l(c.arg)}var r;i(this,"_invoke",{value:function(t,o){function i(){return new e((function(e,i){n(t,o,e,i)}))}return r=r?r.then(i,i):i()}})}function S(e,n,o){var i=d;return function(r,a){if(i===h)throw Error("Generator is already running");if(i===m){if("throw"===r)throw a;return{value:t,done:!0}}for(o.method=r,o.arg=a;;){var l=o.delegate;if(l){var c=C(l,o);if(c){if(c===y)continue;return c}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(i===d)throw i=m,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);i=h;var u=p(e,n,o);if("normal"===u.type){if(i=o.done?m:f,u.arg===y)continue;return{value:u.arg,done:o.done}}"throw"===u.type&&(i=m,o.method="throw",o.arg=u.arg)}}}function C(e,n){var o=n.method,i=e.iterator[o];if(i===t)return n.delegate=null,"throw"===o&&e.iterator.return&&(n.method="return",n.arg=t,C(e,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+o+"' method")),y;var r=p(i,e.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,y;var a=r.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function N(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function L(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,r=function n(){for(;++i<e.length;)if(o.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return r.next=r}}throw new TypeError(it(e)+" is not iterable")}return v.prototype=w,i(x,"constructor",{value:w,configurable:!0}),i(w,"constructor",{value:v,configurable:!0}),v.displayName=u(w,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,u(t,c,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},P(O.prototype),u(O.prototype,l,(function(){return this})),e.AsyncIterator=O,e.async=function(t,n,o,i,r){void 0===r&&(r=Promise);var a=new O(s(t,n,o,i),r);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},P(x),u(x,c,"Generator"),u(x,a,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var o in e)n.push(o);return n.reverse(),function t(){for(;n.length;){var o=n.pop();if(o in e)return t.value=o,t.done=!1,t}return t.done=!0,t}},e.values=L,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(o,i){return l.type="throw",l.arg=e,n.next=o,i&&(n.method="next",n.arg=t),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],l=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=o.call(a,"catchLoc"),u=o.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&o.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=t,a.arg=e,r?(this.method="next",this.next=r.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),N(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var o=n.completion;if("throw"===o.type){var i=o.arg;N(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,o){return this.delegate={iterator:L(e),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=t),y}},e}function at(t,e,n,o,i,r,a){try{var l=t[r](a),c=l.value}catch(t){return void n(t)}l.done?e(c):Promise.resolve(c).then(o,i)}function lt(t){return function(){var e=this,n=arguments;return new Promise((function(o,i){var r=t.apply(e,n);function a(t){at(r,o,i,a,l,"next",t)}function l(t){at(r,o,i,a,l,"throw",t)}a(void 0)}))}}function ct(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var o,i,r,a,l=[],c=!0,u=!1;try{if(r=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=r.call(n)).done)&&(l.push(o.value),l.length!==e);c=!0);}catch(t){u=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,e)||function(t,e){if(t){if("string"==typeof t)return ut(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ut(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ut(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}var st=window.Core.Tools.ToolNames,pt=window.Core.Annotations,dt={focusedAnnotation:a().object,selectedMultipleAnnotations:a().bool,canModify:a().bool,focusedAnnotationStyle:a().object,isStylePopupOpen:a().bool,setIsStylePopupOpen:a().func,isDatePickerOpen:a().bool,setDatePickerOpen:a().func,isDatePickerMount:a().bool,setDatePickerMount:a().func,hasAssociatedLink:a().bool,includesFormFieldAnnotation:a().bool,stylePopupRepositionFlag:a().bool,setStylePopupRepositionFlag:a().func,closePopup:a().func},ft=function t(e){var n=e.focusedAnnotation,r=e.selectedMultipleAnnotations,a=e.canModify,l=e.focusedAnnotationStyle,x=e.isStylePopupOpen,P=e.setIsStylePopupOpen,O=e.isDatePickerOpen,S=e.setDatePickerOpen,C=e.isDatePickerMount,T=e.setDatePickerMount,N=e.hasAssociatedLink,k=e.includesFormFieldAnnotation,L=e.stylePopupRepositionFlag,_=e.setStylePopupRepositionFlag,D=e.closePopup,F=ct((0,i.d4)((function(t){return[w.A.isElementDisabled(t,g.A.ANNOTATION_POPUP),w.A.isElementOpen(t,g.A.ANNOTATION_POPUP),w.A.isElementOpen(t,g.A.CONTEXT_MENU_POPUP),w.A.isRightClickAnnotationPopupEnabled(t),w.A.isElementDisabled(t,g.A.NOTES_PANEL),w.A.isElementDisabled(t,g.A.ANNOTATION_STYLE_POPUP),w.A.isElementDisabled(t,g.A.INLINE_COMMENT_POPUP),w.A.isElementOpen(t,g.A.NOTES_PANEL),w.A.isElementOpen(t,g.A.LINK_MODAL),w.A.isElementOpen(t,g.A.WARNING_MODAL),w.A.isElementOpen(t,"richTextPopup"),w.A.getIsMultiTab(t),w.A.getTabManager(t),w.A.getTabs(t),w.A.getNotesInLeftPanel(t),w.A.isElementOpen(t,g.A.LEFT_PANEL),w.A.getActiveLeftPanel(t),w.A.getActiveDocumentViewerKey(t),w.A.isAnyCustomPanelOpen(t),w.A.getFeatureFlags(t),w.A.isElementOpen(t,g.A.STYLE_PANEL),w.A.isElementDisabled(t,g.A.STYLE_PANEL)]}),i.bN),22),I=F[0],M=F[1],R=F[2],B=F[3],j=F[4],U=F[5],G=F[6],z=F[7],W=F[8],Y=F[9],V=F[10],H=F[11],K=F[12],q=F[13],X=F[14],Q=F[15],$=F[16],J=F[17],Z=F[18],tt=F[19],et=F[20],it=F[21],at=ct((0,f.B)(),1)[0],ut=(0,i.wA)(),dt=ct((0,o.useState)({left:0,top:0}),2),ft=dt[0],ht=dt[1],mt=ct((0,o.useState)(!1),2),yt=mt[0],At=mt[1],vt=(0,o.useRef)(),wt=!B||u.A.isAnnotationSelected(n,J),gt=u.A.getAnnotationManager(J),bt=z||X&&Q&&"notesPanel"===$||Z,Et=tt.customizableUI;(0,A.A)(vt,(0,o.useCallback)((function(t){var e,n=(0,E.Ay)().querySelector('[data-element="'.concat(g.A.NOTES_PANEL,'"]')),o=null==n?void 0:n.contains(t.target),i=null===(e=(0,E.Ay)().querySelector(".LinkModal.open"))||void 0===e?void 0:e.contains(t.target),r=(0,h.nz)(),a=(0,h.pb)(),l=(0,h.nK)();o||i||a||l||r||(B?D():ut(v.A.closeElement(g.A.ANNOTATION_POPUP)))}),[B]));var xt=c()((function(){t&&vt.current&&ht((0,s.FL)(n,vt,J))}),16,{trailing:!0,leading:!1});(0,o.useEffect)((function(){return window.addEventListener("resize",xt),function(){window.removeEventListener("resize",xt)}}),[]),(0,o.useLayoutEffect)((function(){(n||x||C)&&xt()}),[n,x,C,a,J]),(0,o.useEffect)((function(){n&&n.ToolName===st.CALIBRATION_MEASUREMENT&&At(!0)}),[n]),(0,o.useEffect)((function(){(M||V)&&ut(v.A.closeElement(g.A.INLINE_COMMENT_POPUP))}),[M,V]);var Pt=(0,y.A)("webviewerServerURL",null)?window.Core.SupportedFileFormats.SERVER:window.Core.SupportedFileFormats.CLIENT,Ot=n instanceof pt.FileAttachmentAnnotation&&H&&Pt.includes(window.Core.mimeTypeToExtension[n.getFileMetadata().mimeType]),St=(0,o.useCallback)(lt(rt().mark((function t(){var e,o;return rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(K&&H){t.next=2;break}return t.abrupt("return",ot.warn("Can't open file in non-multi-tab mode"));case 2:if(e=n.getFileMetadata(),!(o=q.find((function(t){return t.options.filename===e.filename})))){t.next=8;break}return t.next=7,K.setActiveTab(o.id,!0);case 7:return t.abrupt("return");case 8:return t.t0=K,t.next=11,n.getFileData();case 11:return t.t1=t.sent,t.t2={extension:window.Core.mimeTypeToExtension[e.mimeType],filename:e.filename,saveCurrentActiveTabState:!0,setActive:!0},t.next=15,t.t0.addTab.call(t.t0,t.t1,t.t2);case 15:case"end":return t.stop()}}),t)}))),[K,n,q,H]);if(I||!n)return null;var Ct=u.A.getSelectedAnnotations(J),Tt=Ct.length,Nt=Tt>1,kt=n instanceof pt.FreeTextAnnotation&&!!n.getDateFormat()&&u.A.canModifyContents(n,J),Lt=u.A.getNumberOfGroups(Ct,J),_t=Lt>1,Dt=1===Lt&&Tt>1&&wt,Ft=n instanceof pt.SignatureWidgetAnnotation&&n.isSignedByAppearance(),It=u.A.getIsReadOnly(),Mt=(!j||!G)&&(!Nt||Nt&&!wt)&&n.ToolName!==st.CROP&&!k&&!n.isContentEditPlaceholder()&&!n.isUncommittedContentEditPlaceholder()&&!Ft,Rt=Object.keys(l).length>0,Bt=[st.CROP,st.RADIO_FORM_FIELD,st.CHECK_BOX_FIELD,st.VIDEO_REDACTION,st.VIDEO_AND_AUDIO_REDACTION,st.AUDIO_REDACTION],jt=a&&Rt&&(!U||Et)&&(!Nt||Dt||Nt&&!wt)&&!Bt.includes(n.ToolName)&&!(n instanceof pt.Model3DAnnotation)&&!n.isContentEditPlaceholder()&&!n.isUncommittedContentEditPlaceholder()&&!Ft,Ut=n instanceof pt.EllipseAnnotation||!u.A.isFullPDFEnabled(),Gt=n.isContentEditPlaceholder()&&n.getContentEditType()===window.Core.ContentEdit.Types.TEXT,zt=function(){var t=lt(rt().mark((function t(){return rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:gt.trigger("annotationDoubleClicked",n),ut(v.A.closeElement(g.A.ANNOTATION_POPUP));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Wt=u.A.isAnnotationRedactable(n,J)&&!Nt&&!k,Yt=Ct.find((function(t){return!t.InReplyTo})),Vt=a&&wt&&_t&&!k,Ht=Dt,Kt=u.A.getFormFieldCreationManager(J).isInFormFieldCreationMode(),qt=k&&Kt,Xt=a,Qt=function(){wt?u.A.deleteAnnotations(u.A.getSelectedAnnotations(J),void 0,J):u.A.deleteAnnotations([n],void 0,J),D()},$t=!([st.CROP,st.SIGNATURE,st.REDACTION,st.REDACTION2,st.REDACTION3,st.REDACTION4,st.STICKY,st.STICKY2,st.STICKY3,st.STICKY4].includes(n.ToolName)||k||n.isContentEditPlaceholder()||n instanceof pt.SoundAnnotation||n.isUncommittedContentEditPlaceholder()||Ft),Jt=a&&n.Measure&&n instanceof pt.LineAnnotation,Zt=n instanceof pt.FileAttachmentAnnotation,te=!d.lT&&!r&&n instanceof pt.SoundAnnotation&&n.hasAudioData();return o.createElement(nt,{isMobile:(0,d.Fr)(),isIE:d.lT,isOpen:M,isRightClickMenu:B,isNotesPanelOpenOrActive:bt,isRichTextPopupOpen:V,isLinkModalOpen:W,isWarningModalOpen:Y,isContextMenuPopupOpen:R,popupRef:vt,position:ft,focusedAnnotation:n,multipleAnnotationsSelected:Nt,showViewFileButton:Ot,onViewFile:St,showCommentButton:Mt,onCommentAnnotation:function(){if(kt)S(!0);else{ut(v.A.closeElement("searchPanel")),ut(v.A.closeElement("redactionPanel"));var t=u.A.getContentEditManager(J);t.isInContentEditMode()&&(ut(v.A.closeElement("textEditingPanel")),t.endContentEditMode()),ut(v.A.triggerNoteEditing()),G?(ut(v.A.openElement(g.A.NOTES_PANEL)),ut(v.A.closeElement(g.A.ANNOTATION_POPUP))):(z||ut(v.A.openElement(g.A.INLINE_COMMENT_POPUP)),D())}},isDateFreeTextCanEdit:kt,isDatePickerOpen:O,handleDateChange:function(t){gt.setNoteContents(n,t),gt.updateAnnotation(n)},onDatePickerShow:function(t){T(t)},isCalibrationPopupOpen:yt,showEditStyleButton:jt,isStylePopupOpen:x,hideSnapModeCheckbox:Ut,openEditStylePopup:function(){return P(!0)},closeEditStylePopup:function(){return P(!1)},annotationStyle:l,onResize:function(){_(!L)},showContentEditButton:Gt,onEditContent:zt,openContentEditDeleteWarningModal:function(){var t={message:at("option.contentEdit.deletionModal.message"),title:at("option.contentEdit.deletionModal.title"),confirmBtnText:at("action.ok"),onConfirm:function(){return Qt()}};ut(v.A.showWarningMessage(t))},isAppearanceSignature:Ft,onClearAppearanceSignature:function(){n.clearSignature(gt),ut(v.A.closeElement(g.A.ANNOTATION_POPUP))},showRedactionButton:Wt,onApplyRedaction:function(){ut((0,p.A)(n,void 0,J)),ut(v.A.closeElement(g.A.ANNOTATION_POPUP))},showGroupButton:Vt,onGroupAnnotations:function(){u.A.groupAnnotations(Yt,Ct,J)},showUngroupButton:Ht,onUngroupAnnotations:function(){u.A.ungroupAnnotations(Ct,J)},showFormFieldButton:qt,onOpenFormField:function(){D(),ut(v.A.disableElement(g.A.ANNOTATION_POPUP,b.sg)),ut(v.A.openElement(g.A.FORM_FIELD_EDIT_POPUP))},showDeleteButton:Xt,onDeleteAnnotation:Qt,showLinkButton:$t,hasAssociatedLink:N,linkAnnotationToURL:function(){N?((wt?Ct:[n]).forEach((function(t){(0,m.A)(t).forEach((function(e,n){gt.ungroupAnnotations([e]),t instanceof pt.TextHighlightAnnotation&&0===t.Opacity&&0===n?gt.deleteAnnotations([t,e],null,!0):gt.deleteAnnotation(e,null,!0)}))})),D()):ut(v.A.openElement(g.A.LINK_MODAL))},showFileDownloadButton:Zt,downloadFileAttachment:function(t){gt.trigger("annotationDoubleClicked",t)},showAudioPlayButton:te,handlePlaySound:function(t){ut(v.A.setActiveSoundAnnotation(t)),ut(v.A.triggerResetAudioPlaybackPosition(!0)),ut(v.A.openElement("audioPlaybackPopup"))},showCalibrateButton:Jt,onOpenCalibration:function(){ut(v.A.closeElement(g.A.ANNOTATION_POPUP)),ut(v.A.openElement(g.A.CALIBRATION_MODAL))},customizableUI:Et,openStylePanel:function(){et||it||ut(v.A.openElement(g.A.STYLE_PANEL)),D()},isStylePanelOpen:et,isInReadOnlyMode:It,onOpenAlignmentModal:function(){ut(v.A.openElement(g.A.ANNOTATION_ALIGNMENT_POPUP)),D()}})};ft.propTypes=dt;const ht=ft},54030:(t,e,n)=>{"use strict";n.d(e,{A:()=>s}),n(5086),n(69193);var o=n(28854),i=n(47127),r=n(26247),a=n(15052),l=n(73086),c=n(96763);function u(){}const s=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return function(i){return o.A.isWebViewerServerDocument()?p(t,i,n):d(t,e,i,n)}};var p=function(t,e,n){return o.A.applyRedactions(t,n).then((function(t){if(t&&t.url)return(0,l.A)(e,{filename:"redacted.pdf",includeAnnotations:!0,externalURL:t.url});c.warn("WebViewer Server did not return a valid result")}))},d=function(t,e,n,l){var c={message:i.A.t("warning.redaction.applyMessage"),title:i.A.t("warning.redaction.applyTile"),confirmBtnText:i.A.t("action.apply"),onConfirm:function(){return o.A.applyRedactions(t,l).then((function(){e()})).catch((function(t){return(0,a.R)(t)})),Promise.resolve()}};return n(r.A.showWarningMessage(c))}},18543:(t,e,n)=>{(e=n(76314)(!1)).push([t.id,".open.AnnotationPopup{visibility:visible}.closed.AnnotationPopup{visibility:hidden}:host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.AnnotationPopup{position:absolute;z-index:70;display:flex;justify-content:center;align-items:center}.AnnotationPopup:empty{padding:0}.AnnotationPopup .buttons{display:flex}.AnnotationPopup .Button{margin:4px;width:32px;height:32px}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .AnnotationPopup .Button{width:42px;height:42px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .AnnotationPopup .Button{width:42px;height:42px}}.AnnotationPopup .Button:hover{background:var(--popup-button-hover)}.AnnotationPopup .Button .Icon{width:18px;height:18px}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .AnnotationPopup .Button .Icon{width:24px;height:24px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .AnnotationPopup .Button .Icon{width:24px;height:24px}}.is-vertical.AnnotationPopup .Button.main-menu-button{width:100%;border-radius:0;justify-content:flex-start;padding-left:var(--padding-small);padding-right:var(--padding-small);margin:0 0 var(--padding-tiny) 0}.is-vertical.AnnotationPopup .Button.main-menu-button:first-child{margin-top:var(--padding-tiny)}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .is-vertical.AnnotationPopup .Button.main-menu-button{width:100%;height:32px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .is-vertical.AnnotationPopup .Button.main-menu-button{width:100%;height:32px}}.is-vertical.AnnotationPopup .Button.main-menu-button .Icon{margin-right:10px}.is-vertical.AnnotationPopup .Button.main-menu-button span{white-space:nowrap}@keyframes bottom-up{0%{transform:translateY(100%)}to{transform:translateY(0)}}@keyframes up-bottom{0%{transform:translateY(0)}to{transform:translateY(100%)}}.AnnotationPopup{position:fixed;border-radius:4px;box-shadow:0 0 3px 0 var(--document-box-shadow);background:var(--component-background)}.AnnotationPopup.is-horizontal .container{display:inherit}.AnnotationPopup.is-vertical{flex-direction:column;align-items:flex-start}.shortCuts3D{position:relative}.shortCuts3D .closeButton{position:absolute;right:4px;padding:2px;cursor:pointer;width:20px;text-align:center}.shortCuts3D .row{padding:4px 0;margin:8px 26px 8px 16px}.shortCuts3D .row span{background:#e7ebee;padding:4px 8px;border-radius:4px}",""]),e.locals={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"},t.exports=e},29705:(t,e,n)=>{(e=n(76314)(!1)).push([t.id,":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}@keyframes bottom-up{0%{transform:translateY(100%)}to{transform:translateY(0)}}@keyframes up-bottom{0%{transform:translateY(0)}to{transform:translateY(100%)}}.CalibrationPopup{display:flex;flex-direction:column;align-items:flex-start;padding:12px;width:220px;height:84px;background:var(--gray-0);box-shadow:0 0 3px var(--gray-7);border-radius:4px}.CalibrationPopup .pop-switch{margin-top:12px}.CalibrationPopup .pop-switch.ui__choice--disabled .ui__choice__label{color:var(--gray-5)}.CalibrationPopup .input-container{display:flex;flex-direction:row;justify-content:space-between;align-items:flex-start;width:196px;height:32px}.CalibrationPopup .input-container .input-field{width:94px;height:32px}.CalibrationPopup .input-container .input-field.invalid-value{border-color:red}.CalibrationPopup .input-container .input-field .Dropdown__wrapper{width:100%;height:100%}.CalibrationPopup .input-container .input-field .Dropdown__wrapper .Dropdown{height:100%;text-align:left}.CalibrationPopup .input-container .input-field .Dropdown__wrapper .Dropdown__items{width:100%}",""]),e.locals={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"},t.exports=e},12734:(t,e,n)=>{var o=n(85072),i=n(18543);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.id,i,""]]),o(i,{insert:function(t){if(!window.isApryseWebViewerWebComponent)return void document.head.appendChild(t);let e;e=document.getElementsByTagName("apryse-webviewer"),e.length||(e=function t(e,n=document){const o=[];return n.querySelectorAll(e).forEach((t=>o.push(t))),n.querySelectorAll("*").forEach((n=>{n.shadowRoot&&o.push(...t(e,n.shadowRoot))})),o}("apryse-webviewer"));const n=[];for(let o=0;o<e.length;o++){const i=e[o];if(0===o)i.shadowRoot.appendChild(t),t.onload=function(){n.length>0&&n.forEach((e=>{e.innerHTML=t.innerHTML}))};else{const e=t.cloneNode(!0);i.shadowRoot.appendChild(e),n.push(e)}}},singleton:!1}),t.exports=i.locals||{}},79560:(t,e,n)=>{var o=n(85072),i=n(29705);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.id,i,""]]),o(i,{insert:function(t){if(!window.isApryseWebViewerWebComponent)return void document.head.appendChild(t);let e;e=document.getElementsByTagName("apryse-webviewer"),e.length||(e=function t(e,n=document){const o=[];return n.querySelectorAll(e).forEach((t=>o.push(t))),n.querySelectorAll("*").forEach((n=>{n.shadowRoot&&o.push(...t(e,n.shadowRoot))})),o}("apryse-webviewer"));const n=[];for(let o=0;o<e.length;o++){const i=e[o];if(0===o)i.shadowRoot.appendChild(t),t.onload=function(){n.length>0&&n.forEach((e=>{e.innerHTML=t.innerHTML}))};else{const e=t.cloneNode(!0);i.shadowRoot.appendChild(e),n.push(e)}}},singleton:!1}),t.exports=i.locals||{}}}]);
//# sourceMappingURL=7822.chunk.js.map