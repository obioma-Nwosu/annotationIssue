{"version":3,"file":"chunks/6140.chunk.js","mappings":"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","sources":["webpack://webviewer-ui/./src/components/SignatureValidationModal/SignatureValidationModal.js","webpack://webviewer-ui/./src/components/SignatureValidationModal/index.js","webpack://webviewer-ui/./src/components/SignatureValidationModal/SignatureValidationModal.scss","webpack://webviewer-ui/./src/components/SignatureValidationModal/SignatureValidationModal.scss?8fbe"],"sourcesContent":["import React, { useRef, useEffect } from 'react';\r\nimport { useDispatch, useSelector, shallowEqual } from 'react-redux';\r\nimport { useTranslation } from 'react-i18next';\r\nimport classNames from 'classnames';\r\nimport selectors from 'selectors';\r\nimport DataElements from 'constants/dataElement';\r\n\r\nimport {\r\n  renderPermissionStatus,\r\n  Spinner,\r\n} from 'components/SignaturePanel';\r\nimport SignatureIcon from 'components/SignaturePanel/SignatureIcon';\r\nimport useOnClickOutside from 'hooks/useOnClickOutside';\r\n\r\nimport actions from 'actions';\r\n\r\nimport './SignatureValidationModal.scss';\r\n\r\nconst SignatureValidationModal = () => {\r\n  const containerRef = useRef();\r\n  const [translate] = useTranslation();\r\n\r\n  const [isOpen, verificationResult] = useSelector(\r\n    (state) => {\r\n      const { validationModalWidgetName } = state.digitalSignatureValidation;\r\n      return [\r\n        selectors.isElementOpen(state, DataElements.SIGNATURE_VALIDATION_MODAL),\r\n        selectors.getVerificationResult(state, validationModalWidgetName),\r\n      ];\r\n    },\r\n    shallowEqual,\r\n  );\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const closeModal = () => {\r\n    dispatch(actions.closeElements([DataElements.SIGNATURE_VALIDATION_MODAL]));\r\n  };\r\n\r\n  useOnClickOutside(containerRef, closeModal);\r\n\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      dispatch(\r\n        actions.closeElements([\r\n          DataElements.SIGNATURE_MODAL,\r\n          DataElements.LOADING_MODAL,\r\n          DataElements.PRINT_MODAL,\r\n          DataElements.ERROR_MODAL,\r\n          DataElements.PASSWORD_MODAL,\r\n        ])\r\n      );\r\n    }\r\n  }, [dispatch, isOpen]);\r\n\r\n  /**\r\n   * @todo Figure out if this useEffect is still needed? Component appears to be\r\n   * operating normally without it.\r\n   */\r\n  /*\r\n  useEffect(() => {\r\n    const onDigitalSignatureAvailable = widget => {\r\n      setWidgetName(widget.getField().name);\r\n      dispatch(actions.openElements(['signatureValidationModal']));\r\n    };\r\n\r\n    core.addEventListener(\r\n      'digitalSignatureAvailable',\r\n      onDigitalSignatureAvailable,\r\n    );\r\n    return () => core.removeEventListener(\r\n      'digitalSignatureAvailable',\r\n      onDigitalSignatureAvailable,\r\n    );\r\n  }, [dispatch]);\r\n  */\r\n\r\n  const {\r\n    badgeIcon,\r\n    verificationStatus,\r\n    permissionStatus,\r\n    isCertification,\r\n    documentPermission,\r\n    trustVerificationResultString,\r\n    timeOfTrustVerificationEnum,\r\n    trustVerificationTime,\r\n    digestAlgorithm,\r\n    digestStatus,\r\n    documentStatus,\r\n    trustStatus,\r\n    signerName,\r\n  } = verificationResult;\r\n  const {\r\n    DigestAlgorithm,\r\n    DigitalSignatureField,\r\n    VerificationOptions,\r\n    VerificationResult,\r\n  } = window.Core.PDFNet;\r\n  const {\r\n    ModificationPermissionsStatus,\r\n    TrustStatus,\r\n    DigestStatus,\r\n    DocumentStatus,\r\n  } = VerificationResult;\r\n  const { TimeMode } = VerificationOptions;\r\n\r\n  const renderHeader = () => {\r\n    let status;\r\n    switch (badgeIcon) {\r\n      case 'digital_signature_valid':\r\n        status = translate('digitalSignatureModal.valid');\r\n        break;\r\n      case 'digital_signature_warning':\r\n        status = translate('digitalSignatureModal.unknown');\r\n        break;\r\n      case 'digital_signature_error':\r\n        status = translate('digitalSignatureModal.invalid');\r\n        break;\r\n      default:\r\n        status = translate('digitalSignatureModal.unknown');\r\n    }\r\n\r\n    const typeCapitalized = isCertification\r\n      ? translate('digitalSignatureModal.Certification')\r\n      : translate('digitalSignatureModal.Signature');\r\n\r\n    const type = isCertification\r\n      ? translate('digitalSignatureModal.certification')\r\n      : translate('digitalSignatureModal.signature');\r\n\r\n    return (\r\n      <div>\r\n        <div className=\"validation-header\">\r\n          {translate('digitalSignatureModal.title', { type: typeCapitalized })}\r\n        </div>\r\n        <div className=\"summary-box\">\r\n          <SignatureIcon badge={badgeIcon} size=\"medium\"/>\r\n          <div>\r\n            {\r\n              translate(\r\n                'digitalSignatureModal.summaryBox.summary',\r\n                {\r\n                  type,\r\n                  status,\r\n                }\r\n              )\r\n            }\r\n            {\r\n              badgeIcon === 'digital_signature_valid'\r\n                ? translate(\r\n                  'digitalSignatureModal.summaryBox.signedBy',\r\n                  {\r\n                    name: signerName || translate('digitalSignatureModal.unknown'),\r\n                    interpolation: { escapeValue: false }\r\n                  },\r\n                ) : ''\r\n            }\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  /**\r\n   * Returns a message in a <p> tag corresponding to the enum value of\r\n   * documentPermission, which originates from the invocation of\r\n   * PDFNet.DigitalSignatureField.getDocumentPermissions\r\n   */\r\n  const renderDocumentPermission = () => {\r\n    if (!documentPermission) {\r\n      return;\r\n    }\r\n\r\n    let content = '';\r\n    const editor = isCertification ? 'certifier' : 'signer';\r\n\r\n    switch (documentPermission) {\r\n      case DigitalSignatureField.DocumentPermissions.e_no_changes_allowed:\r\n        content += translate('digitalSignatureModal.documentPermission.noChangesAllowed', { editor });\r\n        break;\r\n      case DigitalSignatureField.DocumentPermissions.e_formfilling_signing_allowed:\r\n        content += translate('digitalSignatureModal.documentPermission.formfillingSigningAllowed', { editor });\r\n        break;\r\n      case DigitalSignatureField.DocumentPermissions.e_annotating_formfilling_signing_allowed:\r\n        content += translate('digitalSignatureModal.documentPermission.annotatingFormfillingSigningAllowed', { editor });\r\n        break;\r\n      case DigitalSignatureField.DocumentPermissions.e_unrestricted:\r\n        content += translate('digitalSignatureModal.documentPermission.unrestricted', { editor });\r\n        break;\r\n    }\r\n\r\n    return <p>{content}</p>;\r\n  };\r\n\r\n  /**\r\n   * Returns a message in a <p> tag corresponding to the signature's trust\r\n   * verification result.\r\n   *\r\n   * If trustVerificationResultString is a falsy value (i.e. undefined, null or\r\n   * empty string), originating from the invocation of\r\n   * PDFNet.TrustVerificationResult.getResultString, then a message indicating\r\n   * no trust verification result is rendered.\r\n   *\r\n   * If a trust verification result is available, then the based on\r\n   * timeOfTrustVerificationEnum, which originates from the invocation of\r\n   * PDFNet.TrustVerificationResult.getTimeOfTrustVerificationEnum, an\r\n   * appropriate message is rendered\r\n   */\r\n  const renderTrustVerification = () => {\r\n    if (!trustVerificationResultString) {\r\n      return (\r\n        <p>{translate('digitalSignatureModal.trustVerification.none')}</p>\r\n      );\r\n    }\r\n\r\n    let content = '';\r\n    switch (timeOfTrustVerificationEnum) {\r\n      case (TimeMode.e_current):\r\n        content += translate(\r\n          'digitalSignatureModal.trustVerification.current',\r\n          { trustVerificationTime }\r\n        );\r\n        break;\r\n      case (TimeMode.e_signing):\r\n        content += translate(\r\n          'digitalSignatureModal.trustVerification.signing',\r\n          { trustVerificationTime }\r\n        );\r\n        break;\r\n      case (TimeMode.e_timestamp):\r\n        content += translate(\r\n          'digitalSignatureModal.trustVerification.timestamp',\r\n          { trustVerificationTime }\r\n        );\r\n        break;\r\n    }\r\n\r\n    return <p>{content}</p>;\r\n  };\r\n\r\n  /**\r\n   * Returns a message in a <p> tag corresponding to the signature's digest\r\n   * algorithm, which originates from the invocation of\r\n   * PDFNet.verificationResult.getDigestAlgorithm\r\n   */\r\n  const renderDigestAlgorithm = () => {\r\n    let content = translate('digitalSignatureModal.digestAlgorithm.preamble');\r\n\r\n    switch (digestAlgorithm) {\r\n      case DigestAlgorithm.Type.e_SHA1:\r\n        content += 'SHA1.';\r\n        break;\r\n      case DigestAlgorithm.Type.e_SHA256:\r\n        content += 'SHA256.';\r\n        break;\r\n      case DigestAlgorithm.Type.e_SHA384:\r\n        content += 'SHA384.';\r\n        break;\r\n      case DigestAlgorithm.Type.e_SHA512:\r\n        content += 'SHA512.';\r\n        break;\r\n      case DigestAlgorithm.Type.e_RIPEMD160:\r\n        content += 'RIPEMD160.';\r\n        break;\r\n      case DigestAlgorithm.Type.e_unknown_digest_algorithm:\r\n        content = translate('digitalSignatureModal.digestAlgorithm.unknown');\r\n        break;\r\n    }\r\n\r\n    return <p>{content}</p>;\r\n  };\r\n\r\n  /**\r\n   * Returns a message in a <p> tag corresponding to the boolean trust status of\r\n   * the signature, which originates from evaluating whether or not the value of\r\n   * PDFNet.verificationResult.getTrustStatus is set to the enum\r\n   * PDFNet.verificationResult.trustStatus.e_trust_verified\r\n   *\r\n   * Intentionally an un-used function, as @rdjericpdftron has noted that it\r\n   * is superfluous, but the method has been left behind in-case it could be\r\n   * leveraged in the future\r\n   */\r\n  /*\r\n  const renderSignerIdentityValidity = () => {\r\n    let content = translate('digitalSignatureModal.signerIdentity.preamble');\r\n    if (validSignerIdentity) {\r\n      content += translate('digitalSignatureModal.signerIdentity.valid');\r\n    } else {\r\n      content += translate('digitalSignatureModal.signerIdentity.unknown');\r\n    }\r\n    return <p>{content}</p>;\r\n  };\r\n  */\r\n\r\n  const renderDocumentStatus = () => {\r\n    let content;\r\n\r\n    switch (documentStatus) {\r\n      case DocumentStatus.e_no_error:\r\n        content = translate(\r\n          'digitalSignatureVerification.documentStatus.noError'\r\n        );\r\n        break;\r\n      case DocumentStatus.e_corrupt_file:\r\n        content = translate(\r\n          'digitalSignatureVerification.documentStatus.corruptFile'\r\n        );\r\n        break;\r\n      case DocumentStatus.e_unsigned:\r\n        content = translate(\r\n          'digitalSignatureVerification.documentStatus.unsigned'\r\n        );\r\n        break;\r\n      case DocumentStatus.e_bad_byteranges:\r\n        content = translate(\r\n          'digitalSignatureVerification.documentStatus.badByteRanges'\r\n        );\r\n        break;\r\n      case DocumentStatus.e_corrupt_cryptographic_contents:\r\n        content = translate(\r\n          'digitalSignatureVerification.documentStatus.corruptCryptographicContents'\r\n        );\r\n        break;\r\n    }\r\n\r\n    return <p>{content}</p>;\r\n  };\r\n\r\n  const renderDigestStatus = () => {\r\n    let content;\r\n\r\n    switch (digestStatus) {\r\n      case DigestStatus.e_digest_invalid:\r\n        content = translate(\r\n          'digitalSignatureVerification.digestStatus.digestInvalid'\r\n        );\r\n        break;\r\n      case DigestStatus.e_digest_verified:\r\n        content = translate(\r\n          'digitalSignatureVerification.digestStatus.digestVerified'\r\n        );\r\n        break;\r\n      case DigestStatus.e_digest_verification_disabled:\r\n        content = translate(\r\n          'digitalSignatureVerification.digestStatus.digestVerificationDisabled'\r\n        );\r\n        break;\r\n      case DigestStatus.e_weak_digest_algorithm_but_digest_verifiable:\r\n        content = translate(\r\n          'digitalSignatureVerification.digestStatus.weakDigestAlgorithmButDigestVerifiable'\r\n        );\r\n        break;\r\n      case DigestStatus.e_no_digest_status:\r\n        content = translate(\r\n          'digitalSignatureVerification.digestStatus.noDigestStatus'\r\n        );\r\n        break;\r\n      case DigestStatus.e_unsupported_encoding:\r\n        content = translate(\r\n          'digitalSignatureVerification.digestStatus.unsupportedEncoding'\r\n        );\r\n        break;\r\n    }\r\n\r\n    return <p>{content}</p>;\r\n  };\r\n\r\n  const renderTrustStatus = () => {\r\n    const verificationType = isCertification\r\n      ? translate('digitalSignatureVerification.certifier')\r\n      : translate('digitalSignatureVerification.signer');\r\n    let content;\r\n\r\n    switch (trustStatus) {\r\n      case TrustStatus.e_trust_verified:\r\n        content = translate(\r\n          'digitalSignatureVerification.trustStatus.trustVerified',\r\n          { verificationType },\r\n        );\r\n        break;\r\n      case TrustStatus.e_untrusted:\r\n        content = translate(\r\n          'digitalSignatureVerification.trustStatus.untrusted'\r\n        );\r\n        break;\r\n      case TrustStatus.e_trust_verification_disabled:\r\n        content = translate(\r\n          'digitalSignatureVerification.trustStatus.trustVerificationDisabled'\r\n        );\r\n        break;\r\n      case TrustStatus.e_no_trust_status:\r\n        content = translate(\r\n          'digitalSignatureVerification.trustStatus.noTrustStatus'\r\n        );\r\n        break;\r\n    }\r\n\r\n    return <p>{content}</p>;\r\n  };\r\n\r\n  const renderDocumentIntegrityHeader = () => (\r\n    <p\r\n      className=\"header\"\r\n    >\r\n      {translate('digitalSignatureModal.header.documentIntegrity')}\r\n    </p>\r\n  );\r\n\r\n  const renderIdentitiesTrustHeader = () => (\r\n    <p\r\n      className=\"header\"\r\n    >\r\n      {translate('digitalSignatureModal.header.identitiesTrust')}\r\n    </p>\r\n  );\r\n\r\n  const renderGeneralErrorsHeader = () => (\r\n    <p\r\n      className=\"header\"\r\n    >\r\n      {translate('digitalSignatureModal.header.generalErrors')}\r\n    </p>\r\n  );\r\n\r\n  const renderDigestStatusHeader = () => (\r\n    <p\r\n      className=\"header\"\r\n    >\r\n      {translate('digitalSignatureModal.header.digestStatus')}\r\n    </p>\r\n  );\r\n\r\n  const renderModalBody = () => {\r\n    if (typeof verificationStatus === 'undefined') {\r\n      return (\r\n        <div className=\"center\">\r\n          <Spinner />\r\n        </div>\r\n      );\r\n    }\r\n    return (\r\n      <>\r\n        <div className=\"body\">\r\n          <div className=\"section\">\r\n            {renderDocumentIntegrityHeader()}\r\n            {\r\n              renderPermissionStatus({\r\n                isCertification,\r\n                ModificationPermissionsStatus,\r\n                permissionStatus,\r\n                translate,\r\n              })\r\n            }\r\n            {renderDocumentPermission()}\r\n          </div>\r\n          <div className=\"section\">\r\n            {renderIdentitiesTrustHeader()}\r\n            {renderTrustStatus()}\r\n            {renderTrustVerification()}\r\n          </div>\r\n          <div className=\"section\">\r\n            {renderGeneralErrorsHeader()}\r\n            {renderDocumentStatus()}\r\n          </div>\r\n          <div className=\"section\">\r\n            {renderDigestStatusHeader()}\r\n            {renderDigestStatus()}\r\n            {renderDigestAlgorithm()}\r\n          </div>\r\n        </div>\r\n        <div className=\"modal-footer\">\r\n          <button\r\n            className=\"close-modal-button\"\r\n            onClick={closeModal}\r\n          >\r\n            OK\r\n          </button>\r\n        </div>\r\n      </>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={classNames({\r\n        Modal: true,\r\n        SignatureValidationModal: true,\r\n        open: isOpen,\r\n        closed: !isOpen,\r\n      })}\r\n      data-element={DataElements.SIGNATURE_VALIDATION_MODAL}\r\n    >\r\n      <div className=\"container\" ref={containerRef}>\r\n        {renderHeader()}\r\n        {renderModalBody()}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SignatureValidationModal;\r\n","import SignatureValidationModal from './SignatureValidationModal';\r\n\r\nexport default SignatureValidationModal;\r\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".open.SignatureValidationModal{visibility:visible}.closed.SignatureValidationModal{visibility:hidden}:host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.SignatureValidationModal{position:fixed;left:0;bottom:0;z-index:100;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:var(--modal-negative-space)}.SignatureValidationModal .modal-container .wrapper .modal-content{padding:10px}.SignatureValidationModal .footer{display:flex;flex-direction:row;justify-content:flex-end;width:100%;margin-top:13px}.SignatureValidationModal .footer.modal-footer{padding:16px;margin:0;border-top:1px solid var(--divider)}.SignatureValidationModal .footer .modal-button{display:flex;justify-content:center;align-items:center;padding:6px 18px;margin:8px 0 0;width:auto;width:-moz-fit-content;width:fit-content;border-radius:4px;height:30px;cursor:pointer}.SignatureValidationModal .footer .modal-button.cancel{color:var(--secondary-button-text);border:1px solid var(--secondary-button-text)}.SignatureValidationModal .footer .modal-button.cancel:hover{background-color:var(--document-background-color);color:var(--secondary-button-hover);border:1px solid var(--secondary-button-hover)}.SignatureValidationModal .footer .modal-button.confirm{margin-left:4px;color:var(--primary-button-text);font-weight:600;background:var(--primary-button)}.SignatureValidationModal .footer .modal-button.confirm:hover{background:var(--primary-button-hover)}.SignatureValidationModal .footer .modal-button.confirm.disabled{background:var(--primary-button)!important;opacity:.5}.SignatureValidationModal .footer .modal-button.secondary-btn-custom{border-radius:4px;border:1px solid var(--primary-button);color:var(--primary-button);padding:2px 20px 4px;cursor:pointer;background-color:#fff}.SignatureValidationModal .footer .modal-button.secondary-btn-custom:hover{color:var(--secondary-button-hover)}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .SignatureValidationModal .footer .modal-button{padding:23px 8px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .SignatureValidationModal .footer .modal-button{padding:23px 8px}}.SignatureValidationModal .swipe-indicator{background:var(--divider);border-radius:2px;height:4px;width:38px;position:absolute;top:12px;margin-left:auto;margin-right:auto;left:0;right:0}@media(min-width:641px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .SignatureValidationModal .swipe-indicator{display:none}}@container (min-width: 641px){.App.is-web-component:not(.is-in-desktop-only-mode) .SignatureValidationModal .swipe-indicator{display:none}}.SignatureValidationModal .container{background:var(--component-background);overflow-y:auto;max-height:100%}@media(max-height:500px){.App:not(.is-web-component) .SignatureValidationModal .container,.SignatureValidationModal .App:not(.is-web-component) .container{overflow:auto;max-height:100%}}@container (max-height: 500px){.App.is-web-component .SignatureValidationModal .container,.SignatureValidationModal .App.is-web-component .container{overflow:auto;max-height:100%}}.SignatureValidationModal .container{display:flex;flex-direction:column;justify-content:space-around;border-radius:4px;box-shadow:0 0 3px 0 var(--document-box-shadow);min-width:350px;padding:20px;max-width:630px}.SignatureValidationModal .validation-header{position:relative;display:flex;justify-content:left;align-items:center;padding-bottom:20px;font-size:16px}.SignatureValidationModal .validation-header [data-element=signatureValidationModalCloseButton]{position:absolute;right:0}.SignatureValidationModal .validation-header [data-element=signatureValidationModalCloseButton]:hover{background:none}.SignatureValidationModal .summary-box{position:relative;display:flex;border:1px solid;border-color:var(--gray-4);border-radius:5px;padding:16px;font-weight:700}.SignatureValidationModal .summary-box>:not(:first-child){margin-left:8px}.SignatureValidationModal .validation-header-valid{background-color:#8dd88d}.SignatureValidationModal .validation-header-warning{background-color:#e2b719}.SignatureValidationModal .validation-header-error{background-color:#ff7979}.SignatureValidationModal .validation-header-unknown{background-color:#ddd}.SignatureValidationModal .body{margin-top:16px}.SignatureValidationModal div.body>div.section:first-child{margin-top:0}.SignatureValidationModal div.body>div.section{margin:16px;padding-bottom:16px;border-bottom:1px solid var(--gray-5)}.SignatureValidationModal div.body>div.section:last-child{margin-bottom:0}.SignatureValidationModal div.body>div.section>p{font-size:13px;margin:8px 0}.SignatureValidationModal div.body>div.section>p:last-child{margin:0}.SignatureValidationModal .header{font-weight:700}.SignatureValidationModal .modal-footer{display:flex;justify-content:flex-end;margin-top:32px}.SignatureValidationModal .modal-footer .close-modal-button{background:var(--primary-button);border:1px;border-color:var(--primary-button);border-radius:4px;padding:0 16px;height:32px;display:flex;align-items:center;justify-content:center;position:relative;color:var(--primary-button-text);cursor:pointer}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .SignatureValidationModal .modal-footer .close-modal-button{height:40px;width:128px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .SignatureValidationModal .modal-footer .close-modal-button{height:40px;width:128px}}.SignatureValidationModal .modal-footer .close-modal-button:hover{background:var(--primary-button-hover)}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"LEFT_HEADER_WIDTH\": \"41px\",\n\t\"RIGHT_HEADER_WIDTH\": \"41px\"\n};\nmodule.exports = exports;\n","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/postcss-loader/src/index.js??ruleSet[1].rules[1].use[2]!../../../node_modules/sass-loader/dist/cjs.js!./SignatureValidationModal.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\r\n                function findNestedWebComponents(tagName, root = document) {\r\n                  const elements = [];\r\n\r\n                  // Check direct children\r\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\r\n\r\n                  // Check shadow DOMs\r\n                  root.querySelectorAll('*').forEach(el => {\r\n                    if (el.shadowRoot) {\r\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\r\n                    }\r\n                  });\r\n\r\n                  return elements;\r\n                }\r\n                if (!window.isApryseWebViewerWebComponent) {\r\n                  document.head.appendChild(styleTag);\r\n                  return;\r\n                }\r\n\r\n                let webComponents;\r\n                // First we see if the webcomponent is at the document level\r\n                webComponents = document.getElementsByTagName('apryse-webviewer');\r\n                // If not, we check have to check if it is nested in another webcomponent\r\n                if (!webComponents.length) {\r\n                  webComponents = findNestedWebComponents('apryse-webviewer');\r\n                }\r\n                // Now we append the style tag to each webcomponent\r\n                const clonedStyleTags = [];\r\n                for (let i = 0; i < webComponents.length; i++) {\r\n                  const webComponent = webComponents[i];\r\n                  if (i === 0) {\r\n                    webComponent.shadowRoot.appendChild(styleTag);\r\n                    styleTag.onload = function () {\r\n                      if (clonedStyleTags.length > 0) {\r\n                        clonedStyleTags.forEach((styleNode) => {\r\n                          // eslint-disable-next-line no-unsanitized/property\r\n                          styleNode.innerHTML = styleTag.innerHTML;\r\n                        });\r\n                      }\r\n                    };\r\n                  } else {\r\n                    const styleNode = styleTag.cloneNode(true);\r\n                    webComponent.shadowRoot.appendChild(styleNode);\r\n                    clonedStyleTags.push(styleNode);\r\n                  }\r\n                }\r\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};"],"names":["containerRef","useRef","translate","_slicedToArray","useTranslation","_useSelector2","useSelector","state","validationModalWidgetName","digitalSignatureValidation","selectors","isElementOpen","DataElements","SIGNATURE_VALIDATION_MODAL","getVerificationResult","shallowEqual","isOpen","verificationResult","dispatch","useDispatch","closeModal","actions","closeElements","useOnClickOutside","useEffect","SIGNATURE_MODAL","LOADING_MODAL","PRINT_MODAL","ERROR_MODAL","PASSWORD_MODAL","badgeIcon","verificationStatus","permissionStatus","isCertification","documentPermission","trustVerificationResultString","timeOfTrustVerificationEnum","trustVerificationTime","digestAlgorithm","digestStatus","documentStatus","trustStatus","signerName","_window$Core$PDFNet","window","Core","PDFNet","DigestAlgorithm","DigitalSignatureField","VerificationOptions","VerificationResult","ModificationPermissionsStatus","TrustStatus","DigestStatus","DocumentStatus","TimeMode","React","className","classNames","Modal","SignatureValidationModal","open","closed","ref","status","typeCapitalized","type","SignatureIcon","badge","size","name","interpolation","escapeValue","renderHeader","Spinner","renderPermissionStatus","content","editor","DocumentPermissions","e_no_changes_allowed","e_formfilling_signing_allowed","e_annotating_formfilling_signing_allowed","e_unrestricted","renderDocumentPermission","verificationType","e_trust_verified","e_untrusted","e_trust_verification_disabled","e_no_trust_status","renderTrustStatus","e_current","e_signing","e_timestamp","renderTrustVerification","e_no_error","e_corrupt_file","e_unsigned","e_bad_byteranges","e_corrupt_cryptographic_contents","renderDocumentStatus","e_digest_invalid","e_digest_verified","e_digest_verification_disabled","e_weak_digest_algorithm_but_digest_verifiable","e_no_digest_status","e_unsupported_encoding","renderDigestStatus","Type","e_SHA1","e_SHA256","e_SHA384","e_SHA512","e_RIPEMD160","e_unknown_digest_algorithm","renderDigestAlgorithm","onClick","exports","___CSS_LOADER_API_IMPORT___","push","module","id","locals","api","__esModule","default","options","styleTag","isApryseWebViewerWebComponent","document","head","appendChild","webComponents","getElementsByTagName","length","findNestedWebComponents","tagName","root","elements","querySelectorAll","forEach","el","shadowRoot","clonedStyleTags","i","webComponent","onload","styleNode","innerHTML","cloneNode"],"sourceRoot":""}