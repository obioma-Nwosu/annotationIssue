{"version":3,"file":"chunks/7822.chunk.js","mappings":"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","sources":["webpack://webviewer-ui/./src/components/DatePicker/DatePicker.js","webpack://webviewer-ui/./src/components/DatePicker/index.js","webpack://webviewer-ui/./src/components/CalibrationPopup/CalibrationPopup.js","webpack://webviewer-ui/./src/components/CalibrationPopup/index.js","webpack://webviewer-ui/./src/components/AnnotationPopup/AnnotationPopup.js","webpack://webviewer-ui/./src/components/AnnotationPopup/AnnotationPopupContainer.js","webpack://webviewer-ui/./src/components/AnnotationPopup/index.js","webpack://webviewer-ui/./src/helpers/applyRedactions.js","webpack://webviewer-ui/./src/components/AnnotationPopup/AnnotationPopup.scss","webpack://webviewer-ui/./src/components/CalibrationPopup/CalibrationPopup.scss","webpack://webviewer-ui/./src/components/AnnotationPopup/AnnotationPopup.scss?220a","webpack://webviewer-ui/./src/components/CalibrationPopup/CalibrationPopup.scss?ca05"],"sourcesContent":["import React, { useRef, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst DatePicker = ({ onClick, annotation, onDatePickerShow }) => {\r\n  const dateRef = useRef(null);\r\n  const dateContainerRef = useRef(null);\r\n  useEffect(() => {\r\n    let datePicker;\r\n    const getDatePicker = async () => {\r\n      datePicker = await window.Core.createDatePicker({\r\n        field: dateRef.current,\r\n        onClick,\r\n        container: dateContainerRef.current,\r\n        format: annotation.getDateFormat(),\r\n      });\r\n      onDatePickerShow(true);\r\n    };\r\n    getDatePicker();\r\n\r\n    return () => {\r\n      datePicker.destroy();\r\n      datePicker = null;\r\n      onDatePickerShow(false);\r\n    };\r\n  }, []);\r\n  return (\r\n    <div data-element=\"datePickerContainer\">\r\n      <div ref={dateRef} />\r\n      <div ref={dateContainerRef}/>\r\n    </div>\r\n  );\r\n};\r\n\r\nDatePicker.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n  annotation: PropTypes.object.isRequired,\r\n  onDatePickerShow: PropTypes.func.isRequired\r\n};\r\n\r\nexport default DatePicker;\r\n","import DatePicker from './DatePicker';\r\n\r\nexport default DatePicker;","import React, { useState, useEffect, useRef } from 'react';\r\nimport selectors from 'selectors';\r\nimport { useSelector, useDispatch, shallowEqual } from 'react-redux';\r\nimport core from 'core';\r\nimport actions from 'actions';\r\nimport { Choice } from '@pdftron/webviewer-react-toolkit';\r\nimport Dropdown from '../Dropdown';\r\nimport Tooltip from '../Tooltip';\r\nimport PropTypes from 'prop-types';\r\nimport { useTranslation } from 'react-i18next';\r\nimport {\r\n  metricUnits,\r\n  convertUnit,\r\n  fractionalUnits,\r\n  floatRegex,\r\n  inFractionalRegex,\r\n  ftInFractionalRegex,\r\n  ftInDecimalRegex,\r\n  parseFtInDecimal,\r\n  parseInFractional,\r\n  parseFtInFractional,\r\n  hintValues\r\n} from 'constants/measurementScale';\r\nimport classNames from 'classnames';\r\n\r\nimport './CalibrationPopup.scss';\r\n\r\nconst Scale = window.Core.Scale;\r\n\r\nconst parseMeasurementContentsByAnnotation = (annotation) => {\r\n  const factor = annotation.Measure.axis[0].factor;\r\n  const unit = annotation.Scale[1][1];\r\n\r\n  switch (unit) {\r\n    case 'ft-in':\r\n      return (annotation.getLineLength() * factor) / 12;\r\n    case 'in':\r\n    default:\r\n      return annotation.getLineLength() * factor;\r\n  }\r\n};\r\n\r\nconst getDefaultPageUnit = (pageUnit) => {\r\n  if (pageUnit === 'pt') {\r\n    return 'pt';\r\n  }\r\n  if (metricUnits.includes(pageUnit)) {\r\n    return 'mm';\r\n  }\r\n  return 'in';\r\n};\r\n\r\nconst CalibrationPropType = {\r\n  annotation: PropTypes.shape({\r\n    Scale: PropTypes.arrayOf(PropTypes.array),\r\n  }),\r\n};\r\n\r\nconst CalibrationPopup = ({ annotation }) => {\r\n  const [t] = useTranslation();\r\n  const dispatch = useDispatch();\r\n\r\n  const [\r\n    measurementUnits,\r\n    { tempScale, isFractionalUnit, defaultUnit }\r\n  ] = useSelector((state) => [\r\n    selectors.getMeasurementUnits(state),\r\n    selectors.getCalibrationInfo(state)\r\n  ], shallowEqual);\r\n  const [valueDisplay, setValueDisplay] = useState('');\r\n  const inputRef = useRef(null);\r\n\r\n  const unitTo = new Scale(tempScale).worldScale?.unit || 'mm';\r\n  const unitToOptions = isFractionalUnit ? measurementUnits.to.filter((unit) => fractionalUnits.includes(unit)) : measurementUnits.to;\r\n  const isFractionalUnitsToggleDisabled = !fractionalUnits.includes(unitTo);\r\n  const valueInputType = (isFractionalUnit || unitTo === 'ft-in') ? 'text' : 'number';\r\n  const inputValueClass = classNames('input-field', {\r\n    'invalid-value': !(tempScale && new Scale(tempScale).worldScale?.value > 0)\r\n  });\r\n\r\n  const updateTempScale = (scaleValue, scaleUnit) => {\r\n    const currentDistance = parseMeasurementContentsByAnnotation(annotation);\r\n    const currentScale = annotation.Scale;\r\n    const newRatio = currentDistance / currentScale[1][0];\r\n    const pageScale = [currentScale[0][0] * newRatio, currentScale[0][1]];\r\n    const defaultPageUnit = getDefaultPageUnit(scaleUnit);\r\n    const defaultPageValue = convertUnit(pageScale[0], pageScale[1], defaultPageUnit);\r\n    dispatch(actions.updateCalibrationInfo({ tempScale: `${defaultPageValue} ${defaultPageUnit} = ${scaleValue} ${scaleUnit}`, isFractionalUnit }));\r\n  };\r\n\r\n  const setValue = (scaleValue) => {\r\n    updateTempScale(scaleValue, new Scale(tempScale).worldScale?.unit);\r\n  };\r\n\r\n  const setUnitTo = (scaleUnit) => {\r\n    updateTempScale(new Scale(tempScale).worldScale?.value, scaleUnit);\r\n  };\r\n\r\n  const toggleFractionalUnits = () => {\r\n    dispatch(actions.updateCalibrationInfo({ tempScale, isFractionalUnit: !isFractionalUnit }));\r\n  };\r\n\r\n  const onValueInputChange = (e) => {\r\n    setValueDisplay(e.target.value);\r\n    const inputValue = e.target.value.trim();\r\n    if (!isFractionalUnit) {\r\n      if (unitTo === 'ft-in' && ftInDecimalRegex.test(inputValue)) {\r\n        const result = parseFtInDecimal(inputValue);\r\n        if (result > 0) {\r\n          setValue(result);\r\n          return;\r\n        }\r\n      } else if (floatRegex.test(inputValue)) {\r\n        const result = parseFloat(inputValue) || 0;\r\n        setValue(result);\r\n        return;\r\n      }\r\n    } else {\r\n      if (unitTo === 'in') {\r\n        if (inFractionalRegex.test(inputValue)) {\r\n          const result = parseInFractional(inputValue);\r\n          if (result > 0) {\r\n            setValue(result);\r\n            return;\r\n          }\r\n        }\r\n      } else if (unitTo === 'ft-in') {\r\n        if (ftInFractionalRegex.test(inputValue)) {\r\n          const result = parseFtInFractional(inputValue);\r\n          if (result > 0) {\r\n            setValue(result);\r\n            return;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    setValue(0);\r\n  };\r\n\r\n  const onValueInputBlur = () => {\r\n    updateValueDisplay();\r\n  };\r\n\r\n  const updateValueDisplay = () => {\r\n    const scaleValue = new Scale(tempScale).worldScale?.value;\r\n    let newValueDisplay;\r\n    if (!isFractionalUnit && unitTo !== 'ft-in') {\r\n      newValueDisplay = `${scaleValue}`;\r\n    } else {\r\n      newValueDisplay = Scale.getFormattedValue(scaleValue, unitTo, isFractionalUnit ? 1 / 64 : 0.0001, false, true);\r\n    }\r\n    setValueDisplay(newValueDisplay || '');\r\n  };\r\n\r\n  const tempScaleRef = useRef(tempScale);\r\n  useEffect(() => {\r\n    tempScaleRef.current = tempScale;\r\n  }, [tempScale]);\r\n  useEffect(() => {\r\n    if (annotation) {\r\n      const value = parseMeasurementContentsByAnnotation(annotation);\r\n      const unit = annotation.Scale[1][1];\r\n      if (defaultUnit) {\r\n        updateTempScale(convertUnit(value, unit, defaultUnit), defaultUnit);\r\n      } else {\r\n        updateTempScale(value, unit);\r\n      }\r\n    }\r\n\r\n    const onAnnotationChanged = (annotations, action) => {\r\n      if (action === 'modify' && annotations.length === 1 && annotations[0] === annotation) {\r\n        const value = parseMeasurementContentsByAnnotation(annotation);\r\n        const unit = annotation.Scale[1][1];\r\n        const currentUnit = new Scale(tempScaleRef.current).worldScale?.unit;\r\n        if (currentUnit) {\r\n          updateTempScale(convertUnit(value, unit, currentUnit), currentUnit);\r\n        } else {\r\n          updateTempScale(value, unit);\r\n        }\r\n      }\r\n    };\r\n    core.addEventListener('annotationChanged', onAnnotationChanged);\r\n\r\n    return () => {\r\n      core.removeEventListener('annotationChanged', onAnnotationChanged);\r\n      core.deleteAnnotations([annotation]);\r\n    };\r\n  }, [annotation]);\r\n\r\n  useEffect(() => {\r\n    if (inputRef?.current !== document.activeElement) {\r\n      updateValueDisplay();\r\n    }\r\n  }, [tempScale, isFractionalUnit]);\r\n\r\n  return (\r\n    <div className=\"CalibrationPopup\" data-element=\"calibrationPopup\">\r\n      <div className=\"input-container\">\r\n        <input\r\n          className={inputValueClass}\r\n          ref={inputRef}\r\n          type={valueInputType}\r\n          value={valueDisplay}\r\n          min='0'\r\n          onChange={onValueInputChange}\r\n          onBlur={onValueInputBlur}\r\n          placeholder={isFractionalUnit ? hintValues[unitTo] : (unitTo === 'ft-in' ? hintValues['ft-in decimal'] : '')}\r\n        />\r\n        <Tooltip content={'option.measurement.scaleModal.displayUnits'}>\r\n          <div className=\"input-field\">\r\n            <Dropdown\r\n              dataElement=\"calibrationUnits\"\r\n              items={unitToOptions}\r\n              currentSelectionKey={unitTo}\r\n              onClickItem={setUnitTo}\r\n            />\r\n          </div>\r\n        </Tooltip>\r\n      </div>\r\n      <Tooltip content={t('option.measurement.scaleModal.fractionUnitsTooltip')}>\r\n        <div>\r\n          <Choice\r\n            isSwitch\r\n            leftLabel\r\n            label={t('option.measurement.scaleModal.fractionalUnits')}\r\n            disabled={isFractionalUnitsToggleDisabled}\r\n            checked={isFractionalUnit}\r\n            id=\"calibration-popup-fractional-units\"\r\n            className=\"pop-switch\"\r\n            onChange={toggleFractionalUnits}\r\n          />\r\n        </div>\r\n      </Tooltip>\r\n    </div>\r\n  );\r\n};\r\n\r\nCalibrationPopup.propTypes = CalibrationPropType;\r\n\r\nexport default CalibrationPopup;\r\n","import CalibrationPopup from './CalibrationPopup';\r\n\r\nexport default CalibrationPopup;","import React, { useState } from 'react';\r\nimport Draggable from 'react-draggable';\r\nimport classNames from 'classnames';\r\nimport PropTypes from 'prop-types';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { FocusTrap } from '@pdftron/webviewer-react-toolkit';\r\n\r\nimport ActionButton from 'components/ActionButton';\r\nimport AnnotationStylePopup from 'components/AnnotationStylePopup';\r\nimport DatePicker from 'components/DatePicker';\r\nimport CustomizablePopup from 'components/CustomizablePopup';\r\nimport CalibrationPopup from 'components/CalibrationPopup';\r\n\r\nimport { getDataWithKey, mapToolNameToKey, mapAnnotationToKey } from 'constants/map';\r\n\r\nimport DataElements from 'constants/dataElement';\r\n\r\nimport './AnnotationPopup.scss';\r\nimport getRootNode from 'helpers/getRootNode';\r\n\r\nconst propTypes = {\r\n  isMobile: PropTypes.bool,\r\n  isIE: PropTypes.bool,\r\n  isOpen: PropTypes.bool,\r\n  isRightClickMenu: PropTypes.bool,\r\n  isNotesPanelOpenOrActive: PropTypes.bool,\r\n  isRichTextPopupOpen: PropTypes.bool,\r\n  isLinkModalOpen: PropTypes.bool,\r\n  isWarningModalOpen: PropTypes.bool,\r\n  isContextMenuPopupOpen: PropTypes.bool,\r\n\r\n  focusedAnnotation: PropTypes.object,\r\n  multipleAnnotationsSelected: PropTypes.bool,\r\n  popupRef: PropTypes.any,\r\n  position: PropTypes.object,\r\n\r\n  showViewFileButton: PropTypes.bool,\r\n  onViewFile: PropTypes.func,\r\n\r\n  showCommentButton: PropTypes.bool,\r\n  onCommentAnnotation: PropTypes.func,\r\n  isDateFreeTextCanEdit: PropTypes.bool,\r\n  isDatePickerOpen: PropTypes.bool,\r\n  handleDateChange: PropTypes.func,\r\n  onDatePickerShow: PropTypes.func,\r\n  isCalibrationPopupOpen: PropTypes.bool,\r\n\r\n  showEditStyleButton: PropTypes.bool,\r\n  isStylePopupOpen: PropTypes.bool,\r\n  hideSnapModeCheckbox: PropTypes.bool,\r\n  openEditStylePopup: PropTypes.func,\r\n  closeEditStylePopup: PropTypes.func,\r\n  annotationStyle: PropTypes.object,\r\n  onResize: PropTypes.func,\r\n\r\n  showContentEditButton: PropTypes.bool,\r\n  onEditContent: PropTypes.func,\r\n  openContentEditDeleteWarningModal: PropTypes.func,\r\n\r\n  isAppearanceSignature: PropTypes.bool,\r\n  onClearAppearanceSignature: PropTypes.func,\r\n\r\n  showRedactionButton: PropTypes.bool,\r\n  onApplyRedaction: PropTypes.func,\r\n\r\n  showGroupButton: PropTypes.bool,\r\n  onGroupAnnotations: PropTypes.func,\r\n  showUngroupButton: PropTypes.bool,\r\n  onUngroupAnnotations: PropTypes.func,\r\n\r\n  showFormFieldButton: PropTypes.bool,\r\n  onOpenFormField: PropTypes.func,\r\n\r\n  showDeleteButton: PropTypes.bool,\r\n  onDeleteAnnotation: PropTypes.func,\r\n\r\n  showLinkButton: PropTypes.bool,\r\n  hasAssociatedLink: PropTypes.bool,\r\n  linkAnnotationToURL: PropTypes.func,\r\n\r\n  showFileDownloadButton: PropTypes.bool,\r\n  downloadFileAttachment: PropTypes.func,\r\n\r\n  showAudioPlayButton: PropTypes.bool,\r\n  handlePlaySound: PropTypes.func,\r\n\r\n  showCalibrateButton: PropTypes.bool,\r\n  onOpenCalibration: PropTypes.func,\r\n\r\n  customizableUI: PropTypes.bool,\r\n  openStylePanel: PropTypes.func,\r\n  isInReadOnlyMode: PropTypes.bool,\r\n  onOpenAlignmentModal: PropTypes.func,\r\n};\r\n\r\nconst AnnotationPopup = ({\r\n  isMobile,\r\n  isIE,\r\n  isOpen,\r\n  isRightClickMenu,\r\n  isNotesPanelOpenOrActive,\r\n  isRichTextPopupOpen,\r\n  isLinkModalOpen,\r\n  isWarningModalOpen,\r\n  isContextMenuPopupOpen,\r\n\r\n  focusedAnnotation,\r\n  popupRef,\r\n  position,\r\n  multipleAnnotationsSelected,\r\n\r\n  showViewFileButton,\r\n  onViewFile,\r\n\r\n  showCommentButton,\r\n  onCommentAnnotation,\r\n  isDateFreeTextCanEdit,\r\n  isDatePickerOpen,\r\n  handleDateChange,\r\n  onDatePickerShow,\r\n  isCalibrationPopupOpen,\r\n\r\n  showEditStyleButton,\r\n  isStylePopupOpen,\r\n  hideSnapModeCheckbox,\r\n  openEditStylePopup,\r\n  closeEditStylePopup,\r\n  annotationStyle,\r\n  onResize,\r\n\r\n  showContentEditButton,\r\n  onEditContent,\r\n  openContentEditDeleteWarningModal,\r\n\r\n  isAppearanceSignature,\r\n  onClearAppearanceSignature,\r\n\r\n  showRedactionButton,\r\n  onApplyRedaction,\r\n\r\n  showGroupButton,\r\n  onGroupAnnotations,\r\n  showUngroupButton,\r\n  onUngroupAnnotations,\r\n\r\n  showFormFieldButton,\r\n  onOpenFormField,\r\n\r\n  showDeleteButton,\r\n  onDeleteAnnotation,\r\n\r\n  showLinkButton,\r\n  hasAssociatedLink,\r\n  linkAnnotationToURL,\r\n\r\n  showFileDownloadButton,\r\n  downloadFileAttachment,\r\n\r\n  showAudioPlayButton,\r\n  handlePlaySound,\r\n\r\n  showCalibrateButton,\r\n  onOpenCalibration,\r\n\r\n  customizableUI,\r\n  openStylePanel,\r\n  isInReadOnlyMode,\r\n  onOpenAlignmentModal,\r\n}) => {\r\n  const [t] = useTranslation();\r\n  const [shortCutKeysFor3DVisible, setShortCutKeysFor3DVisible] = useState(false);\r\n\r\n  const commentButtonLabel = isDateFreeTextCanEdit ? 'action.changeDate' : 'action.comment';\r\n  const commentButtonImg = isDateFreeTextCanEdit ? 'icon-tool-fill-and-sign-calendar' : 'icon-header-chat-line';\r\n  const show3DShortCutButton = !isInReadOnlyMode && focusedAnnotation instanceof window.Core.Annotations.Model3DAnnotation && !isMobile;\r\n  const isRectangle = focusedAnnotation instanceof window.Core.Annotations.RectangleAnnotation;\r\n  const isEllipse = focusedAnnotation instanceof window.Core.Annotations.EllipseAnnotation;\r\n  const isPolygon = focusedAnnotation instanceof window.Core.Annotations.PolygonAnnotation;\r\n  const isFreeText =\r\n    focusedAnnotation instanceof window.Core.Annotations.FreeTextAnnotation &&\r\n    (focusedAnnotation.getIntent() === window.Core.Annotations.FreeTextAnnotation.Intent.FreeText ||\r\n      focusedAnnotation.getIntent() === window.Core.Annotations.FreeTextAnnotation.Intent.FreeTextCallout);\r\n  const isRedaction = focusedAnnotation instanceof window.Core.Annotations.RedactionAnnotation;\r\n  const colorMapKey = mapAnnotationToKey(focusedAnnotation);\r\n  const isMeasure = !!focusedAnnotation.Measure;\r\n  const showLineStyleOptions = getDataWithKey(mapToolNameToKey(focusedAnnotation.ToolName)).hasLineEndings;\r\n  const isInstanceActive = !window.isApryseWebViewerWebComponent || document.activeElement?.shadowRoot === getRootNode();\r\n  let StrokeStyle = 'solid';\r\n  const isContentEdit = focusedAnnotation.isContentEditPlaceholder?.();\r\n  const isReadOnlySignature = focusedAnnotation instanceof window.Core.Annotations.SignatureWidgetAnnotation && focusedAnnotation.fieldFlags.get(window.Core.Annotations.WidgetFlags.READ_ONLY);\r\n  try {\r\n    StrokeStyle = (focusedAnnotation['Style'] === 'dash')\r\n      ? `${focusedAnnotation['Style']},${focusedAnnotation['Dashes']}`\r\n      : focusedAnnotation['Style'];\r\n  } catch (err) {\r\n    console.error(err);\r\n  }\r\n  let properties = {};\r\n  if (showLineStyleOptions) {\r\n    properties = {\r\n      StartLineStyle: focusedAnnotation.getStartStyle(),\r\n      EndLineStyle: focusedAnnotation.getEndStyle(),\r\n      StrokeStyle,\r\n    };\r\n  }\r\n\r\n  if (isRectangle || isEllipse || isPolygon) {\r\n    properties = {\r\n      StrokeStyle,\r\n    };\r\n  }\r\n\r\n  if (isFreeText) {\r\n    const richTextStyles = focusedAnnotation.getRichTextStyle();\r\n    const isAutoSizeFont = focusedAnnotation.isAutoSizeFont();\r\n    const calculatedFontSize = focusedAnnotation.getCalculatedFontSize();\r\n\r\n    properties = {\r\n      Font: focusedAnnotation.Font,\r\n      FontSize: focusedAnnotation.FontSize,\r\n      TextAlign: focusedAnnotation.TextAlign,\r\n      TextVerticalAlign: focusedAnnotation.TextVerticalAlign,\r\n      bold: richTextStyles?.[0]?.['font-weight'] === 'bold' ?? false,\r\n      italic: richTextStyles?.[0]?.['font-style'] === 'italic' ?? false,\r\n      underline: richTextStyles?.[0]?.['text-decoration']?.includes('underline') || richTextStyles?.[0]?.['text-decoration']?.includes('word'),\r\n      strikeout: richTextStyles?.[0]?.['text-decoration']?.includes('line-through') ?? false,\r\n      StrokeStyle,\r\n      isAutoSizeFont,\r\n      calculatedFontSize,\r\n    };\r\n  }\r\n\r\n  if (isRedaction) {\r\n    properties = {\r\n      OverlayText: focusedAnnotation['OverlayText'],\r\n      Font: focusedAnnotation['Font'],\r\n      FontSize: focusedAnnotation['FontSize'],\r\n      TextAlign: focusedAnnotation['TextAlign']\r\n    };\r\n  }\r\n\r\n  const renderPopup = () => {\r\n    switch (true) {\r\n      case isStylePopupOpen:\r\n        return (\r\n          <AnnotationStylePopup\r\n            annotations={[focusedAnnotation]}\r\n            style={annotationStyle}\r\n            isOpen={isOpen}\r\n            onResize={onResize}\r\n            isFreeText={isFreeText}\r\n            isEllipse={isEllipse}\r\n            isRedaction={isRedaction}\r\n            isMeasure={isMeasure}\r\n            colorMapKey={colorMapKey}\r\n            showLineStyleOptions={showLineStyleOptions}\r\n            properties={properties}\r\n            hideSnapModeCheckbox={hideSnapModeCheckbox}\r\n            hasBackToMenu={isRightClickMenu}\r\n            onBackToMenu={closeEditStylePopup}\r\n          />\r\n        );\r\n      case isDatePickerOpen:\r\n        return (\r\n          <DatePicker onClick={handleDateChange} annotation={focusedAnnotation} onDatePickerShow={onDatePickerShow} />\r\n        );\r\n      case isCalibrationPopupOpen:\r\n        return <CalibrationPopup annotation={focusedAnnotation} />;\r\n      case shortCutKeysFor3DVisible && focusedAnnotation instanceof window.Core.Annotations.Model3DAnnotation:\r\n        return (\r\n          <div className=\"shortCuts3D\">\r\n            <div className=\"closeButton\" onClick={() => setShortCutKeysFor3DVisible(false)}>x</div>\r\n            <div className=\"row\">{t('action.rotate3D')} <span>{t('shortcut.rotate3D')}</span></div>\r\n            <div className=\"row\">{t('action.zoom')} <span>{t('shortcut.zoom3D')}</span></div>\r\n          </div>\r\n        );\r\n      default:\r\n        return (\r\n          <FocusTrap\r\n            locked={isOpen && isInstanceActive && !isRichTextPopupOpen && !isNotesPanelOpenOrActive && !isLinkModalOpen && !isWarningModalOpen && !isFreeText && !isContextMenuPopupOpen}\r\n          >\r\n            <div className=\"container\">\r\n              <CustomizablePopup\r\n                dataElement={DataElements.ANNOTATION_POPUP}\r\n                childrenClassName='main-menu-button'\r\n              >\r\n                {showViewFileButton && (\r\n                  <ActionButton\r\n                    className=\"main-menu-button\"\r\n                    dataElement=\"viewFileButton\"\r\n                    label={isRightClickMenu ? 'action.viewFile' : ''}\r\n                    title={!isRightClickMenu ? 'action.viewFile' : ''}\r\n                    img=\"icon-view\"\r\n                    onClick={onViewFile}\r\n                  />\r\n                )}\r\n                {showCommentButton && (\r\n                  <ActionButton\r\n                    className=\"main-menu-button\"\r\n                    dataElement=\"annotationCommentButton\"\r\n                    label={isRightClickMenu ? commentButtonLabel : ''}\r\n                    title={!isRightClickMenu ? commentButtonLabel : ''}\r\n                    img={commentButtonImg}\r\n                    onClick={onCommentAnnotation}\r\n                  />\r\n                )}\r\n                {showEditStyleButton && (\r\n                  <ActionButton\r\n                    className=\"main-menu-button\"\r\n                    dataElement=\"annotationStyleEditButton\"\r\n                    label={isRightClickMenu ? 'action.style' : ''}\r\n                    title={!isRightClickMenu ? 'action.style' : ''}\r\n                    img=\"icon-menu-style-line\"\r\n                    onClick={customizableUI ? openStylePanel : openEditStylePopup}\r\n                  />\r\n                )}\r\n                {showContentEditButton && (\r\n                  <ActionButton\r\n                    className=\"main-menu-button\"\r\n                    dataElement=\"annotationContentEditButton\"\r\n                    label={isRightClickMenu ? 'action.edit' : ''}\r\n                    title={!isRightClickMenu ? 'action.edit' : ''}\r\n                    img=\"ic_edit_page_24px\"\r\n                    onClick={onEditContent}\r\n                  />\r\n                )}\r\n                {isAppearanceSignature && (\r\n                  <ActionButton\r\n                    className=\"main-menu-button\"\r\n                    dataElement=\"annotationClearSignatureButton\"\r\n                    label={isReadOnlySignature ? 'action.readOnlySignature' : (isRightClickMenu ? 'action.clearSignature' : '')}\r\n                    title={isReadOnlySignature ? 'action.readOnlySignature' : (!isRightClickMenu ? 'action.clearSignature' : '')}\r\n                    img={isReadOnlySignature ? '' : 'icon-delete-line'}\r\n                    onClick={onClearAppearanceSignature}\r\n                    isNotClickableSelector={() => isReadOnlySignature}\r\n                  />\r\n                )}\r\n                {showRedactionButton && (\r\n                  <ActionButton\r\n                    className=\"main-menu-button\"\r\n                    dataElement=\"annotationRedactButton\"\r\n                    label={isRightClickMenu ? 'action.apply' : ''}\r\n                    title={!isRightClickMenu ? 'action.apply' : ''}\r\n                    img=\"ic_check_black_24px\"\r\n                    onClick={onApplyRedaction}\r\n                  />\r\n                )}\r\n                {showGroupButton && (\r\n                  <ActionButton\r\n                    className=\"main-menu-button\"\r\n                    dataElement=\"annotationGroupButton\"\r\n                    label={isRightClickMenu ? 'action.group' : ''}\r\n                    title={!isRightClickMenu ? 'action.group' : ''}\r\n                    img=\"group-annotations-icon\"\r\n                    onClick={onGroupAnnotations}\r\n                  />\r\n                )}\r\n                {showUngroupButton && (\r\n                  <ActionButton\r\n                    className=\"main-menu-button\"\r\n                    dataElement=\"annotationUngroupButton\"\r\n                    label={isRightClickMenu ? 'action.ungroup' : ''}\r\n                    title={!isRightClickMenu ? 'action.ungroup' : ''}\r\n                    img=\"ungroup-annotations-icon\"\r\n                    onClick={onUngroupAnnotations}\r\n                  />\r\n                )}\r\n                {multipleAnnotationsSelected && !isMobile && (\r\n                  <ActionButton\r\n                    className=\"main-menu-button\"\r\n                    dataElement='openAlignmentButton'\r\n                    label={isRightClickMenu ? 'alignment' : ''}\r\n                    title={!isRightClickMenu ? 'Align' : ''}\r\n                    img=\"ic-alignment-main\"\r\n                    onClick={onOpenAlignmentModal}\r\n                  />\r\n                )}\r\n                {showFormFieldButton && (\r\n                  <ActionButton\r\n                    className=\"main-menu-button\"\r\n                    dataElement=\"formFieldEditButton\"\r\n                    label={isRightClickMenu ? 'action.formFieldEdit' : ''}\r\n                    title={!isRightClickMenu ? 'action.formFieldEdit' : ''}\r\n                    img=\"icon-edit-form-field\"\r\n                    onClick={onOpenFormField}\r\n                  />\r\n                )}\r\n                {showDeleteButton && (\r\n                  <ActionButton\r\n                    className=\"main-menu-button\"\r\n                    dataElement=\"annotationDeleteButton\"\r\n                    label={isRightClickMenu ? 'action.delete' : ''}\r\n                    title={!isRightClickMenu ? 'action.delete' : ''}\r\n                    img=\"icon-delete-line\"\r\n                    onClick={isContentEdit ? openContentEditDeleteWarningModal : onDeleteAnnotation}\r\n                  />\r\n                )}\r\n                {showCalibrateButton && (\r\n                  <ActionButton\r\n                    className=\"main-menu-button\"\r\n                    dataElement={DataElements.CALIBRATION_POPUP_BUTTON}\r\n                    label={isRightClickMenu ? 'action.calibrate' : ''}\r\n                    title={!isRightClickMenu ? 'action.calibrate' : ''}\r\n                    img=\"calibrate\"\r\n                    onClick={onOpenCalibration}\r\n                  />\r\n                )}\r\n                {showLinkButton && (\r\n                  <ActionButton\r\n                    className=\"main-menu-button\"\r\n                    dataElement=\"linkButton\"\r\n                    label={isRightClickMenu ? 'tool.Link' : ''}\r\n                    title={!isRightClickMenu ? 'tool.Link' : ''}\r\n                    img={hasAssociatedLink ? 'icon-tool-unlink' : 'icon-tool-link'}\r\n                    onClick={linkAnnotationToURL}\r\n                  />\r\n                )}\r\n                {showFileDownloadButton && (\r\n                  <ActionButton\r\n                    className=\"main-menu-button\"\r\n                    dataElement=\"fileAttachmentDownload\"\r\n                    label={isRightClickMenu ? 'action.fileAttachmentDownload' : ''}\r\n                    title={!isRightClickMenu ? 'action.fileAttachmentDownload' : ''}\r\n                    img=\"icon-download\"\r\n                    onClick={() => downloadFileAttachment(focusedAnnotation)}\r\n                  />\r\n                )}\r\n                {show3DShortCutButton && (\r\n                  <ActionButton\r\n                    className=\"main-menu-button\"\r\n                    dataElement=\"shortCutKeysFor3D\"\r\n                    label={isRightClickMenu ? 'action.viewShortCutKeysFor3D' : ''}\r\n                    title={!isRightClickMenu ? 'action.viewShortCutKeysFor3D' : ''}\r\n                    img=\"icon-keyboard\"\r\n                    onClick={() => setShortCutKeysFor3DVisible(true)}\r\n                  />\r\n                )}\r\n                {showAudioPlayButton && (\r\n                  <ActionButton\r\n                    className=\"main-menu-button\"\r\n                    dataElement=\"playSoundButton\"\r\n                    label={isRightClickMenu ? 'action.playAudio' : ''}\r\n                    title={!isRightClickMenu ? 'action.playAudio' : ''}\r\n                    img=\"ic_play_24px\"\r\n                    onClick={() => handlePlaySound(focusedAnnotation)}\r\n                  />\r\n                )}\r\n              </CustomizablePopup>\r\n            </div>\r\n          </FocusTrap>\r\n        );\r\n    }\r\n  };\r\n\r\n  const annotationPopup = (\r\n    <div\r\n      className={classNames({\r\n        Popup: true,\r\n        AnnotationPopup: true,\r\n        open: isOpen,\r\n        closed: !isOpen,\r\n        stylePopupOpen: isStylePopupOpen,\r\n        'is-vertical': isReadOnlySignature ? true : isRightClickMenu,\r\n        'is-horizontal': isReadOnlySignature ? false : !isRightClickMenu,\r\n      })}\r\n      ref={popupRef}\r\n      data-element={DataElements.ANNOTATION_POPUP}\r\n      style={{ ...position }}\r\n    >\r\n      {renderPopup()}\r\n    </div>\r\n  );\r\n\r\n  return isIE || isMobile ? (\r\n    annotationPopup\r\n  ) : (\r\n    <Draggable cancel=\".Button, .cell, .sliders-container svg, select, button, input\">{annotationPopup}</Draggable>\r\n  );\r\n};\r\n\r\nAnnotationPopup.propTypes = propTypes;\r\n\r\nexport default AnnotationPopup;","import React, { useState, useEffect, useRef, useCallback, useLayoutEffect } from 'react';\r\nimport { useSelector, useDispatch, shallowEqual } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport throttle from 'lodash/throttle';\r\n\r\nimport core from 'core';\r\nimport { getAnnotationPopupPositionBasedOn } from 'helpers/getPopupPosition';\r\nimport applyRedactions from 'helpers/applyRedactions';\r\nimport { isMobile, isIE } from 'helpers/device';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { getOpenedWarningModal, getOpenedColorPicker, getDatePicker } from 'helpers/getElements';\r\nimport getGroupedLinkAnnotations from 'helpers/getGroupedLinkAnnotations';\r\nimport getHashParameters from 'helpers/getHashParameters';\r\nimport useOnClickOutside from 'hooks/useOnClickOutside';\r\nimport actions from 'actions';\r\nimport selectors from 'selectors';\r\nimport DataElements from 'constants/dataElement';\r\nimport { PRIORITY_THREE } from 'constants/actionPriority';\r\nimport getRootNode from 'helpers/getRootNode';\r\n\r\nimport AnnotationPopup from './AnnotationPopup';\r\n\r\nimport './AnnotationPopup.scss';\r\n\r\nconst { ToolNames } = window.Core.Tools;\r\nconst { Annotations } = window.Core;\r\n\r\nconst propTypes = {\r\n  focusedAnnotation: PropTypes.object,\r\n  selectedMultipleAnnotations: PropTypes.bool,\r\n  canModify: PropTypes.bool,\r\n  focusedAnnotationStyle: PropTypes.object,\r\n  isStylePopupOpen: PropTypes.bool,\r\n  setIsStylePopupOpen: PropTypes.func,\r\n  isDatePickerOpen: PropTypes.bool,\r\n  setDatePickerOpen: PropTypes.func,\r\n  isDatePickerMount: PropTypes.bool,\r\n  setDatePickerMount: PropTypes.func,\r\n  hasAssociatedLink: PropTypes.bool,\r\n  includesFormFieldAnnotation: PropTypes.bool,\r\n  stylePopupRepositionFlag: PropTypes.bool,\r\n  setStylePopupRepositionFlag: PropTypes.func,\r\n  closePopup: PropTypes.func,\r\n};\r\n\r\nconst AnnotationPopupContainer = ({\r\n  focusedAnnotation,\r\n  selectedMultipleAnnotations,\r\n  canModify,\r\n  focusedAnnotationStyle,\r\n  isStylePopupOpen,\r\n  setIsStylePopupOpen,\r\n  isDatePickerOpen,\r\n  setDatePickerOpen,\r\n  isDatePickerMount,\r\n  setDatePickerMount,\r\n  hasAssociatedLink,\r\n  includesFormFieldAnnotation,\r\n  stylePopupRepositionFlag,\r\n  setStylePopupRepositionFlag,\r\n  closePopup,\r\n}) => {\r\n  const [\r\n    isDisabled,\r\n    isOpen,\r\n    isContextMenuPopupOpen,\r\n    isRightClickAnnotationPopupEnabled,\r\n    isNotesPanelDisabled,\r\n    isAnnotationStylePopupDisabled,\r\n    isInlineCommentingDisabled,\r\n    isNotesPanelOpen,\r\n    isLinkModalOpen,\r\n    isWarningModalOpen,\r\n    isRichTextPopupOpen,\r\n    isMultiTab,\r\n    tabManager,\r\n    tabs,\r\n    notesInLeftPanel,\r\n    leftPanelOpen,\r\n    activeLeftPanel,\r\n    activeDocumentViewerKey,\r\n    isAnyCustomPanelOpen,\r\n    featureFlags,\r\n    isStylePanelOpen,\r\n    isStylePanelDisabled,\r\n  ] = useSelector(\r\n    (state) => [\r\n      selectors.isElementDisabled(state, DataElements.ANNOTATION_POPUP),\r\n      selectors.isElementOpen(state, DataElements.ANNOTATION_POPUP),\r\n      selectors.isElementOpen(state, DataElements.CONTEXT_MENU_POPUP),\r\n      selectors.isRightClickAnnotationPopupEnabled(state),\r\n      selectors.isElementDisabled(state, DataElements.NOTES_PANEL),\r\n      selectors.isElementDisabled(state, DataElements.ANNOTATION_STYLE_POPUP),\r\n      selectors.isElementDisabled(state, DataElements.INLINE_COMMENT_POPUP),\r\n      selectors.isElementOpen(state, DataElements.NOTES_PANEL),\r\n      selectors.isElementOpen(state, DataElements.LINK_MODAL),\r\n      selectors.isElementOpen(state, DataElements.WARNING_MODAL),\r\n      selectors.isElementOpen(state, 'richTextPopup'),\r\n      selectors.getIsMultiTab(state),\r\n      selectors.getTabManager(state),\r\n      selectors.getTabs(state),\r\n      selectors.getNotesInLeftPanel(state),\r\n      selectors.isElementOpen(state, DataElements.LEFT_PANEL),\r\n      selectors.getActiveLeftPanel(state),\r\n      selectors.getActiveDocumentViewerKey(state),\r\n      selectors.isAnyCustomPanelOpen(state),\r\n      selectors.getFeatureFlags(state),\r\n      selectors.isElementOpen(state, DataElements.STYLE_PANEL),\r\n      selectors.isElementDisabled(state, DataElements.STYLE_PANEL),\r\n    ],\r\n    shallowEqual,\r\n  );\r\n  const [t] = useTranslation();\r\n  const dispatch = useDispatch();\r\n  const [position, setPosition] = useState({ left: 0, top: 0 });\r\n  const [isCalibrationPopupOpen, setCalibrationPopupOpen] = useState(false);\r\n  const popupRef = useRef();\r\n\r\n  const isFocusedAnnotationSelected = isRightClickAnnotationPopupEnabled ? core.isAnnotationSelected(focusedAnnotation, activeDocumentViewerKey) : true;\r\n  const annotManager = core.getAnnotationManager(activeDocumentViewerKey);\r\n  const isNotesPanelOpenOrActive = isNotesPanelOpen\r\n    || (notesInLeftPanel && leftPanelOpen && activeLeftPanel === 'notesPanel')\r\n    || isAnyCustomPanelOpen;\r\n  const sixtyFramesPerSecondIncrement = 16;\r\n  // on tablet, the behaviour will be like on desktop, including being draggable\r\n\r\n  const { customizableUI } = featureFlags;\r\n\r\n  const openStylePanel = () => {\r\n    if (!isStylePanelOpen && !isStylePanelDisabled) {\r\n      dispatch(actions.openElement(DataElements.STYLE_PANEL));\r\n    }\r\n    closePopup();\r\n  };\r\n\r\n  useOnClickOutside(\r\n    popupRef,\r\n    useCallback((e) => {\r\n      const notesPanel = getRootNode().querySelector(`[data-element=\"${DataElements.NOTES_PANEL}\"]`);\r\n      const clickedInNotesPanel = notesPanel?.contains(e.target);\r\n      const clickedInLinkModal = getRootNode().querySelector('.LinkModal.open')?.contains(e.target);\r\n      const datePicker = getDatePicker();\r\n      const warningModal = getOpenedWarningModal();\r\n      const colorPicker = getOpenedColorPicker();\r\n\r\n      // the notes panel has mousedown handlers to handle the opening/closing states of this component\r\n      // we don't want this handler to run when clicked in the notes panel otherwise the opening/closing states may mess up\r\n      // for example: click on a note will call core.selectAnnotation which triggers the annotationSelected event\r\n      // and opens this component. If we don't exclude the notes panel this handler will run and close it after\r\n      if (!clickedInNotesPanel && !clickedInLinkModal && !warningModal && !colorPicker && !datePicker) {\r\n        if (isRightClickAnnotationPopupEnabled) {\r\n          closePopup();\r\n        } else {\r\n          dispatch(actions.closeElement(DataElements.ANNOTATION_POPUP));\r\n        }\r\n      }\r\n    }, [isRightClickAnnotationPopupEnabled])\r\n  );\r\n\r\n  const setPopupPosition = () => {\r\n    if (popupRef.current) {\r\n      setPosition(getAnnotationPopupPositionBasedOn(focusedAnnotation, popupRef, activeDocumentViewerKey));\r\n    }\r\n  };\r\n\r\n  const handleResize = throttle(() => {\r\n    if (AnnotationPopupContainer) {\r\n      setPopupPosition();\r\n    }\r\n  }, sixtyFramesPerSecondIncrement, { 'trailing': true, 'leading': false });\r\n\r\n  useEffect(() => {\r\n    window.addEventListener('resize', handleResize);\r\n\r\n    return () => {\r\n      window.removeEventListener('resize', handleResize);\r\n    };\r\n  }, []);\r\n\r\n  // useLayoutEffect here to avoid flashing issue when popup is close and open on scroll\r\n  useLayoutEffect(() => {\r\n    if (focusedAnnotation || isStylePopupOpen || isDatePickerMount) {\r\n      handleResize();\r\n    }\r\n    // canModify is needed here because the effect from useOnAnnotationPopupOpen hook will run again and determine which button to show, which in turn change the popup size and will need to recalculate position\r\n  }, [focusedAnnotation, isStylePopupOpen, isDatePickerMount, canModify, activeDocumentViewerKey]);\r\n\r\n  useEffect(() => {\r\n    if (focusedAnnotation && focusedAnnotation.ToolName === ToolNames.CALIBRATION_MEASUREMENT) {\r\n      setCalibrationPopupOpen(true);\r\n    }\r\n  }, [focusedAnnotation]);\r\n\r\n  useEffect(() => {\r\n    if (isOpen || isRichTextPopupOpen) {\r\n      dispatch(actions.closeElement(DataElements.INLINE_COMMENT_POPUP));\r\n    }\r\n  }, [isOpen, isRichTextPopupOpen]);\r\n\r\n  /* VIEW FILE */\r\n  const wvServer = !!getHashParameters('webviewerServerURL', null);\r\n  const acceptFormats = wvServer ? window.Core.SupportedFileFormats.SERVER : window.Core.SupportedFileFormats.CLIENT;\r\n  const showViewFileButton = focusedAnnotation instanceof Annotations.FileAttachmentAnnotation && isMultiTab\r\n    && acceptFormats.includes(window.Core.mimeTypeToExtension[focusedAnnotation.getFileMetadata().mimeType]);\r\n\r\n  const onViewFile = useCallback(async () => {\r\n    if (!tabManager || !isMultiTab) {\r\n      return console.warn('Can\\'t open file in non-multi-tab mode');\r\n    }\r\n    const metaData = focusedAnnotation.getFileMetadata();\r\n    const fileAttachmentTab = tabs.find((tab) => tab.options.filename === metaData.filename);\r\n    if (fileAttachmentTab) { // If already opened once\r\n      await tabManager.setActiveTab(fileAttachmentTab.id, true);\r\n      return;\r\n    }\r\n    await tabManager.addTab(await focusedAnnotation.getFileData(), {\r\n      extension: window.Core.mimeTypeToExtension[metaData.mimeType],\r\n      filename: metaData.filename,\r\n      saveCurrentActiveTabState: true,\r\n      setActive: true,\r\n    });\r\n  }, [tabManager, focusedAnnotation, tabs, isMultiTab]);\r\n\r\n  /* ALL REACT HOOKS NEED TO BE BEFORE RENDERING */\r\n  if (isDisabled || !focusedAnnotation) {\r\n    return null;\r\n  }\r\n\r\n  /* COMMENT / DATE */\r\n  const selectedAnnotations = core.getSelectedAnnotations(activeDocumentViewerKey);\r\n  const numberOfSelectedAnnotations = selectedAnnotations.length;\r\n  const multipleAnnotationsSelected = numberOfSelectedAnnotations > 1;\r\n  const isFreeTextAnnot = focusedAnnotation instanceof Annotations.FreeTextAnnotation;\r\n  const isDateFreeTextCanEdit = isFreeTextAnnot && !!focusedAnnotation.getDateFormat() && core.canModifyContents(focusedAnnotation, activeDocumentViewerKey);\r\n  const numberOfGroups = core.getNumberOfGroups(selectedAnnotations, activeDocumentViewerKey);\r\n  const canGroup = numberOfGroups > 1;\r\n  const canUngroup = numberOfGroups === 1 && numberOfSelectedAnnotations > 1 && isFocusedAnnotationSelected;\r\n  const isAppearanceSignature =\r\n    focusedAnnotation instanceof Annotations.SignatureWidgetAnnotation\r\n    && focusedAnnotation.isSignedByAppearance();\r\n  const isInReadOnlyMode = core.getIsReadOnly();\r\n\r\n  const showCommentButton = (\r\n    (!isNotesPanelDisabled || !isInlineCommentingDisabled)\r\n    && (!multipleAnnotationsSelected || (multipleAnnotationsSelected && !isFocusedAnnotationSelected))\r\n    && focusedAnnotation.ToolName !== ToolNames.CROP\r\n    && !includesFormFieldAnnotation\r\n    && !focusedAnnotation.isContentEditPlaceholder()\r\n    && !focusedAnnotation.isUncommittedContentEditPlaceholder()\r\n    && !isAppearanceSignature\r\n  );\r\n\r\n  const onCommentAnnotation = () => {\r\n    if (isDateFreeTextCanEdit) {\r\n      setDatePickerOpen(true);\r\n      return;\r\n    }\r\n\r\n    dispatch(actions.closeElement('searchPanel'));\r\n    dispatch(actions.closeElement('redactionPanel'));\r\n    const contentEditManager = core.getContentEditManager(activeDocumentViewerKey);\r\n    if (contentEditManager.isInContentEditMode()) {\r\n      dispatch(actions.closeElement('textEditingPanel'));\r\n      contentEditManager.endContentEditMode();\r\n    }\r\n\r\n    dispatch(actions.triggerNoteEditing());\r\n    if (isInlineCommentingDisabled) {\r\n      dispatch(actions.openElement(DataElements.NOTES_PANEL));\r\n      dispatch(actions.closeElement(DataElements.ANNOTATION_POPUP));\r\n    } else {\r\n      if (!isNotesPanelOpen) {\r\n        dispatch(actions.openElement(DataElements.INLINE_COMMENT_POPUP));\r\n      }\r\n      closePopup();\r\n    }\r\n  };\r\n\r\n  const onOpenAlignmentModal = () => {\r\n    dispatch(actions.openElement(DataElements.ANNOTATION_ALIGNMENT_POPUP));\r\n    closePopup();\r\n  };\r\n\r\n  const handleDateChange = (text) => {\r\n    annotManager.setNoteContents(focusedAnnotation, text);\r\n    annotManager.updateAnnotation(focusedAnnotation);\r\n  };\r\n\r\n  const onDatePickerShow = (isDatePickerShowed) => {\r\n    setDatePickerMount(isDatePickerShowed);\r\n  };\r\n\r\n  /* EDIT STYLE */\r\n  const hasStyle = Object.keys(focusedAnnotationStyle).length > 0;\r\n\r\n  const toolsWithNoStyling = [\r\n    ToolNames.CROP,\r\n    ToolNames.RADIO_FORM_FIELD,\r\n    ToolNames.CHECK_BOX_FIELD,\r\n    ToolNames.VIDEO_REDACTION,\r\n    ToolNames.VIDEO_AND_AUDIO_REDACTION,\r\n    ToolNames.AUDIO_REDACTION,\r\n  ];\r\n\r\n  const showEditStyleButton = (\r\n    canModify\r\n    && hasStyle\r\n    && (!isAnnotationStylePopupDisabled || customizableUI)\r\n    && (!multipleAnnotationsSelected || canUngroup || (multipleAnnotationsSelected && !isFocusedAnnotationSelected))\r\n    && !toolsWithNoStyling.includes(focusedAnnotation.ToolName)\r\n    && !(focusedAnnotation instanceof Annotations.Model3DAnnotation)\r\n    && !focusedAnnotation.isContentEditPlaceholder()\r\n    && !focusedAnnotation.isUncommittedContentEditPlaceholder()\r\n    && !isAppearanceSignature\r\n  );\r\n\r\n  const hideSnapModeCheckbox = focusedAnnotation instanceof Annotations.EllipseAnnotation || !core.isFullPDFEnabled();\r\n\r\n  const onResize = () => {\r\n    setStylePopupRepositionFlag(!stylePopupRepositionFlag);\r\n  };\r\n\r\n  /* EDIT CONTENT */\r\n  const showContentEditButton =\r\n    focusedAnnotation.isContentEditPlaceholder()\r\n    && focusedAnnotation.getContentEditType() === window.Core.ContentEdit.Types.TEXT;\r\n\r\n  const onEditContent = async () => {\r\n    annotManager.trigger('annotationDoubleClicked', focusedAnnotation);\r\n\r\n    dispatch(actions.closeElement(DataElements.ANNOTATION_POPUP));\r\n  };\r\n\r\n  /* CLEAR APPEARANCE SIGNATURE */\r\n  const onClearAppearanceSignature = () => {\r\n    focusedAnnotation.clearSignature(annotManager);\r\n    dispatch(actions.closeElement(DataElements.ANNOTATION_POPUP));\r\n  };\r\n\r\n  /* REDACTION */\r\n  const redactionEnabled = core.isAnnotationRedactable(focusedAnnotation, activeDocumentViewerKey);\r\n  const showRedactionButton = redactionEnabled && !multipleAnnotationsSelected && !includesFormFieldAnnotation;\r\n\r\n  const onApplyRedaction = () => {\r\n    dispatch(applyRedactions(focusedAnnotation, undefined, activeDocumentViewerKey));\r\n    dispatch(actions.closeElement(DataElements.ANNOTATION_POPUP));\r\n  };\r\n\r\n  /* GROUP / UNGROUP */\r\n  const primaryAnnotation = selectedAnnotations.find((selectedAnnotation) => !selectedAnnotation.InReplyTo);\r\n\r\n  const showGroupButton =\r\n    canModify\r\n    && isFocusedAnnotationSelected\r\n    && canGroup\r\n    && !includesFormFieldAnnotation;\r\n\r\n  const onGroupAnnotations = () => {\r\n    core.groupAnnotations(primaryAnnotation, selectedAnnotations, activeDocumentViewerKey);\r\n  };\r\n\r\n  const showUngroupButton = canUngroup;\r\n\r\n  const onUngroupAnnotations = () => {\r\n    core.ungroupAnnotations(selectedAnnotations, activeDocumentViewerKey);\r\n  };\r\n\r\n  /* FORM FIELD */\r\n  const formFieldCreationManager = core.getFormFieldCreationManager(activeDocumentViewerKey);\r\n  const isInFormFieldCreationMode = formFieldCreationManager.isInFormFieldCreationMode();\r\n  const showFormFieldButton = includesFormFieldAnnotation && isInFormFieldCreationMode;\r\n\r\n  const onOpenFormField = () => {\r\n    closePopup();\r\n    // We disable it while the form field popup is open to prevent having both open\r\n    // at the same time. We re-enable it when the form field popup is closed.\r\n    dispatch(actions.disableElement(DataElements.ANNOTATION_POPUP, PRIORITY_THREE));\r\n    dispatch(actions.openElement(DataElements.FORM_FIELD_EDIT_POPUP));\r\n  };\r\n\r\n  /* DELETE ANNOTATION */\r\n  const showDeleteButton = canModify;\r\n\r\n  const openContentEditDeleteWarningModal = () => {\r\n    const message = t('option.contentEdit.deletionModal.message');\r\n    const title = t('option.contentEdit.deletionModal.title');\r\n    const confirmBtnText = t('action.ok');\r\n\r\n    const warning = {\r\n      message,\r\n      title,\r\n      confirmBtnText,\r\n      onConfirm: () => onDeleteAnnotation(),\r\n    };\r\n    dispatch(actions.showWarningMessage(warning));\r\n  };\r\n\r\n  const onDeleteAnnotation = () => {\r\n    if (isFocusedAnnotationSelected) {\r\n      core.deleteAnnotations(core.getSelectedAnnotations(activeDocumentViewerKey), undefined, activeDocumentViewerKey);\r\n    } else {\r\n      core.deleteAnnotations([focusedAnnotation], undefined, activeDocumentViewerKey);\r\n    }\r\n    closePopup();\r\n  };\r\n\r\n  /* LINK ANNOTATION */\r\n  const toolsThatCantHaveLinks = [\r\n    ToolNames.CROP,\r\n    ToolNames.SIGNATURE,\r\n    ToolNames.REDACTION,\r\n    ToolNames.REDACTION2,\r\n    ToolNames.REDACTION3,\r\n    ToolNames.REDACTION4,\r\n    ToolNames.STICKY,\r\n    ToolNames.STICKY2,\r\n    ToolNames.STICKY3,\r\n    ToolNames.STICKY4,\r\n  ];\r\n\r\n  const showLinkButton = (\r\n    !toolsThatCantHaveLinks.includes(focusedAnnotation.ToolName)\r\n    && !includesFormFieldAnnotation\r\n    && !focusedAnnotation.isContentEditPlaceholder()\r\n    // TODO(Adam): Update this once SoundAnnotation tool is created.\r\n    && !(focusedAnnotation instanceof Annotations.SoundAnnotation)\r\n    && !focusedAnnotation.isUncommittedContentEditPlaceholder()\r\n    && !isAppearanceSignature\r\n  );\r\n\r\n  const showCalibrateButton =\r\n    canModify\r\n    && focusedAnnotation.Measure\r\n    && focusedAnnotation instanceof Annotations.LineAnnotation;\r\n\r\n  const onOpenCalibration = () => {\r\n    dispatch(actions.closeElement(DataElements.ANNOTATION_POPUP));\r\n    dispatch(actions.openElement(DataElements.CALIBRATION_MODAL));\r\n  };\r\n\r\n  const linkAnnotationToURL = () => {\r\n    if (hasAssociatedLink) {\r\n      const annotationsToUnlink = isFocusedAnnotationSelected ? selectedAnnotations : [focusedAnnotation];\r\n      annotationsToUnlink.forEach((annot) => {\r\n        const linkAnnotations = getGroupedLinkAnnotations(annot);\r\n        linkAnnotations.forEach((linkAnnot, index) => {\r\n          annotManager.ungroupAnnotations([linkAnnot]);\r\n          if (annot instanceof Annotations.TextHighlightAnnotation && annot.Opacity === 0 && index === 0) {\r\n            annotManager.deleteAnnotations([annot, linkAnnot], null, true);\r\n          } else {\r\n            annotManager.deleteAnnotation(linkAnnot, null, true);\r\n          }\r\n        });\r\n      });\r\n      closePopup();\r\n    } else {\r\n      dispatch(actions.openElement(DataElements.LINK_MODAL));\r\n    }\r\n  };\r\n\r\n  /* DOWNLOAD FILE ATTACHMENT */\r\n  const showFileDownloadButton = focusedAnnotation instanceof Annotations.FileAttachmentAnnotation;\r\n\r\n  const downloadFileAttachment = (annot) => {\r\n    // no need to check that annot is of type file annot as the check is done in the JSX\r\n    // trigger the annotationDoubleClicked event so that it will download the file\r\n    annotManager.trigger('annotationDoubleClicked', annot);\r\n  };\r\n\r\n  /* AUDIO ANNOTATION */\r\n  const showAudioPlayButton = (\r\n    !isIE &&\r\n    !selectedMultipleAnnotations &&\r\n    focusedAnnotation instanceof Annotations.SoundAnnotation &&\r\n    focusedAnnotation.hasAudioData()\r\n  );\r\n\r\n  const handlePlaySound = (annotation) => {\r\n    dispatch(actions.setActiveSoundAnnotation(annotation));\r\n    dispatch(actions.triggerResetAudioPlaybackPosition(true));\r\n    dispatch(actions.openElement('audioPlaybackPopup'));\r\n  };\r\n\r\n  return (\r\n    <AnnotationPopup\r\n      isMobile={isMobile()}\r\n      isIE={isIE}\r\n      isOpen={isOpen}\r\n      isRightClickMenu={isRightClickAnnotationPopupEnabled}\r\n      isNotesPanelOpenOrActive={isNotesPanelOpenOrActive}\r\n      isRichTextPopupOpen={isRichTextPopupOpen}\r\n      isLinkModalOpen={isLinkModalOpen}\r\n      isWarningModalOpen={isWarningModalOpen}\r\n      isContextMenuPopupOpen={isContextMenuPopupOpen}\r\n\r\n      popupRef={popupRef}\r\n      position={position}\r\n      focusedAnnotation={focusedAnnotation}\r\n      multipleAnnotationsSelected={multipleAnnotationsSelected}\r\n\r\n      showViewFileButton={showViewFileButton}\r\n      onViewFile={onViewFile}\r\n\r\n      showCommentButton={showCommentButton}\r\n      onCommentAnnotation={onCommentAnnotation}\r\n      isDateFreeTextCanEdit={isDateFreeTextCanEdit}\r\n      isDatePickerOpen={isDatePickerOpen}\r\n      handleDateChange={handleDateChange}\r\n      onDatePickerShow={onDatePickerShow}\r\n      isCalibrationPopupOpen={isCalibrationPopupOpen}\r\n\r\n      showEditStyleButton={showEditStyleButton}\r\n      isStylePopupOpen={isStylePopupOpen}\r\n      hideSnapModeCheckbox={hideSnapModeCheckbox}\r\n      openEditStylePopup={() => setIsStylePopupOpen(true)}\r\n      closeEditStylePopup={() => setIsStylePopupOpen(false)}\r\n      annotationStyle={focusedAnnotationStyle}\r\n      onResize={onResize}\r\n\r\n      showContentEditButton={showContentEditButton}\r\n      onEditContent={onEditContent}\r\n      openContentEditDeleteWarningModal={openContentEditDeleteWarningModal}\r\n\r\n      isAppearanceSignature={isAppearanceSignature}\r\n      onClearAppearanceSignature={onClearAppearanceSignature}\r\n\r\n      showRedactionButton={showRedactionButton}\r\n      onApplyRedaction={onApplyRedaction}\r\n\r\n      showGroupButton={showGroupButton}\r\n      onGroupAnnotations={onGroupAnnotations}\r\n      showUngroupButton={showUngroupButton}\r\n      onUngroupAnnotations={onUngroupAnnotations}\r\n\r\n      showFormFieldButton={showFormFieldButton}\r\n      onOpenFormField={onOpenFormField}\r\n\r\n      showDeleteButton={showDeleteButton}\r\n      onDeleteAnnotation={onDeleteAnnotation}\r\n\r\n      showLinkButton={showLinkButton}\r\n      hasAssociatedLink={hasAssociatedLink}\r\n      linkAnnotationToURL={linkAnnotationToURL}\r\n\r\n      showFileDownloadButton={showFileDownloadButton}\r\n      downloadFileAttachment={downloadFileAttachment}\r\n\r\n      showAudioPlayButton={showAudioPlayButton}\r\n      handlePlaySound={handlePlaySound}\r\n\r\n      showCalibrateButton={showCalibrateButton}\r\n      onOpenCalibration={onOpenCalibration}\r\n\r\n      customizableUI={customizableUI}\r\n      openStylePanel={openStylePanel}\r\n      isStylePanelOpen={isStylePanelOpen}\r\n      isInReadOnlyMode={isInReadOnlyMode}\r\n\r\n      onOpenAlignmentModal={onOpenAlignmentModal}\r\n    />\r\n  );\r\n};\r\n\r\nAnnotationPopupContainer.propTypes = propTypes;\r\n\r\nexport default AnnotationPopupContainer;\r\n","import AnnotationPopupContainer from './AnnotationPopupContainer';\r\n\r\nexport default AnnotationPopupContainer;","import core from 'core';\r\nimport i18next from 'i18next';\r\n\r\nimport actions from 'actions';\r\nimport { fireError } from 'helpers/fireEvent';\r\nimport downloadPdf from 'helpers/downloadPdf';\r\n\r\nfunction noop() { }\r\n\r\nexport default (annotations, onRedactionCompleted = noop, activeDocumentViewerKey = 1) => (dispatch) => {\r\n  if (core.isWebViewerServerDocument()) {\r\n    // when are using Webviewer Server, it'll download the redacted document\r\n    return webViewerServerApply(annotations, dispatch, activeDocumentViewerKey);\r\n  }\r\n  return webViewerApply(annotations, onRedactionCompleted, dispatch, activeDocumentViewerKey);\r\n};\r\n\r\nconst webViewerServerApply = (annotations, dispatch, activeDocumentViewerKey) => core.applyRedactions(annotations, activeDocumentViewerKey).then((results) => {\r\n  if (results && results.url) {\r\n    return downloadPdf(dispatch, {\r\n      filename: 'redacted.pdf',\r\n      includeAnnotations: true,\r\n      externalURL: results.url,\r\n    });\r\n  }\r\n  console.warn('WebViewer Server did not return a valid result');\r\n});\r\n\r\nconst webViewerApply = (annotations, onRedactionCompleted, dispatch, activeDocumentViewerKey) => {\r\n  const message = i18next.t('warning.redaction.applyMessage');\r\n  const title = i18next.t('warning.redaction.applyTile');\r\n  const confirmBtnText = i18next.t('action.apply');\r\n\r\n  const warning = {\r\n    message,\r\n    title,\r\n    confirmBtnText,\r\n    onConfirm: () => {\r\n      core.applyRedactions(annotations, activeDocumentViewerKey)\r\n        .then(() => {\r\n          onRedactionCompleted();\r\n        })\r\n        .catch((err) => fireError(err));\r\n      return Promise.resolve();\r\n    },\r\n  };\r\n\r\n  return dispatch(actions.showWarningMessage(warning));\r\n};\r\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".open.AnnotationPopup{visibility:visible}.closed.AnnotationPopup{visibility:hidden}:host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.AnnotationPopup{position:absolute;z-index:70;display:flex;justify-content:center;align-items:center}.AnnotationPopup:empty{padding:0}.AnnotationPopup .buttons{display:flex}.AnnotationPopup .Button{margin:4px;width:32px;height:32px}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .AnnotationPopup .Button{width:42px;height:42px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .AnnotationPopup .Button{width:42px;height:42px}}.AnnotationPopup .Button:hover{background:var(--popup-button-hover)}.AnnotationPopup .Button .Icon{width:18px;height:18px}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .AnnotationPopup .Button .Icon{width:24px;height:24px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .AnnotationPopup .Button .Icon{width:24px;height:24px}}.is-vertical.AnnotationPopup .Button.main-menu-button{width:100%;border-radius:0;justify-content:flex-start;padding-left:var(--padding-small);padding-right:var(--padding-small);margin:0 0 var(--padding-tiny) 0}.is-vertical.AnnotationPopup .Button.main-menu-button:first-child{margin-top:var(--padding-tiny)}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .is-vertical.AnnotationPopup .Button.main-menu-button{width:100%;height:32px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .is-vertical.AnnotationPopup .Button.main-menu-button{width:100%;height:32px}}.is-vertical.AnnotationPopup .Button.main-menu-button .Icon{margin-right:10px}.is-vertical.AnnotationPopup .Button.main-menu-button span{white-space:nowrap}@keyframes bottom-up{0%{transform:translateY(100%)}to{transform:translateY(0)}}@keyframes up-bottom{0%{transform:translateY(0)}to{transform:translateY(100%)}}.AnnotationPopup{position:fixed;border-radius:4px;box-shadow:0 0 3px 0 var(--document-box-shadow);background:var(--component-background)}.AnnotationPopup.is-horizontal .container{display:inherit}.AnnotationPopup.is-vertical{flex-direction:column;align-items:flex-start}.shortCuts3D{position:relative}.shortCuts3D .closeButton{position:absolute;right:4px;padding:2px;cursor:pointer;width:20px;text-align:center}.shortCuts3D .row{padding:4px 0;margin:8px 26px 8px 16px}.shortCuts3D .row span{background:#e7ebee;padding:4px 8px;border-radius:4px}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"LEFT_HEADER_WIDTH\": \"41px\",\n\t\"RIGHT_HEADER_WIDTH\": \"41px\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}@keyframes bottom-up{0%{transform:translateY(100%)}to{transform:translateY(0)}}@keyframes up-bottom{0%{transform:translateY(0)}to{transform:translateY(100%)}}.CalibrationPopup{display:flex;flex-direction:column;align-items:flex-start;padding:12px;width:220px;height:84px;background:var(--gray-0);box-shadow:0 0 3px var(--gray-7);border-radius:4px}.CalibrationPopup .pop-switch{margin-top:12px}.CalibrationPopup .pop-switch.ui__choice--disabled .ui__choice__label{color:var(--gray-5)}.CalibrationPopup .input-container{display:flex;flex-direction:row;justify-content:space-between;align-items:flex-start;width:196px;height:32px}.CalibrationPopup .input-container .input-field{width:94px;height:32px}.CalibrationPopup .input-container .input-field.invalid-value{border-color:red}.CalibrationPopup .input-container .input-field .Dropdown__wrapper{width:100%;height:100%}.CalibrationPopup .input-container .input-field .Dropdown__wrapper .Dropdown{height:100%;text-align:left}.CalibrationPopup .input-container .input-field .Dropdown__wrapper .Dropdown__items{width:100%}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"LEFT_HEADER_WIDTH\": \"41px\",\n\t\"RIGHT_HEADER_WIDTH\": \"41px\"\n};\nmodule.exports = exports;\n","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/postcss-loader/src/index.js??ruleSet[1].rules[1].use[2]!../../../node_modules/sass-loader/dist/cjs.js!./AnnotationPopup.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\r\n                function findNestedWebComponents(tagName, root = document) {\r\n                  const elements = [];\r\n\r\n                  // Check direct children\r\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\r\n\r\n                  // Check shadow DOMs\r\n                  root.querySelectorAll('*').forEach(el => {\r\n                    if (el.shadowRoot) {\r\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\r\n                    }\r\n                  });\r\n\r\n                  return elements;\r\n                }\r\n                if (!window.isApryseWebViewerWebComponent) {\r\n                  document.head.appendChild(styleTag);\r\n                  return;\r\n                }\r\n\r\n                let webComponents;\r\n                // First we see if the webcomponent is at the document level\r\n                webComponents = document.getElementsByTagName('apryse-webviewer');\r\n                // If not, we check have to check if it is nested in another webcomponent\r\n                if (!webComponents.length) {\r\n                  webComponents = findNestedWebComponents('apryse-webviewer');\r\n                }\r\n                // Now we append the style tag to each webcomponent\r\n                const clonedStyleTags = [];\r\n                for (let i = 0; i < webComponents.length; i++) {\r\n                  const webComponent = webComponents[i];\r\n                  if (i === 0) {\r\n                    webComponent.shadowRoot.appendChild(styleTag);\r\n                    styleTag.onload = function () {\r\n                      if (clonedStyleTags.length > 0) {\r\n                        clonedStyleTags.forEach((styleNode) => {\r\n                          // eslint-disable-next-line no-unsanitized/property\r\n                          styleNode.innerHTML = styleTag.innerHTML;\r\n                        });\r\n                      }\r\n                    };\r\n                  } else {\r\n                    const styleNode = styleTag.cloneNode(true);\r\n                    webComponent.shadowRoot.appendChild(styleNode);\r\n                    clonedStyleTags.push(styleNode);\r\n                  }\r\n                }\r\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/postcss-loader/src/index.js??ruleSet[1].rules[1].use[2]!../../../node_modules/sass-loader/dist/cjs.js!./CalibrationPopup.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\r\n                function findNestedWebComponents(tagName, root = document) {\r\n                  const elements = [];\r\n\r\n                  // Check direct children\r\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\r\n\r\n                  // Check shadow DOMs\r\n                  root.querySelectorAll('*').forEach(el => {\r\n                    if (el.shadowRoot) {\r\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\r\n                    }\r\n                  });\r\n\r\n                  return elements;\r\n                }\r\n                if (!window.isApryseWebViewerWebComponent) {\r\n                  document.head.appendChild(styleTag);\r\n                  return;\r\n                }\r\n\r\n                let webComponents;\r\n                // First we see if the webcomponent is at the document level\r\n                webComponents = document.getElementsByTagName('apryse-webviewer');\r\n                // If not, we check have to check if it is nested in another webcomponent\r\n                if (!webComponents.length) {\r\n                  webComponents = findNestedWebComponents('apryse-webviewer');\r\n                }\r\n                // Now we append the style tag to each webcomponent\r\n                const clonedStyleTags = [];\r\n                for (let i = 0; i < webComponents.length; i++) {\r\n                  const webComponent = webComponents[i];\r\n                  if (i === 0) {\r\n                    webComponent.shadowRoot.appendChild(styleTag);\r\n                    styleTag.onload = function () {\r\n                      if (clonedStyleTags.length > 0) {\r\n                        clonedStyleTags.forEach((styleNode) => {\r\n                          // eslint-disable-next-line no-unsanitized/property\r\n                          styleNode.innerHTML = styleTag.innerHTML;\r\n                        });\r\n                      }\r\n                    };\r\n                  } else {\r\n                    const styleNode = styleTag.cloneNode(true);\r\n                    webComponent.shadowRoot.appendChild(styleNode);\r\n                    clonedStyleTags.push(styleNode);\r\n                  }\r\n                }\r\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};"],"names":["_regeneratorRuntime","e","t","r","Object","prototype","n","hasOwnProperty","o","defineProperty","value","i","Symbol","a","iterator","c","asyncIterator","u","toStringTag","define","enumerable","configurable","writable","wrap","Generator","create","Context","makeInvokeMethod","tryCatch","type","arg","call","h","l","f","s","y","GeneratorFunction","GeneratorFunctionPrototype","p","d","getPrototypeOf","v","values","g","defineIteratorMethods","forEach","_invoke","AsyncIterator","invoke","_typeof","resolve","__await","then","callInvokeWithMethodAndArg","Error","done","method","delegate","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","TypeError","resultName","next","nextLoc","pushTryEntry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","isNaN","length","displayName","isGeneratorFunction","constructor","name","mark","setPrototypeOf","__proto__","awrap","async","Promise","keys","reverse","pop","prev","charAt","slice","stop","rval","handle","complete","finish","delegateYield","asyncGeneratorStep","gen","reject","_next","_throw","key","info","error","DatePicker","_ref","onClick","annotation","onDatePickerShow","dateRef","useRef","dateContainerRef","useEffect","datePicker","getDatePicker","fn","_ref2","_callee","_context","window","Core","createDatePicker","field","current","container","format","getDateFormat","self","args","arguments","apply","err","undefined","destroy","React","ref","propTypes","PropTypes","isRequired","Scale","parseMeasurementContentsByAnnotation","factor","Measure","axis","getLineLength","CalibrationPropType","CalibrationPopup","_Scale$worldScale","_Scale$worldScale2","_slicedToArray","useTranslation","dispatch","useDispatch","_useSelector2","useSelector","state","selectors","getMeasurementUnits","getCalibrationInfo","shallowEqual","measurementUnits","_useSelector2$","tempScale","isFractionalUnit","defaultUnit","_useState2","useState","valueDisplay","setValueDisplay","inputRef","unitTo","worldScale","unit","unitToOptions","to","filter","fractionalUnits","includes","isFractionalUnitsToggleDisabled","valueInputType","inputValueClass","classNames","updateTempScale","scaleValue","scaleUnit","pageUnit","currentDistance","currentScale","newRatio","pageScale","defaultPageUnit","metricUnits","defaultPageValue","convertUnit","actions","updateCalibrationInfo","concat","setValue","_Scale$worldScale3","updateValueDisplay","_Scale$worldScale5","newValueDisplay","getFormattedValue","tempScaleRef","onAnnotationChanged","annotations","action","_Scale$worldScale6","currentUnit","core","addEventListener","removeEventListener","deleteAnnotations","document","activeElement","className","min","onChange","target","inputValue","trim","inFractionalRegex","test","result","parseInFractional","ftInFractionalRegex","parseFtInFractional","ftInDecimalRegex","parseFtInDecimal","floatRegex","parseFloat","onBlur","placeholder","hintValues","Tooltip","content","Dropdown","dataElement","items","currentSelectionKey","onClickItem","_Scale$worldScale4","Choice","isSwitch","leftLabel","label","disabled","checked","id","isMobile","isIE","isOpen","isRightClickMenu","isNotesPanelOpenOrActive","isRichTextPopupOpen","isLinkModalOpen","isWarningModalOpen","isContextMenuPopupOpen","focusedAnnotation","multipleAnnotationsSelected","popupRef","position","showViewFileButton","onViewFile","showCommentButton","onCommentAnnotation","isDateFreeTextCanEdit","isDatePickerOpen","handleDateChange","isCalibrationPopupOpen","showEditStyleButton","isStylePopupOpen","hideSnapModeCheckbox","openEditStylePopup","closeEditStylePopup","annotationStyle","onResize","showContentEditButton","onEditContent","openContentEditDeleteWarningModal","isAppearanceSignature","onClearAppearanceSignature","showRedactionButton","onApplyRedaction","showGroupButton","onGroupAnnotations","showUngroupButton","onUngroupAnnotations","showFormFieldButton","onOpenFormField","showDeleteButton","onDeleteAnnotation","showLinkButton","hasAssociatedLink","linkAnnotationToURL","showFileDownloadButton","downloadFileAttachment","showAudioPlayButton","handlePlaySound","showCalibrateButton","onOpenCalibration","customizableUI","openStylePanel","isInReadOnlyMode","onOpenAlignmentModal","AnnotationPopup","_document$activeEleme","_focusedAnnotation$is","shortCutKeysFor3DVisible","setShortCutKeysFor3DVisible","commentButtonLabel","commentButtonImg","show3DShortCutButton","Annotations","Model3DAnnotation","isRectangle","RectangleAnnotation","isEllipse","EllipseAnnotation","isPolygon","PolygonAnnotation","isFreeText","FreeTextAnnotation","getIntent","Intent","FreeText","FreeTextCallout","isRedaction","RedactionAnnotation","colorMapKey","mapAnnotationToKey","isMeasure","showLineStyleOptions","getDataWithKey","mapToolNameToKey","ToolName","hasLineEndings","isInstanceActive","isApryseWebViewerWebComponent","shadowRoot","getRootNode","StrokeStyle","isContentEdit","isContentEditPlaceholder","isReadOnlySignature","SignatureWidgetAnnotation","fieldFlags","get","WidgetFlags","READ_ONLY","console","properties","StartLineStyle","getStartStyle","EndLineStyle","getEndStyle","_richTextStyles$","_ref3","_richTextStyles$2","_richTextStyles$3","_richTextStyles$3$tex","_richTextStyles$4","_richTextStyles$4$tex","_richTextStyles$0$tex","_richTextStyles$5","_richTextStyles$5$tex","richTextStyles","getRichTextStyle","isAutoSizeFont","calculatedFontSize","getCalculatedFontSize","Font","FontSize","TextAlign","TextVerticalAlign","bold","italic","underline","strikeout","OverlayText","annotationPopup","Popup","open","closed","stylePopupOpen","DataElements","ANNOTATION_POPUP","style","_objectSpread","AnnotationStylePopup","hasBackToMenu","onBackToMenu","FocusTrap","locked","CustomizablePopup","childrenClassName","ActionButton","title","img","isNotClickableSelector","CALIBRATION_POPUP_BUTTON","renderPopup","Draggable","cancel","_asyncToGenerator","arr","Array","isArray","_arrayWithHoles","_iterableToArrayLimit","minLen","_arrayLikeToArray","toString","from","_unsupportedIterableToArray","_nonIterableRest","len","arr2","ToolNames","Tools","selectedMultipleAnnotations","canModify","focusedAnnotationStyle","setIsStylePopupOpen","setDatePickerOpen","isDatePickerMount","setDatePickerMount","includesFormFieldAnnotation","stylePopupRepositionFlag","setStylePopupRepositionFlag","closePopup","AnnotationPopupContainer","isElementDisabled","isElementOpen","CONTEXT_MENU_POPUP","isRightClickAnnotationPopupEnabled","NOTES_PANEL","ANNOTATION_STYLE_POPUP","INLINE_COMMENT_POPUP","LINK_MODAL","WARNING_MODAL","getIsMultiTab","getTabManager","getTabs","getNotesInLeftPanel","LEFT_PANEL","getActiveLeftPanel","getActiveDocumentViewerKey","isAnyCustomPanelOpen","getFeatureFlags","STYLE_PANEL","isDisabled","isNotesPanelDisabled","isAnnotationStylePopupDisabled","isInlineCommentingDisabled","isNotesPanelOpen","isMultiTab","tabManager","tabs","notesInLeftPanel","leftPanelOpen","activeLeftPanel","activeDocumentViewerKey","featureFlags","isStylePanelOpen","isStylePanelDisabled","left","top","setPosition","_useState4","setCalibrationPopupOpen","isFocusedAnnotationSelected","isAnnotationSelected","annotManager","getAnnotationManager","useOnClickOutside","useCallback","_getRootNode$querySel","notesPanel","querySelector","clickedInNotesPanel","contains","clickedInLinkModal","warningModal","getOpenedWarningModal","colorPicker","getOpenedColorPicker","closeElement","handleResize","throttle","getAnnotationPopupPositionBasedOn","useLayoutEffect","CALIBRATION_MEASUREMENT","acceptFormats","getHashParameters","SupportedFileFormats","SERVER","CLIENT","FileAttachmentAnnotation","mimeTypeToExtension","getFileMetadata","mimeType","metaData","fileAttachmentTab","warn","find","tab","options","filename","setActiveTab","t0","getFileData","t1","t2","extension","saveCurrentActiveTabState","setActive","addTab","selectedAnnotations","getSelectedAnnotations","numberOfSelectedAnnotations","canModifyContents","numberOfGroups","getNumberOfGroups","canGroup","canUngroup","isSignedByAppearance","getIsReadOnly","CROP","isUncommittedContentEditPlaceholder","hasStyle","toolsWithNoStyling","RADIO_FORM_FIELD","CHECK_BOX_FIELD","VIDEO_REDACTION","VIDEO_AND_AUDIO_REDACTION","AUDIO_REDACTION","isFullPDFEnabled","getContentEditType","ContentEdit","Types","TEXT","_callee2","_context2","trigger","isAnnotationRedactable","primaryAnnotation","selectedAnnotation","InReplyTo","isInFormFieldCreationMode","getFormFieldCreationManager","SIGNATURE","REDACTION","REDACTION2","REDACTION3","REDACTION4","STICKY","STICKY2","STICKY3","STICKY4","SoundAnnotation","LineAnnotation","hasAudioData","contentEditManager","getContentEditManager","isInContentEditMode","endContentEditMode","triggerNoteEditing","openElement","text","setNoteContents","updateAnnotation","isDatePickerShowed","warning","message","confirmBtnText","onConfirm","showWarningMessage","clearSignature","applyRedactions","groupAnnotations","ungroupAnnotations","disableElement","PRIORITY_THREE","FORM_FIELD_EDIT_POPUP","annot","getGroupedLinkAnnotations","linkAnnot","index","TextHighlightAnnotation","Opacity","deleteAnnotation","setActiveSoundAnnotation","triggerResetAudioPlaybackPosition","CALIBRATION_MODAL","ANNOTATION_ALIGNMENT_POPUP","noop","onRedactionCompleted","isWebViewerServerDocument","webViewerServerApply","webViewerApply","results","url","downloadPdf","includeAnnotations","externalURL","i18next","fireError","exports","___CSS_LOADER_API_IMPORT___","module","locals","api","__esModule","default","styleTag","head","appendChild","webComponents","getElementsByTagName","findNestedWebComponents","tagName","root","elements","querySelectorAll","el","clonedStyleTags","webComponent","onload","styleNode","innerHTML","cloneNode"],"sourceRoot":""}