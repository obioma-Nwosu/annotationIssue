{"version":3,"file":"chunks/7295.chunk.js","mappings":"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","sources":["webpack://webviewer-ui/./src/components/RichTextStyleEditor/RichTextStyleEditor.js","webpack://webviewer-ui/./src/components/RichTextStyleEditor/index.js","webpack://webviewer-ui/./src/components/StylePicker/ColorPicker/ColorPicker.js","webpack://webviewer-ui/./src/components/StylePicker/ColorPicker/index.js","webpack://webviewer-ui/./src/components/RichTextStyleEditor/RichTextStyleEditor.scss","webpack://webviewer-ui/./src/components/StylePicker/ColorPicker/ColorPicker.scss","webpack://webviewer-ui/./src/components/RichTextStyleEditor/RichTextStyleEditor.scss?e056","webpack://webviewer-ui/./src/components/StylePicker/ColorPicker/ColorPicker.scss?5eed"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { useSelector, useDispatch, shallowEqual } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport ColorPicker from 'components/StylePicker/ColorPicker';\r\nimport core from 'core';\r\nimport actions from 'actions';\r\nimport selectors from 'selectors';\r\nimport './RichTextStyleEditor.scss';\r\nimport DataElements from 'constants/dataElement';\r\nimport TextStylePicker from 'components/TextStylePicker';\r\nimport adjustFreeTextBoundingBox from 'helpers/adjustFreeTextBoundingBox';\r\n\r\nconst propTypes = {\r\n  annotation: PropTypes.object,\r\n  editor: PropTypes.object,\r\n  style: PropTypes.shape({\r\n    TextColor: PropTypes.object,\r\n    RichTextStyle: PropTypes.any,\r\n  }),\r\n  isFreeTextAutoSize: PropTypes.bool,\r\n  onFreeTextSizeToggle: PropTypes.func,\r\n  onPropertyChange: PropTypes.func,\r\n  onRichTextStyleChange: PropTypes.func,\r\n  isRedaction: PropTypes.bool,\r\n  isRichTextEditMode: PropTypes.bool,\r\n  setIsRichTextEditMode: PropTypes.func,\r\n  isTextStylePickerHidden: PropTypes.bool,\r\n};\r\n\r\nconst RichTextStyleEditor = ({\r\n  annotation, editor,\r\n  style,\r\n  isFreeTextAutoSize,\r\n  onFreeTextSizeToggle,\r\n  onPropertyChange,\r\n  onRichTextStyleChange,\r\n  isRichTextEditMode,\r\n  setIsRichTextEditMode,\r\n  isRedaction,\r\n  isTextStylePickerHidden,\r\n  activeTool,\r\n  textSizeSliderComponent,\r\n}) => {\r\n  const [\r\n    fonts,\r\n  ] = useSelector(\r\n    (state) => [\r\n      selectors.getFonts(state),\r\n    ],\r\n    shallowEqual,\r\n  );\r\n\r\n  const [format, setFormat] = useState({});\r\n  const editorRef = useRef(null);\r\n  const annotationRef = useRef(null);\r\n  const propertiesRef = useRef({});\r\n  const dispatch = useDispatch();\r\n  const oldSelectionRef = useRef();\r\n  const richTextEditModeRef = useRef();\r\n  richTextEditModeRef.current = isRichTextEditMode;\r\n\r\n  useEffect(() => {\r\n    const handleSelectionChange = (range, oldRange) => {\r\n      const shouldRestoreLostSelection = !range && oldRange && editorRef.current;\r\n      if (shouldRestoreLostSelection) {\r\n        editorRef.current.setSelection(oldRange.index, oldRange.length);\r\n      }\r\n      if (range && editorRef.current) {\r\n        setFormat(getFormat(range));\r\n      }\r\n    };\r\n    const handleTextChange = () => {\r\n      setFormat(getFormat(editorRef.current?.getSelection()));\r\n    };\r\n    core.addEventListener('editorSelectionChanged', handleSelectionChange);\r\n    core.addEventListener('editorTextChanged', handleTextChange);\r\n    // Have to disable instead of closing because annotation popup will reopen itself\r\n    dispatch(actions.disableElements([DataElements.ANNOTATION_STYLE_POPUP]));\r\n    return () => {\r\n      core.removeEventListener('editorSelectionChanged', handleSelectionChange);\r\n      core.removeEventListener('editorTextChanged', handleTextChange);\r\n      dispatch(actions.enableElements([DataElements.ANNOTATION_STYLE_POPUP]));\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    editorRef.current = editor;\r\n    annotationRef.current = annotation;\r\n    if (isRichTextEditMode && annotation) {\r\n      let StrokeStyle = 'solid';\r\n      try {\r\n        StrokeStyle = (annotation['Style'] === 'dash')\r\n          ? `${annotation['Style']},${annotation['Dashes']}`\r\n          : annotation['Style'];\r\n      } catch (err) {\r\n        console.error(err);\r\n      }\r\n      const richTextStyles = annotation.getRichTextStyle();\r\n      const stylesTemp = richTextStyles[0];\r\n\r\n      propertiesRef.current = {\r\n        Font: annotation.Font,\r\n        FontSize: annotation.FontSize,\r\n        TextAlign: annotation.TextAlign,\r\n        TextVerticalAlign: annotation.TextVerticalAlign,\r\n        bold: stylesTemp?.['font-weight'] === 'bold' ?? false,\r\n        italic: stylesTemp?.['font-style'] === 'italic' ?? false,\r\n        underline: stylesTemp?.['text-decoration']?.includes('underline')\r\n          || stylesTemp?.['text-decoration']?.includes('word'),\r\n        strikeout: stylesTemp?.['text-decoration']?.includes('line-through') ?? false,\r\n        size: stylesTemp?.['font-size'],\r\n        font: stylesTemp?.['font-family'],\r\n        StrokeStyle,\r\n        calculatedFontSize: annotation.getCalculatedFontSize()\r\n      };\r\n    }\r\n\r\n    setFormat(getFormat(editorRef.current?.getSelection()));\r\n\r\n    if (oldSelectionRef.current) {\r\n      editorRef.current.setSelection(oldSelectionRef.current);\r\n      oldSelectionRef.current = null;\r\n    }\r\n  }, [annotation, editor, isRichTextEditMode]);\r\n\r\n  useEffect(() => {\r\n    const handleEditorBlur = () => {\r\n      editorRef.current = null;\r\n      annotationRef.current = null;\r\n      setIsRichTextEditMode(false);\r\n    };\r\n    const handleEditorFocus = () => {\r\n      setIsRichTextEditMode(true);\r\n    };\r\n\r\n    core.addEventListener('editorBlur', handleEditorBlur);\r\n    core.addEventListener('editorFocus', handleEditorFocus);\r\n    return () => {\r\n      core.removeEventListener('editorBlur', handleEditorBlur);\r\n      core.removeEventListener('editorFocus', handleEditorFocus);\r\n    };\r\n  }, [dispatch]);\r\n\r\n\r\n  const getFormat = (range) => {\r\n    if (!range) {\r\n      return {};\r\n    }\r\n\r\n    const format = editorRef.current.getFormat(range.index, range.length);\r\n\r\n    if (typeof format.color === 'string') {\r\n      format.color = new window.Core.Annotations.Color(format.color);\r\n    } else if (Array.isArray(format.color)) {\r\n      // the selection contains multiple color, so we set the current color to the last selected color\r\n      const lastSelectedColor = new window.Core.Annotations.Color(format.color[format.color.length - 1]);\r\n      format.color = lastSelectedColor;\r\n    } else if (!format.color) {\r\n      format.color = annotationRef.current.TextColor;\r\n    }\r\n\r\n    const propertiesToCheck = ['font', 'size', 'originalSize'];\r\n\r\n    for (const prop of propertiesToCheck) {\r\n      if (format[prop] && Array.isArray(format[prop])) {\r\n        format[prop] = undefined;\r\n      }\r\n    }\r\n\r\n    return format;\r\n  };\r\n\r\n  const handleTextFormatChange = (format) => () => {\r\n    let { index, length } = editorRef.current.getSelection();\r\n    if (length === 0) {\r\n      oldSelectionRef.current = { index, length };\r\n      const newSelection = editorRef.current.getSelection();\r\n      index = newSelection.index;\r\n      length = newSelection.length;\r\n    }\r\n    const currentFormat = editorRef.current.getFormat(index, length);\r\n\r\n    applyFormat(format, !currentFormat[format]);\r\n  };\r\n\r\n  const handleColorChange = (name, color) => {\r\n    if (!richTextEditModeRef.current) {\r\n      onPropertyChange(name, color);\r\n      return;\r\n    }\r\n    applyFormat('color', color.toHexString());\r\n  };\r\n\r\n  const applyFormat = (formatKey, value) => {\r\n    if (formatKey === 'size') {\r\n      editorRef.current?.format('applyCustomFontSize', value);\r\n    } else {\r\n      editorRef.current?.format(formatKey, value);\r\n    }\r\n\r\n    if (formatKey === 'color') {\r\n      value = new window.Core.Annotations.Color(value);\r\n    }\r\n\r\n    // format the entire editor doesn't trigger the editorTextChanged event, so we set the format state here\r\n    setFormat({\r\n      ...format,\r\n      [formatKey]: value\r\n    });\r\n  };\r\n\r\n  // onPropertyChange\r\n  const handlePropertyChange = (property, value) => {\r\n    if (!richTextEditModeRef.current) {\r\n      onPropertyChange(property, value);\r\n      return;\r\n    }\r\n\r\n    const { index, length } = editorRef.current.getSelection();\r\n    const annotation = annotationRef.current;\r\n    annotation[property] = value;\r\n    editorRef.current.blur();\r\n    if (property === 'FontSize' || property === 'Font') {\r\n      adjustFreeTextBoundingBox(annotation);\r\n    }\r\n    setTimeout(() => {\r\n      oldSelectionRef.current = { index, length };\r\n      const editBoxManager = core.getAnnotationManager().getEditBoxManager();\r\n      editBoxManager.focusBox(annotation);\r\n    }, 0);\r\n  };\r\n\r\n\r\n  // onRichTextStyleChange\r\n  const handleRichTextStyleChange = (property, value) => {\r\n    if (!richTextEditModeRef.current) {\r\n      onRichTextStyleChange(property, value);\r\n      return;\r\n    }\r\n\r\n    const propertyTranslation = {\r\n      'font-weight': 'bold',\r\n      'font-style': 'italic',\r\n      'underline': 'underline',\r\n      'line-through': 'strike',\r\n      'font-family': 'font',\r\n      'font-size': 'size',\r\n    };\r\n    if (property === 'font-family' || property === 'font-size') {\r\n      applyFormat(propertyTranslation[property], value);\r\n      const freeText = annotationRef.current;\r\n      if (freeText.isAutoSized()) {\r\n        const editBoxManager = core.getAnnotationManager().getEditBoxManager();\r\n        editBoxManager.resizeAnnotation(freeText);\r\n      }\r\n    } else {\r\n      handleTextFormatChange(propertyTranslation[property])();\r\n    }\r\n  };\r\n\r\n  let properties = {};\r\n\r\n  const { RichTextStyle } = style;\r\n  const defaults = {\r\n    bold: RichTextStyle?.[0]?.['font-weight'] === 'bold' ?? false,\r\n    italic: RichTextStyle?.[0]?.['font-style'] === 'italic' ?? false,\r\n    underline: RichTextStyle?.[0]?.['text-decoration']?.includes('underline') || RichTextStyle?.[0]?.['text-decoration']?.includes('word'),\r\n    strikeout: RichTextStyle?.[0]?.['text-decoration']?.includes('line-through') ?? false,\r\n    font: RichTextStyle?.[0]?.['font-family'],\r\n    size: RichTextStyle?.[0]?.['font-size'],\r\n    StrokeStyle: 'solid',\r\n  };\r\n\r\n  properties = {\r\n    ...style,\r\n    ...defaults,\r\n  };\r\n\r\n  if (isRichTextEditMode && annotation) {\r\n    propertiesRef.current.bold = format.bold;\r\n    propertiesRef.current.italic = format.italic;\r\n    propertiesRef.current.underline = format.underline;\r\n    propertiesRef.current.strikeout = format.strike;\r\n    propertiesRef.current.quillFont = format.font || propertiesRef.current.Font;\r\n    propertiesRef.current.quillFontSize = format.originalSize || propertiesRef.current.FontSize;\r\n  }\r\n\r\n  return (\r\n    <div className=\"RichTextStyleEditor\"\r\n      onMouseDown={(e) => {\r\n        if (e.type !== 'touchstart' && isRichTextEditMode) {\r\n          e.preventDefault();\r\n        }\r\n      }}\r\n    >\r\n      {!isTextStylePickerHidden && (\r\n        <div className=\"menu-items\">\r\n          <TextStylePicker\r\n            fonts={fonts}\r\n            onPropertyChange={handlePropertyChange}\r\n            onRichTextStyleChange={handleRichTextStyleChange}\r\n            properties={isRichTextEditMode ? propertiesRef.current : properties}\r\n            stateless={true}\r\n            isFreeText={!isRedaction}\r\n            onFreeTextSizeToggle={onFreeTextSizeToggle}\r\n            isFreeTextAutoSize={isFreeTextAutoSize}\r\n            isRichTextEditMode={isRichTextEditMode}\r\n            isRedaction={isRedaction}\r\n          />\r\n        </div>\r\n      )}\r\n      <ColorPicker\r\n        onColorChange={(color) => {\r\n          handleColorChange('TextColor', new window.Core.Annotations.Color(color));\r\n        }}\r\n        color={isRichTextEditMode ? format.color : style['TextColor']}\r\n        activeTool={activeTool}\r\n        type={'Text'}\r\n      />\r\n      {textSizeSliderComponent}\r\n    </div>\r\n  );\r\n};\r\nRichTextStyleEditor.propTypes = propTypes;\r\n\r\nexport default React.memo(RichTextStyleEditor);\r\n","import RichTextStyleEditor from './RichTextStyleEditor';\r\n\r\nexport default RichTextStyleEditor;","import React, { useState, useCallback, useEffect, useRef } from 'react';\r\nimport classNames from 'classnames';\r\nimport './ColorPicker.scss';\r\nimport { useTranslation } from 'react-i18next';\r\nimport PropTypes from 'prop-types';\r\nimport actions from 'actions';\r\nimport { useDispatch, useStore, useSelector } from 'react-redux';\r\nimport Events from 'constants/events';\r\nimport { getInstanceNode } from 'helpers/getRootNode';\r\nimport selectors from 'selectors';\r\nimport Button from 'components/Button';\r\n\r\nconst parseColor = (color) => {\r\n  if (!color) {\r\n    return color;\r\n  }\r\n  let parsedColor = color;\r\n  if (parsedColor?.toHexString) {\r\n    parsedColor = parsedColor.toHexString();\r\n  }\r\n  if (parsedColor?.toLowerCase) {\r\n    parsedColor = parsedColor.toLowerCase();\r\n  }\r\n\r\n  return parsedColor;\r\n};\r\n\r\nconst TRANSPARENT_COLOR = 'transparent';\r\n\r\nconst transparentIcon = (\r\n  <svg\r\n    width=\"100%\"\r\n    height=\"100%\"\r\n    className={classNames('transparent')}\r\n  >\r\n    <line stroke=\"#d82e28\" x1=\"0\" y1=\"100%\" x2=\"100%\" y2=\"0\" strokeWidth=\"2\" strokeLinecap=\"round\"/>\r\n  </svg>\r\n);\r\n\r\n\r\nconst propTypes = {\r\n  color: PropTypes.any\r\n};\r\n\r\nconst ColorPicker = ({\r\n  onColorChange,\r\n  hasTransparentColor = false,\r\n  color,\r\n  activeTool,\r\n  type,\r\n}) => {\r\n  const activeToolName = Object.values(window.Core.Tools.ToolNames).includes(activeTool) ? activeTool : window.Core.Tools.ToolNames.EDIT;\r\n  const store = useStore();\r\n  const { t } = useTranslation();\r\n  const dispatch = useDispatch();\r\n  const [colors] = useSelector((state) => [\r\n    selectors.getColors(state, activeToolName, type),\r\n  ]);\r\n  const [selectedColor, setSelectedColor] = useState();\r\n  const [isExpanded, setIsExpanded] = useState(false);\r\n  const forceExpandRef = useRef(true);\r\n\r\n  useEffect(() => {\r\n    forceExpandRef.current = true;\r\n  }, [activeToolName, color]);\r\n\r\n  useEffect(() => {\r\n    if (color) {\r\n      setSelectedColor(parseColor(color));\r\n    }\r\n  }, [color]);\r\n\r\n  const getCustomColorAndRemove = () => {\r\n    const customColor = selectors.getCustomColor(store.getState());\r\n    dispatch(actions.setCustomColor(null));\r\n    return customColor;\r\n  };\r\n\r\n  const handleAddColor = useCallback(() => {\r\n    dispatch(actions.openElement('ColorPickerModal'));\r\n    const onVisibilityChanged = (e) => {\r\n      const { element, isVisible } = e.detail;\r\n      if (element === 'ColorPickerModal' && !isVisible) {\r\n        const color = parseColor(getCustomColorAndRemove());\r\n        if (color) {\r\n          if (colors.includes(color)) {\r\n            setSelectedColor(color);\r\n            onColorChange(color);\r\n          } else {\r\n            const newColors = [...colors, color];\r\n            dispatch(actions.setColors(newColors, activeToolName, type, true));\r\n            setSelectedColor(color);\r\n            onColorChange(color);\r\n          }\r\n        }\r\n      }\r\n      getInstanceNode().removeEventListener(Events.VISIBILITY_CHANGED, onVisibilityChanged);\r\n    };\r\n    getInstanceNode().addEventListener(Events.VISIBILITY_CHANGED, onVisibilityChanged);\r\n  }, [colors?.length, dispatch, setSelectedColor, onColorChange, getCustomColorAndRemove, type, activeToolName]);\r\n\r\n  const handleDelete = () => {\r\n    const color = parseColor(selectedColor);\r\n    const newColors = [...colors];\r\n    const indexToDelete = newColors.indexOf(color);\r\n    if (indexToDelete > -1) {\r\n      const nextIndex = indexToDelete === newColors.length - 1 ? 0 : indexToDelete + 1;\r\n      setSelectedColor(colors[nextIndex]);\r\n      onColorChange(colors[nextIndex]);\r\n      newColors.splice(indexToDelete, 1);\r\n      dispatch(actions.setColors(newColors, activeToolName, type, true));\r\n    }\r\n  };\r\n\r\n  const handleCopyColor = () => {\r\n    const color = parseColor(selectedColor);\r\n    const newColors = [...colors, color];\r\n    dispatch(actions.setColors(newColors, activeToolName, type, true));\r\n  };\r\n\r\n  const toggleExpanded = () => {\r\n    const newValue = !isExpanded;\r\n    setIsExpanded(newValue);\r\n  };\r\n\r\n  let palette = colors.map((color) => color.toLowerCase());\r\n  if (hasTransparentColor) {\r\n    palette.push(TRANSPARENT_COLOR);\r\n  }\r\n\r\n  if (!selectedColor) {\r\n    setSelectedColor('transparent');\r\n  }\r\n\r\n  if (palette.indexOf(selectedColor) > 6 && !isExpanded && forceExpandRef.current) {\r\n    setIsExpanded(true);\r\n    forceExpandRef.current = false;\r\n  }\r\n\r\n  const shouldHideShowMoreButton = palette.length <= 7;\r\n  const showCopyButtonDisabled = !(selectedColor && !palette.includes(selectedColor));\r\n  const isDeleteDisabled = palette.length <= 1 || !showCopyButtonDisabled;\r\n\r\n  if (!isExpanded) {\r\n    palette = palette.slice(0, 7);\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className={classNames('ColorPalette')}>\r\n        {palette.map((color) => parseColor(color)).map((color, i) => (\r\n          !color\r\n            ? <div key={i} className=\"dummy-cell\"/>\r\n            : <button\r\n              key={i}\r\n              className=\"cell-container\"\r\n              onClick={() => {\r\n                setSelectedColor(color);\r\n                onColorChange(color);\r\n              }}\r\n              aria-label={`${t('option.colorPalette.colorLabel')} ${i + 1}`}\r\n            >\r\n              <div\r\n                className={classNames({\r\n                  'cell-outer': true,\r\n                  active: parseColor(selectedColor) === color || (!parseColor(selectedColor) && color === TRANSPARENT_COLOR),\r\n                })}\r\n              >\r\n                <div\r\n                  className={classNames({\r\n                    cell: true,\r\n                    border: color === '#ffffff' || color === TRANSPARENT_COLOR,\r\n                  })}\r\n                  style={{ backgroundColor: color }}\r\n                >\r\n                  {color === TRANSPARENT_COLOR && transparentIcon}\r\n                </div>\r\n              </div>\r\n            </button>\r\n        ))}\r\n      </div>\r\n      <div className=\"palette-controls\">\r\n        <div className=\"button-container\">\r\n          <Button\r\n            img=\"icon-header-zoom-in-line\"\r\n            title={t('action.addNewColor')}\r\n            onClick={handleAddColor}\r\n            className=\"control-button\"\r\n            dataElement=\"addCustomColor\"\r\n          />\r\n          <Button\r\n            img=\"icon-delete-line\"\r\n            title={t('action.deleteColor')}\r\n            onClick={handleDelete}\r\n            disabled={isDeleteDisabled}\r\n            className=\"control-button\"\r\n            dataElement=\"deleteSelectedColor\"\r\n          />\r\n          <Button\r\n            img=\"icon-copy2\"\r\n            title={t('action.copySelectedColor')}\r\n            onClick={handleCopyColor}\r\n            disabled={showCopyButtonDisabled}\r\n            className=\"control-button\"\r\n            dataElement=\"copySelectedColor\"\r\n          />\r\n        </div>\r\n        <button className={classNames('show-more-button control-button', {\r\n          hidden: shouldHideShowMoreButton,\r\n        })} onClick={toggleExpanded}>\r\n          {t(isExpanded ? 'message.showLess' : 'message.showMore')}\r\n        </button>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nColorPicker.propTypes = propTypes;\r\n\r\nexport default ColorPicker;","import ColorPicker from './ColorPicker';\r\n\r\nexport default ColorPicker;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}@keyframes bottom-up{0%{transform:translateY(100%)}to{transform:translateY(0)}}@keyframes up-bottom{0%{transform:translateY(0)}to{transform:translateY(100%)}}.RichTextStyleEditor{margin-bottom:16px}.RichTextStyleEditor .menu-items{margin-bottom:8px!important}.RichTextStyleEditor .menu-items .icon-grid{padding-top:12px;grid-row-gap:12px;row-gap:12px}.RichTextStyleEditor .menu-items .icon-grid .row{padding-top:0}.RichTextStyleEditor .menu-items .icon-grid .row.isRedaction{padding-bottom:8px}.RichTextStyleEditor .menu-items .icon-grid .auto-size-checkbox{padding-top:4px;padding-bottom:8px}.RichTextStyleEditor .Dropdown__wrapper{width:100%}.RichTextStyleEditor .Dropdown__wrapper .Dropdown{width:100%!important}.RichTextStyleEditor .Dropdown__wrapper .Dropdown__items{right:unset}.RichTextStyleEditor .FontSizeDropdown{width:100%!important}.RichTextStyleEditor .ColorPalette{padding-bottom:8px}.RichTextStyleEditor .text-size-slider{margin-top:16px}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .RichTextStyleEditor .icon-grid{display:flex;flex-direction:column}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .RichTextStyleEditor .icon-grid{display:flex;flex-direction:column}}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"LEFT_HEADER_WIDTH\": \"41px\",\n\t\"RIGHT_HEADER_WIDTH\": \"41px\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.StylePicker .ColorPalette{display:flex;flex-wrap:wrap;display:grid;grid-template-columns:repeat(7,1fr);grid-row-gap:8px;row-gap:8px;justify-items:center}@media (-ms-high-contrast:active),(-ms-high-contrast:none){.StylePicker .ColorPalette{width:196px}}.StylePicker .ColorPalette.padding{padding:4px 12px 8px}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .StylePicker .ColorPalette{max-width:450px;width:auto}}@media(max-width:640px)and (-ms-high-contrast:active),(max-width:640px)and (-ms-high-contrast:none){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .StylePicker .ColorPalette{width:308px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .StylePicker .ColorPalette{max-width:450px;width:auto}@media (-ms-high-contrast:active),(-ms-high-contrast:none){.App.is-web-component:not(.is-in-desktop-only-mode) .StylePicker .ColorPalette{width:308px}}}.StylePicker .ColorPalette .cell-container{padding:0;border:none;background-color:transparent;flex:1 0 14%;cursor:pointer;width:28px;height:28px;display:flex;align-items:center;justify-content:center}:host(:not([data-tabbing=true])) .StylePicker .ColorPalette .cell-container,html:not([data-tabbing=true]) .StylePicker .ColorPalette .cell-container{outline:none}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .StylePicker .ColorPalette .cell-container{width:44px;height:44px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .StylePicker .ColorPalette .cell-container{width:44px;height:44px}}.StylePicker .ColorPalette .cell-container .cell-outer.active{border:1px solid var(--color-palette-border);width:26px;height:26px;border-radius:10000000px;display:flex;align-items:center;justify-content:center}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .StylePicker .ColorPalette .cell-container .cell-outer.active{width:36px;height:36px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .StylePicker .ColorPalette .cell-container .cell-outer.active{width:36px;height:36px}}.StylePicker .ColorPalette .cell-container .cell-outer .cell{width:18px;height:18px;border-radius:10000000px}.StylePicker .ColorPalette .cell-container .cell-outer .cell .transparent{border:2px solid var(--faded-text);border-radius:10000000px}.StylePicker .ColorPalette .cell-container .cell-outer .cell.border{border:1px solid var(--white-color-palette-border)}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .StylePicker .ColorPalette .cell-container .cell-outer .cell{width:24px;height:24px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .StylePicker .ColorPalette .cell-container .cell-outer .cell{width:24px;height:24px}}.StylePicker .palette-controls{padding-right:12px;padding-left:2px;display:flex;justify-content:space-between}.StylePicker .palette-controls .button-container{display:flex;grid-gap:8px;gap:8px}.StylePicker .palette-controls .control-button{display:flex;align-items:center;justify-content:center;text-align:center;min-width:32px;min-height:32px;padding:0;border:none;background-color:transparent;cursor:pointer;border-radius:4px}:host(:not([data-tabbing=true])) .StylePicker .palette-controls .control-button,html:not([data-tabbing=true]) .StylePicker .palette-controls .control-button{outline:none}.StylePicker .palette-controls .control-button.show-more-button{color:var(--ribbon-active-color)}.StylePicker .palette-controls .control-button.show-more-button:hover{background:none;color:var(--primary-button-hover)}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .StylePicker .palette-controls .control-button.show-more-button{color:var(--ribbon-active-color)}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .StylePicker .palette-controls .control-button.show-more-button{color:var(--ribbon-active-color)}}.StylePicker .palette-controls .control-button:disabled{cursor:default}.StylePicker .palette-controls .control-button:disabled .Icon{color:var(--disabled-icon)}.StylePicker .palette-controls .control-button.hidden{display:none}.StylePicker .palette-controls .control-button:hover{background:var(--view-header-button-hover)}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"LEFT_HEADER_WIDTH\": \"41px\",\n\t\"RIGHT_HEADER_WIDTH\": \"41px\"\n};\nmodule.exports = exports;\n","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/postcss-loader/src/index.js??ruleSet[1].rules[1].use[2]!../../../node_modules/sass-loader/dist/cjs.js!./RichTextStyleEditor.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\r\n                function findNestedWebComponents(tagName, root = document) {\r\n                  const elements = [];\r\n\r\n                  // Check direct children\r\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\r\n\r\n                  // Check shadow DOMs\r\n                  root.querySelectorAll('*').forEach(el => {\r\n                    if (el.shadowRoot) {\r\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\r\n                    }\r\n                  });\r\n\r\n                  return elements;\r\n                }\r\n                if (!window.isApryseWebViewerWebComponent) {\r\n                  document.head.appendChild(styleTag);\r\n                  return;\r\n                }\r\n\r\n                let webComponents;\r\n                // First we see if the webcomponent is at the document level\r\n                webComponents = document.getElementsByTagName('apryse-webviewer');\r\n                // If not, we check have to check if it is nested in another webcomponent\r\n                if (!webComponents.length) {\r\n                  webComponents = findNestedWebComponents('apryse-webviewer');\r\n                }\r\n                // Now we append the style tag to each webcomponent\r\n                const clonedStyleTags = [];\r\n                for (let i = 0; i < webComponents.length; i++) {\r\n                  const webComponent = webComponents[i];\r\n                  if (i === 0) {\r\n                    webComponent.shadowRoot.appendChild(styleTag);\r\n                    styleTag.onload = function () {\r\n                      if (clonedStyleTags.length > 0) {\r\n                        clonedStyleTags.forEach((styleNode) => {\r\n                          // eslint-disable-next-line no-unsanitized/property\r\n                          styleNode.innerHTML = styleTag.innerHTML;\r\n                        });\r\n                      }\r\n                    };\r\n                  } else {\r\n                    const styleNode = styleTag.cloneNode(true);\r\n                    webComponent.shadowRoot.appendChild(styleNode);\r\n                    clonedStyleTags.push(styleNode);\r\n                  }\r\n                }\r\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","var api = require(\"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/postcss-loader/src/index.js??ruleSet[1].rules[1].use[2]!../../../../node_modules/sass-loader/dist/cjs.js!./ColorPicker.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\r\n                function findNestedWebComponents(tagName, root = document) {\r\n                  const elements = [];\r\n\r\n                  // Check direct children\r\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\r\n\r\n                  // Check shadow DOMs\r\n                  root.querySelectorAll('*').forEach(el => {\r\n                    if (el.shadowRoot) {\r\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\r\n                    }\r\n                  });\r\n\r\n                  return elements;\r\n                }\r\n                if (!window.isApryseWebViewerWebComponent) {\r\n                  document.head.appendChild(styleTag);\r\n                  return;\r\n                }\r\n\r\n                let webComponents;\r\n                // First we see if the webcomponent is at the document level\r\n                webComponents = document.getElementsByTagName('apryse-webviewer');\r\n                // If not, we check have to check if it is nested in another webcomponent\r\n                if (!webComponents.length) {\r\n                  webComponents = findNestedWebComponents('apryse-webviewer');\r\n                }\r\n                // Now we append the style tag to each webcomponent\r\n                const clonedStyleTags = [];\r\n                for (let i = 0; i < webComponents.length; i++) {\r\n                  const webComponent = webComponents[i];\r\n                  if (i === 0) {\r\n                    webComponent.shadowRoot.appendChild(styleTag);\r\n                    styleTag.onload = function () {\r\n                      if (clonedStyleTags.length > 0) {\r\n                        clonedStyleTags.forEach((styleNode) => {\r\n                          // eslint-disable-next-line no-unsanitized/property\r\n                          styleNode.innerHTML = styleTag.innerHTML;\r\n                        });\r\n                      }\r\n                    };\r\n                  } else {\r\n                    const styleNode = styleTag.cloneNode(true);\r\n                    webComponent.shadowRoot.appendChild(styleNode);\r\n                    clonedStyleTags.push(styleNode);\r\n                  }\r\n                }\r\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};"],"names":["propTypes","annotation","PropTypes","editor","style","TextColor","RichTextStyle","isFreeTextAutoSize","onFreeTextSizeToggle","onPropertyChange","onRichTextStyleChange","isRedaction","isRichTextEditMode","setIsRichTextEditMode","isTextStylePickerHidden","RichTextStyleEditor","_ref","_ref4","_RichTextStyle$","_ref5","_RichTextStyle$2","_RichTextStyle$3","_RichTextStyle$3$text","_RichTextStyle$4","_RichTextStyle$4$text","_RichTextStyle$0$text","_RichTextStyle$5","_RichTextStyle$5$text","_RichTextStyle$6","_RichTextStyle$7","activeTool","textSizeSliderComponent","fonts","_slicedToArray","useSelector","state","selectors","getFonts","shallowEqual","_useState2","useState","format","setFormat","editorRef","useRef","annotationRef","propertiesRef","dispatch","useDispatch","oldSelectionRef","richTextEditModeRef","current","useEffect","handleSelectionChange","range","oldRange","setSelection","index","length","getFormat","handleTextChange","_editorRef$current","getSelection","core","addEventListener","actions","disableElements","DataElements","ANNOTATION_STYLE_POPUP","removeEventListener","enableElements","_editorRef$current2","_ref2","_ref3","_stylesTemp$textDeco","_stylesTemp$textDeco2","_stylesTemp$textDeco3","_stylesTemp$textDeco4","StrokeStyle","concat","err","console","error","stylesTemp","getRichTextStyle","Font","FontSize","TextAlign","TextVerticalAlign","bold","italic","underline","includes","strikeout","size","font","calculatedFontSize","getCalculatedFontSize","handleEditorBlur","handleEditorFocus","properties","color","window","Core","Annotations","Color","Array","isArray","lastSelectedColor","_i","_propertiesToCheck","prop","undefined","applyFormat","formatKey","value","_editorRef$current3","_editorRef$current4","_objectSpread","_defineProperty","defaults","strike","quillFont","quillFontSize","originalSize","React","className","onMouseDown","e","type","preventDefault","TextStylePicker","property","_editorRef$current$ge2","blur","adjustFreeTextBoundingBox","setTimeout","getAnnotationManager","getEditBoxManager","focusBox","propertyTranslation","freeText","isAutoSized","resizeAnnotation","_editorRef$current$ge","newSelection","currentFormat","handleTextFormatChange","stateless","isFreeText","ColorPicker","onColorChange","name","toHexString","handleColorChange","parseColor","_parsedColor","_parsedColor2","parsedColor","toLowerCase","TRANSPARENT_COLOR","transparentIcon","width","height","classNames","stroke","x1","y1","x2","y2","strokeWidth","strokeLinecap","_ref$hasTransparentCo","hasTransparentColor","activeToolName","Object","values","Tools","ToolNames","EDIT","store","useStore","t","useTranslation","colors","getColors","selectedColor","setSelectedColor","_useState4","isExpanded","setIsExpanded","forceExpandRef","getCustomColorAndRemove","customColor","getCustomColor","getState","setCustomColor","handleAddColor","useCallback","openElement","getInstanceNode","Events","VISIBILITY_CHANGED","onVisibilityChanged","_e$detail","detail","element","isVisible","newColors","_toConsumableArray","setColors","palette","map","push","indexOf","shouldHideShowMoreButton","showCopyButtonDisabled","isDeleteDisabled","slice","i","key","onClick","active","cell","border","backgroundColor","Button","img","title","dataElement","indexToDelete","nextIndex","splice","disabled","hidden","exports","___CSS_LOADER_API_IMPORT___","module","id","locals","api","content","__esModule","default","options","styleTag","isApryseWebViewerWebComponent","document","head","appendChild","webComponents","getElementsByTagName","findNestedWebComponents","tagName","root","elements","querySelectorAll","forEach","el","shadowRoot","clonedStyleTags","webComponent","onload","styleNode","innerHTML","cloneNode"],"sourceRoot":""}