(self.webpackChunkwebviewer_ui=self.webpackChunkwebviewer_ui||[]).push([[2997],{52997:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>Ue}),n(63534),n(40590),n(64216),n(36611),n(17),n(18636),n(58476),n(15195),n(4895),n(18665),n(14913),n(87787),n(79389),n(64189),n(98741),n(94009),n(69218),n(36012),n(15852),n(10678),n(3101),n(7899),n(5086),n(87136),n(6048),n(29979),n(58379),n(14602);var o=n(96540),r=n(28854),i=(n(80115),n(92157),n(47746),n(19693),n(63555),n(68763),n(90345),n(43148),n(18772),n(32485)),a=n.n(i),l=n(61113),c=n(18492),s=n(5556),u=n.n(s),d=n(40367),p=n(73509);function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){var o,r,i,a;o=e,r=t,i=n[t],a=function(e,t){if("object"!=m(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!=m(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r),(r="symbol"==m(a)?a:a+"")in o?Object.defineProperty(o,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[r]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,i,a,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=i.call(n)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(e){s=!0,r=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw r}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var b={notes:u().array.isRequired,children:u().func.isRequired,onScroll:u().func.isRequired,initialScrollTop:u().number.isRequired,selectedIndex:u().number,sortStrategy:u().string},v=new p.jS({defaultHeight:50,fixedWidth:!0}),w=o.forwardRef((function(e,t){var n=e.notes,r=e.children,i=e.onScroll,a=e.initialScrollTop,l=e.selectedIndex,c=e.sortStrategy,s=(0,o.useRef)(),u=y((0,o.useState)(0),2),m=u[0],f=u[1],g=y((0,o.useState)({width:0,height:0}),2),b=g[0],w=g[1],A=window.innerHeight;(0,o.useImperativeHandle)(t,(function(){return{scrollToPosition:function(e){s.current.scrollToPosition(e)},scrollToRow:function(e){s.current.scrollToRow(e)}}})),(0,o.useEffect)((function(){s.current.scrollToPosition(a)}),[a]),(0,o.useEffect)((function(){var e,t;v.clearAll(),null==s||null===(e=s.current)||void 0===e||e.measureAllRows(),-1!==l&&(null===(t=s.current)||void 0===t||t.scrollToRow(l))}),[l]),(0,o.useEffect)((function(){var e,t;v.clearAll(),null==s||null===(e=s.current)||void 0===e||e.measureAllRows(),null==s||null===(t=s.current)||void 0===t||t.forceUpdateGrid()}),[n.length,c]),(0,o.useEffect)((function(){var e=function(){var e=window.innerHeight-A;e&&(window.innerHeight<A&&f(e),A=window.innerHeight)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}));var E=function(e){var t=e.scrollTop;i(t)},x=function(e){var t=e.index,i=e.key,a=e.parent,l=e.style,c=n[t];return o.createElement(p.dl,{key:"".concat(i).concat(c.Id),cache:v,columnIndex:0,parent:a,rowIndex:t},(function(e){var i=e.measure;return o.createElement("div",{style:h(h({},l),{},{paddingRight:"12px"})},r(n,t,(function(){!function(e){var t;v.clear(e),null===(t=s.current)||void 0===t||t.recomputeRowHeights(e)}(t),i()})))}))};return o.createElement(d.A,{bounds:!0,offset:!0,onResize:function(e){var t=e.bounds;w(h(h({},t),{},{height:t.height+2*m})),f(0)}},(function(e){var t=e.measureRef;return o.createElement("div",{ref:t,className:"virtualized-notes-container"},o.createElement(p.B8,{deferredMeasurementCache:v,style:{outline:"none"},height:b.height-m,width:b.width,overscanRowCount:10,ref:s,rowCount:n.length,rowHeight:v.rowHeight,rowRenderer:x,onScroll:E,"aria-label":"presentation",role:"presentation"}))}))}));w.displayName="VirtualizedList",w.propTypes=b;const A=w;n(59581);var E={notes:u().array.isRequired,children:u().func.isRequired,onScroll:u().func.isRequired,initialScrollTop:u().number.isRequired},x=o.forwardRef((function(e,t){var n=e.notes,r=e.children,i=e.onScroll,a=e.initialScrollTop,l=(0,o.useRef)();return(0,o.useImperativeHandle)(t,(function(){return{scrollToPosition:function(e){l.current.scrollTop=e},scrollToRow:function(e){var t=l.current,n=t.children[e];if(n){var o=t.getBoundingClientRect(),r=n.getBoundingClientRect();r.top>=o.top&&r.top<=o.top+t.clientHeight||(t.scrollTop=r.top+t.scrollTop-o.top)}}}})),(0,o.useEffect)((function(){l.current.scrollTop=a}),[a]),o.createElement("div",{ref:l,className:"normal-notes-container",onScroll:function(e){i(e.target.scrollTop)},role:"list"},n.map((function(e,t){return o.createElement(o.Fragment,{key:"".concat(t,"_").concat(e.Id)},r(n,t))})))}));x.displayName="NormalList",x.propTypes=E;const S=x;var O=n(96850),N=n(11623),P=n(67319),T=n(36980),j=(n(45708),n(51e3)),M=(n(68329),n(10544)),C=n(41366),I=n(347),R=n(75710);function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,i,a,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=i.call(n)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(e){s=!0,r=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw r}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?L(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}n(26524);const _=function(e){var t=e.annotations,n=e.onSubmit,i=e.onClose,s=k((0,l.d4)((function(e){return[R.A.getIsMentionEnabled(e),R.A.getActiveDocumentViewerKey(e)]}),l.bN),2),u=s[0],d=s[1],p=k((0,o.useState)(""),2),m=p[0],f=p[1],h=k((0,c.B)(),1)[0],y=(0,o.useRef)();(0,o.useEffect)((function(){y.current.focus()}),[]);var g=a()({"reply-area":!0});return o.createElement("div",{className:"reply-area-multi-container"},o.createElement("div",{className:"reply-area-multi-header"},o.createElement("div",{className:"title"},h("action.multiReplyAnnotations",{count:t.length})),o.createElement("div",{className:"close-icon-container",onClick:i},o.createElement(N.A,{glyph:"ic_close_black_24px",className:"close-icon"}))),o.createElement("form",{onSubmit:function(e){e.preventDefault();var o=y.current.getEditor(),i=C.A.getFormattedTextFromDeltas(o.getContents());i.trim()&&(t.forEach((function(e){if(u){var t=C.A.createMentionReply(e,i);r.A.addAnnotations([t],d),(0,I.A)(o,t)}else{var n=r.A.createAnnotationReply(e,i,d);(0,I.A)(o,n)}})),n())}},o.createElement("div",{className:g,onMouseDown:function(e){return e.stopPropagation()}},o.createElement(M.A,{ref:function(e){y.current=e},value:m,onChange:function(e){return function(e){f(e)}(e)},isReply:!0})),o.createElement("div",{className:"reply-button-container"},o.createElement(j.A,{img:"icon-post-reply",className:"reply-button",isSubmitType:!0}))))};var H=n(18439),D=n(27781),q=n(4683),U=n(42688),B=n(88595),F=n(14269),z=n(26247),W=n(17246);function G(e){return G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G(e)}function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){var o,r,i,a;o=e,r=t,i=n[t],a=function(e,t){if("object"!=G(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!=G(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r),(r="symbol"==G(a)?a:a+"")in o?Object.defineProperty(o,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[r]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,i,a,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=i.call(n)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(e){s=!0,r=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw r}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Q(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}n(17649);const Y=function(e){var t=e.annotations,n=e.triggerElementName,r=e.onClose,i=void 0===r?function(){}:r,a=(0,l.wA)(),c=(0,o.useRef)(),s=$((0,o.useState)([]),2),u=s[0],d=s[1],p=$((0,o.useState)({left:"auto",right:"auto",top:"auto"}),2),m=p[0],f=p[1],h="MultiStyle";(0,U.A)(c,(function(e){var t=document.querySelector("[data-element=".concat(n,"]")).contains(e.target),o=(0,F.pb)(),r=(0,F.nK)(),a=(0,F.nz)();t||o||r||a||i()}));var y={};t.forEach((function(e){y=K(K({},y),(0,B.A)(e))}));var g=t.find((function(e){return e instanceof window.Core.Annotations.FreeTextAnnotation&&(e.getIntent()===window.Core.Annotations.FreeTextAnnotation.Intent.FreeText||e.getIntent()===window.Core.Annotations.FreeTextAnnotation.Intent.FreeTextCallout)})),b={};if(g){var v,w,A,E,x,S,O,N,P,T,j,M=g.getRichTextStyle();b={Font:g.Font,FontSize:g.FontSize,TextAlign:g.TextAlign,TextVerticalAlign:g.TextVerticalAlign,bold:null!==(v="bold"===(null==M||null===(w=M[0])||void 0===w?void 0:w["font-weight"]))&&void 0!==v&&v,italic:null!==(A="italic"===(null==M||null===(E=M[0])||void 0===E?void 0:E["font-style"]))&&void 0!==A&&A,underline:(null==M||null===(x=M[0])||void 0===x||null===(S=x["text-decoration"])||void 0===S?void 0:S.includes("underline"))||(null==M||null===(O=M[0])||void 0===O||null===(N=O["text-decoration"])||void 0===N?void 0:N.includes("word")),strikeout:null!==(P=null==M||null===(T=M[0])||void 0===T||null===(j=T["text-decoration"])||void 0===j?void 0:j.includes("line-through"))&&void 0!==P&&P}}return(0,o.useEffect)((function(){var e=[];if(y.TextColor&&e.push(W.Rc.TEXT_COLOR),y.StrokeColor&&e.push(W.Rc.STROKE_COLOR),y.FillColor&&e.push(W.Rc.FILL_COLOR),(0,W.sT)(h,e,e[0])){var t=(0,W.re)("currentStyleTab","iconColor");a(z.A.setColorMap(t));var n=(0,W.ap)(h).styleTabs;d(n)}}),[t]),0===u.length?null:o.createElement(D.A,{id:"multi-style-popup-portal",position:m},o.createElement("div",{className:"multi-style-container",ref:c},o.createElement(q.A,{annotations:t,style:y,isOpen:!0,onResize:function(){var e=(0,H.A)(n,c);f(e)},isFreeText:!!g,colorMapKey:h,properties:b,isRedaction:!1,isMeasure:!1,showLineStyleOptions:!1,hideSnapModeCheckbox:!1})))};var X=n(56200),J=n(75076),Z=n(97160);function ee(e){return ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ee(e)}function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){var o,r,i,a;o=e,r=t,i=n[t],a=function(e,t){if("object"!=ee(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!=ee(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r),(r="symbol"==ee(a)?a:a+"")in o?Object.defineProperty(o,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[r]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,i,a,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=i.call(n)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(e){s=!0,r=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw r}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return re(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?re(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}n(40722);var ie={showMultiReply:u().bool.isRequired,setShowMultiReply:u().func.isRequired,showMultiState:u().bool.isRequired,setShowMultiState:u().func.isRequired,showMultiStyle:u().bool.isRequired,setShowMultiStyle:u().func.isRequired,setMultiSelectMode:u().func.isRequired,isMultiSelectedMap:u().object.isRequired,setIsMultiSelectedMap:u().func.isRequired,multiSelectedAnnotations:u().array.isRequired},ae=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=new Set;return e.forEach((function(e){if(e.isGrouped()){var o=r.A.getAnnotationById(e.InReplyTo,t);o&&n.add(o)}else n.add(e)})),Array.from(n)},le=function(e){var t=e.showMultiReply,n=e.setShowMultiReply,i=e.showMultiState,s=e.setShowMultiState,u=e.showMultiStyle,d=e.setShowMultiStyle,p=e.setMultiSelectMode,m=e.isMultiSelectedMap,f=e.setIsMultiSelectedMap,h=e.multiSelectedAnnotations,y=oe((0,o.useState)([]),2),g=y[0],b=y[1],v=(0,l.wA)(),w=oe((0,c.B)(),1)[0],A=oe((0,l.d4)((function(e){return[R.A.getActiveDocumentViewerKey(e),R.A.isDocumentReadOnly(e)]}),l.bN),2),E=A[0],x=A[1];(0,o.useEffect)((function(){var e=function(e,t){if("delete"===t){var n=ne({},m);e.forEach((function(e){delete n[e.Id]})),f(n)}else if("modify"===t){var o=ne({},m);e.forEach((function(e){var t=r.A.getGroupAnnotations(e,E);t.some((function(e){return m[e.Id]}))&&t.forEach((function(e){o[e.Id]=e}))}));var i=Object.keys(m),a=Object.keys(m);i.filter((function(e){return!a.includes(e)})).length>0&&f(o)}};return r.A.addEventListener("annotationChanged",e,void 0,E),function(){r.A.removeEventListener("annotationChanged",e,E)}}),[m,E]),(0,o.useEffect)((function(){return function(){n(!1),f({})}}),[]),(0,o.useEffect)((function(){var e=h.filter((function(e){return r.A.canModify(e,E)}));b(e)}),[h]);var S=r.A.getNumberOfGroups(g,E)>1,O=!S&&(g.length>2||g.length>0&&r.A.getGroupAnnotations(g[0],E).length>1);return t?o.createElement(P.A.Provider,{value:{resize:function(){}}},o.createElement(_,{annotations:ae(h,E),onSubmit:function(){return n(!1)},onClose:function(){return n(!1)}})):o.createElement("div",{className:"multi-select-footer"},o.createElement("div",{className:"buttons-container"},o.createElement(j.A,{dataElement:Z.A.NOTE_MULTI_REPLY_BUTTON,disabled:x||0===h.length,img:"icon-header-chat-line",onClick:function(){n(!0)},title:"action.comment"}),o.createElement(j.A,{dataElement:Z.A.NOTE_MULTI_STATE_BUTTON,className:a()({active:i}),disabled:x||0===g.length,img:"icon-annotation-status-none",onClick:function(){s(!i)},title:"option.notesOrder.status"}),i&&o.createElement(X.A,{style:{position:"relative",bottom:"52px"},triggerElementName:"multiStateButton",handleStateChange:function(e){ae(h,E).forEach((function(t){var n=(0,J.H)(t,e,E);t.addReply(n);var o=r.A.getAnnotationManager(E);o.addAnnotation(n),o.trigger("addReply",[n,t,o.getRootAnnotation(t)])})),s(!1)},onClose:function(){s(!1)}}),o.createElement(j.A,{dataElement:Z.A.NOTE_MULTI_STYLE_BUTTON,img:"icon-menu-style-line",disabled:x||0===g.length,onClick:function(){d(!u)},title:"action.style"}),u&&o.createElement(Y,{annotations:g,triggerElementName:"multiStyleButton",onClose:function(){d(!1)}}),!O&&o.createElement(j.A,{dataElement:Z.A.NOTE_MULTI_GROUP_BUTTON,disabled:x||!S,img:"group-annotations-icon",onClick:function(){r.A.groupAnnotations(h[0],h,E)},title:"action.group"}),O&&o.createElement(j.A,{dataElement:Z.A.NOTE_MULTI_UNGROUP_BUTTON,img:"ungroup-annotations-icon",onClick:function(){r.A.ungroupAnnotations(h,E)},title:"action.ungroup"}),o.createElement(j.A,{dataElement:Z.A.NOTE_MULTI_DELETE_BUTTON,disabled:x||0===g.length,img:"icon-delete-line",onClick:function(){var e={title:w("warning.multiDeleteAnnotation.title"),message:w("warning.multiDeleteAnnotation.message"),confirmBtnText:w("action.delete"),onConfirm:function(){r.A.deleteAnnotations(g,void 0,E)}};v(z.A.showWarningMessage(e))},title:"action.delete"})),o.createElement("div",{className:"close-container"},o.createElement("div",{className:"close-icon-container",onClick:function(){p(!1)}},o.createElement(N.A,{glyph:"ic_close_black_24px",className:"close-icon"}))))};le.propTypes=ie;const ce=le;var se=n(17647),ue=n(38221),de=n.n(ue),pe=n(20714),me=n(21012),fe=n(33647),he=n(56478);function ye(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,i,a,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=i.call(n)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(e){s=!0,r=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw r}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ge(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ge(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}n(12452);var be="sortContainer";const ve=function(e){var t=e.notes,n=e.disableFilterAnnotation,i=e.setSearchInputHandler,s=e.isMultiSelectMode,u=e.toggleMultiSelectMode,d=e.isMultiSelectEnabled,p=ye((0,l.d4)((function(e){return[R.A.getSortStrategy(e),R.A.isElementDisabled(e,be),R.A.getNotesPanelCustomHeaderOptions(e),R.A.getAnnotationFilters(e),R.A.getFeatureFlags(e),R.A.getIsOfficeEditorMode(e)]}),l.bN),6),m=p[0],f=p[1],h=p[2],y=p[3],g=p[4],b=p[5],v=ye((0,c.B)(),1)[0],w=(0,l.wA)(),A=ye((0,o.useState)(!1),2),E=A[0],x=A[1],S=g.customizableUI;(0,o.useEffect)((function(){var e=y.authorFilter,t=y.colorFilter,n=y.statusFilter,o=y.typeFilter;((null==e?void 0:e.length)>0||(null==t?void 0:t.length)>0||(null==n?void 0:n.length)>0||(null==o?void 0:o.length)>0)&&x(!0);var r=function(e){var t=e.detail,n=t.types,o=t.authors,r=t.colors,i=t.statuses;n.length>0||o.length>0||r.length>0||i.length>0?x(!0):x(!1)};return window.addEventListener(fe.A.ANNOTATION_FILTER_CHANGED,r),function(){window.removeEventListener(fe.A.ANNOTATION_FILTER_CHANGED,r)}}),[]);var O=de()((function(e){r.A.deselectAllAnnotations(),i(e)}),500),N=o.createElement("div",{className:"sort-container","data-element":be},o.createElement("div",{className:"label"},"".concat(v("message.sortBy"),":")),o.createElement(pe.A,{dataElement:"notesOrderDropdown",disabled:0===t.length,items:Object.keys((0,he.Qk)()),translationPrefix:"option.notesOrder",currentSelectionKey:m,onClickItem:function(e){w(z.A.setNotesPanelSortStrategy(e))}})),P=o.createElement(me.A,{className:a()({header:!0,"custom-header":S}),dataElement:"notesPanelHeader"},o.createElement(me.A,{className:"input-container",dataElement:Z.A.NotesPanel.DefaultHeader.INPUT_CONTAINER},o.createElement("input",{type:"text",placeholder:v("message.searchCommentsPlaceholder"),"aria-label":v("message.searchCommentsPlaceholder"),onChange:function(e){O(e.target.value)},id:"NotesPanel__input"})),o.createElement(me.A,{className:"comments-counter",dataElement:Z.A.NotesPanel.DefaultHeader.COMMENTS_COUNTER},o.createElement("span",{className:"main-comment"},v(b?"officeEditor.reviewing":"component.notesPanel"))," ","(".concat(t.length,")")),o.createElement(me.A,{className:"sort-row",dataElement:Z.A.NotesPanel.DefaultHeader.SORT_ROW},f?o.createElement("div",{className:"sort-container"}):N,o.createElement("div",{className:"buttons-container"},d&&o.createElement(j.A,{dataElement:Z.A.NOTE_MULTI_SELECT_MODE_BUTTON,className:a()({active:s}),disabled:0===t.length,img:"icon-annotation-select-multiple",onClick:function(){r.A.deselectAllAnnotations(),u()},title:v("component.multiSelectButton")}),o.createElement(j.A,{dataElement:Z.A.NotesPanel.DefaultHeader.FILTER_ANNOTATION_BUTTON,className:a()({active:E}),disabled:n,img:"icon-comments-filter",onClick:function(){return w(z.A.openElement("filterModal"))},title:v("component.filter")}))));return o.createElement(o.Fragment,null,h&&o.createElement(se.A,{render:h.render,renderArguments:[t]}),(!h||!h.overwriteDefaultHeader)&&P)};var we=n(70319),Ae=n(33311),Ee=n(815),xe=n(90540),Se=n(41998);function Oe(e){return Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oe(e)}function Ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(n),!0).forEach((function(t){Te(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Te(e,t,n){var o;return o=function(e,t){if("object"!=Oe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!=Oe(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t),(t="symbol"==Oe(o)?o:o+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function je(e){return function(e){if(Array.isArray(e))return Ie(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ce(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Me(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,i,a,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=i.call(n)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(e){s=!0,r=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw r}}return l}}(e,t)||Ce(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ce(e,t){if(e){if("string"==typeof e)return Ie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ie(e,t):void 0}}function Ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}n(26838);const Re=function(e){var t=e.currentLeftPanelWidth,n=e.notes,i=e.selectedNoteIds,s=e.setSelectedNoteIds,u=e.searchInput,d=e.setSearchInput,p=e.isMultiSelectMode,m=e.setMultiSelectMode,f=e.isMultiSelectedMap,h=e.setIsMultiSelectedMap,y=e.scrollToSelectedAnnot,g=e.setScrollToSelectedAnnot,b=e.isCustomPanel,v=e.isCustomPanelOpen,w=e.isLeftSide,E=e.parentDataElement,x=Me((0,l.d4)((function(e){return[R.A.getSortStrategy(e),R.A.isElementOpen(e,Z.A.NOTES_PANEL),R.A.isElementDisabled(e,Z.A.NOTES_PANEL),R.A.getPageLabels(e),R.A.getCustomNoteFilter(e),E?R.A.getPanelWidth(e,E):R.A.getNotesPanelWidth(e),R.A.getNotesInLeftPanel(e),R.A.isDocumentReadOnly(e),R.A.isAnnotationNumberingEnabled(e),R.A.getEnableNotesPanelVirtualizedList(e),R.A.isInDesktopOnlyMode(e),R.A.getNotesPanelCustomEmptyPanel(e),R.A.getIsNotesPanelMultiSelectEnabled(e),R.A.getActiveDocumentViewerKey(e),R.A.getIsOfficeEditorMode(e)]}),l.bN),15),j=x[0],M=x[1],C=x[2],I=x[3],k=x[4],L=x[5],_=x[6],H=x[7],D=x[8],q=x[9],U=x[10],B=x[11],F=x[12],W=x[13],G=x[14],V=(0,l.wA)(),K=Me((0,c.B)(),1)[0],$=t||L,Q=(0,Ee.IS)(),Y=Me((0,o.useState)([]),2),X=Y[0],J=Y[1],ee=Me((0,o.useState)(!1),2),te=ee[0],ne=ee[1],oe=Me((0,o.useState)(!1),2),re=oe[0],ie=oe[1],ae=Me((0,o.useState)(!1),2),le=ae[0],ue=ae[1],de=Me((0,o.useState)(void 0),2),pe=de[0],me=de[1],fe=(0,o.useRef)(),ye=(0,o.useRef)(0),ge=q?xe.lT?25:100:1/0;(0,o.useEffect)((function(){var e=function(e){V(z.A.setAnnotationNumbering(e))},t=function(e,t){"selected"===t&&me(e[0].Id)};return r.A.addEventListener("annotationNumberingUpdated",e),r.A.addEventListener("annotationSelected",t),function(){r.A.removeEventListener("annotationNumberingUpdated",e),r.A.removeEventListener("annotationSelected",t)}}),[]);var be=-1,Oe=function(e){e&&(ye.current=e),V(z.A.closeElement("annotationNoteConnectorLine"))},Ne=function(e){var t=e.getContents(),n=r.A.getDisplayAuthor(e.Author),o=e.getCustomData("trn-annot-preview");return(null==t?void 0:t.toLowerCase().includes(u.toLowerCase()))||(null==n?void 0:n.toLowerCase().includes(u.toLowerCase()))||(null==o?void 0:o.toLowerCase().includes(u.toLowerCase()))},Ce=(0,he.Qk)()[j].getSortedNotes(n).filter((function(e){var t=!0;if(k&&(t=t&&k(e)),u){var n=e.getReplies(),o=[e].concat(je(n));t=t&&o.some(Ne)}return t}));(0,o.useEffect)((function(){Object.keys(i).length&&-1!==be&&setTimeout((function(){var e;null===(e=fe.current)||void 0===e||e.scrollToRow(be)}),0)}),[i]);var Ie=function(e){return!Object.keys(i).length&&u&&Ce.filter((function(e){return e.getReplies().some(Ne)})).some((function(t){return t.Id===e.Id}))},Re=Me((0,o.useState)({}),2),ke=Re[0],Le=Re[1],_e=(0,o.useCallback)((function(e,t){Le((function(n){return Pe(Pe({},n),{},Te({},t,e))}))}),[Le]),He=Me((0,o.useState)({}),2),De=He[0],qe=He[1],Ue=(0,o.useCallback)((function(e,t){qe((function(n){return Pe(Pe({},n),{},Te({},t,e))}))}),[qe]),Be=Me((0,o.useState)({}),2),Fe=Be[0],ze=Be[1],We=function(e,t){ze((function(n){return Pe(Pe({},n),{},Te({},e,[].concat(je(n[e]||[]),je(t))))}))},Ge=function(e){ze((function(t){return Pe(Pe({},t),{},Te({},e,[]))}))},Ve=function(e,t){var n=Fe[e];if((null==n?void 0:n.length)>0){var o=n.indexOf(t);o>-1&&(n.splice(o,1),ze((function(t){return Pe(Pe({},t),{},Te({},e,je(n)))})))}};(0,o.useEffect)((function(){J(Object.values(f))}),[f]);var Ke=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},a=null,l=(0,he.Qk)()[j],c=l.shouldRenderSeparator,d=l.getSeparatorContent,m=0===t?null:e[t-1],b=e[t];c&&d&&(!m||c(m,b))&&(a=o.createElement(T.A,{renderContent:function(){return d(m,b,{pageLabels:I})}}));var A={searchInput:u,resize:n,isSelected:i[b.Id],isContentEditable:r.A.canModifyContents(b,W)&&!b.getContents(),pendingEditTextMap:ke,setPendingEditText:_e,pendingReplyMap:De,setPendingReply:Ue,isDocumentReadOnly:H,onTopNoteContentClicked:function(){!p&&i[b.Id]&&(s((function(e){var t=Pe({},e);return delete t[b.Id],t})),r.A.deselectAnnotation(b,W))},isExpandedFromSearch:Ie(b),scrollToSelectedAnnot:y,sortStrategy:j,showAnnotationNumbering:D,setCurAnnotId:me,pendingAttachmentMap:Fe,clearAttachments:Ge,deleteAttachment:Ve,addAttachments:We,documentViewerKey:W};return t===be&&setTimeout((function(){g(!1),V(z.A.openElement("annotationNoteConnectorLine"))}),0),o.createElement("div",{role:"listitem",className:"note-wrapper"},a,o.createElement(P.A.Provider,{value:A},o.createElement(O.A,{isCustomPanelOpen:v,shouldHideConnectorLine:w,annotation:b,isMultiSelected:!!f[b.Id],isMultiSelectMode:p,isMultiSelectEnabled:F,isInNotesPanel:!0,handleMultiSelect:function(e){if(e){var t=Pe({},f),n=r.A.getGroupAnnotations(b,W);n.forEach((function(e){t[e.Id]=e})),h(t),r.A.selectAnnotations(n)}else{var o=Pe({},f),i=r.A.getGroupAnnotations(b,W);i.forEach((function(e){delete o[e.Id]})),h(o),r.A.deselectAnnotations([b].concat(je(i)))}}})))},$e=o.createElement("div",{className:"no-results"},o.createElement("div",null,o.createElement(N.A,{className:"empty-icon",glyph:"illustration - empty state - outlines"})),o.createElement("div",{className:"msg"},K("message.noResults"))),Qe=null!=B&&B.icon?B.icon:G?"ic-edit-page":"illustration - empty state - outlines",Ye=null!=B&&B.message?B.message:K(G?"message.noRevisions":"message.noAnnotations"),Xe=B&&B.readOnlyMessage?B.readOnlyMessage:K("message.noAnnotationsReadOnly"),Je=B&&!B.hideIcon||!B,Ze=B&&B.render,et=o.createElement("div",{className:"no-annotations"},Ze?o.createElement(se.A,{render:B.render}):o.createElement(o.Fragment,null,Je&&o.createElement("div",null,o.createElement(N.A,{className:"empty-icon",glyph:Qe})),o.createElement("div",{className:"msg"},H?Xe:Ye))),tt=o.createElement("div",{className:"multi-select-place-holder"}),nt=o.createElement("div",{className:"multi-reply-place-holder"}),ot=Object.keys(i);1===ot.length?be=Ce.findIndex((function(e){return e.Id===ot[0]})):ot.length&&Ce.filter((function(e){return i[e.Id]})).length&&(be=Ce.findIndex((function(e){return e.Id===pe})));var rt={};return b||!U&&Q||(rt={width:"".concat($,"px"),minWidth:"".concat($,"px")}),!C&&(M||_||b)?o.createElement("div",{className:"notes-panel-container"},o.createElement("div",{className:a()({Panel:!0,NotesPanel:!0}),style:rt,"data-element":"notesPanel",onMouseUp:function(){return r.A.deselectAllAnnotations}},!U&&Q&&!_&&o.createElement("div",{className:"close-container"},o.createElement("div",{className:"close-icon-container",onClick:function(){V(z.A.closeElements([Z.A.NOTES_PANEL]))}},o.createElement(N.A,{glyph:"ic_close_black_24px",className:"close-icon"}))),o.createElement(o.Fragment,null,o.createElement(ve,{notes:Ce,disableFilterAnnotation:0===n.length,setSearchInputHandler:d,isMultiSelectMode:p,toggleMultiSelectMode:function(){m(!p)},isMultiSelectEnabled:F}),0===Ce.length?0===n.length?et:$e:Ce.length<=ge?o.createElement(S,{ref:fe,notes:Ce,onScroll:Oe,initialScrollTop:ye.current},Ke):o.createElement(A,{ref:fe,notes:Ce,sortStrategy:j,onScroll:Oe,initialScrollTop:ye.current,selectedIndex:be},Ke),p?te?nt:tt:null,G&&!p&&Ce.length>0&&o.createElement("div",{className:"preview-all-changes"},o.createElement("div",{className:"divider"}),o.createElement(we.A,{isSwitch:!0,label:K("officeEditor.previewAllChanges"),onChange:function(e){return r.A.getOfficeEditor().setEditMode(e.target.checked?Ae.qr.PREVIEW:Ae.qr.REVIEWING)}})))),p&&o.createElement(ce,{showMultiReply:te,setShowMultiReply:ne,showMultiState:re,setShowMultiState:ie,showMultiStyle:le,setShowMultiStyle:ue,setMultiSelectMode:m,isMultiSelectedMap:f,setIsMultiSelectedMap:h,multiSelectedAnnotations:X}),o.createElement(Se.A,{annotationId:pe,addAttachments:We})):null};function ke(e){return ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ke(e)}function Le(){return Le=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Le.apply(this,arguments)}function _e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function He(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(n),!0).forEach((function(t){var o,r,i,a;o=e,r=t,i=n[t],a=function(e,t){if("object"!=ke(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!=ke(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r),(r="symbol"==ke(a)?a:a+"")in o?Object.defineProperty(o,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[r]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function De(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,i,a,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=i.call(n)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(e){s=!0,r=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw r}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return qe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}const Ue=function(e){var t=e.isCustomPanelOpen,n=e.parentDataElement,i=void 0===n?void 0:n,a=e.dataElement,c=De((0,l.d4)((function(e){return[R.A.isElementOpen(e,i||a||Z.A.NOTES_PANEL),R.A.getNotesInLeftPanel(e),R.A.getIsNotesPanelMultiSelectEnabled(e),R.A.isMultiViewerMode(e),R.A.getActiveDocumentViewerKey(e),R.A.getIsOfficeEditorMode(e)]}),l.bN),6),s=c[0],u=c[1],d=c[2],p=c[3],m=c[4],f=c[5],h=De((0,o.useState)(""),2),y=h[0],g=h[1],b=De((0,o.useState)(!1),2),v=b[0],w=b[1],A=De((0,o.useState)(!1),2),E=A[0],x=A[1],S=De((0,o.useState)({1:[],2:[]}),2),O=S[0],N=S[1],P=(0,o.useCallback)((function(e){O[arguments.length>1&&void 0!==arguments[1]?arguments[1]:m]=e,N(He({},O))}),[m,O[1],O[2],N]),T=O[m]||O[1],j=De((0,o.useState)({1:{},2:{}}),2),M=j[0],C=j[1],I=(0,o.useCallback)((function(e){M[arguments.length>1&&void 0!==arguments[1]?arguments[1]:m]=e,C(He({},M))}),[m,M[1],M[2],C]),k=M[m]||M[1],L=De((0,o.useState)({1:{},2:{}}),2),_=L[0],H=L[1],D=(0,o.useCallback)((function(e){_[arguments.length>1&&void 0!==arguments[1]?arguments[1]:m]=e,H(He({},_))}),[m,_[1],_[2],H]),q=_[m]||_[1];function U(e){var t=e.find((function(e){return e.isGrouped()})),n=[];return t&&e.forEach((function(e){t.InReplyTo!==e.InReplyTo&&t.InReplyTo!==e.Id||n.push(e)})),n}(0,o.useEffect)((function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m;return function(){P([],e),I({}),g("")}},t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m;return function(){var t=r.A.getSelectedAnnotations(e),n=U(t);v&&n.length===t.length&&w(!1),P(r.A.getAnnotationsList(e).filter((function(e){return e.Listable&&!e.isReply()&&!e.Hidden&&!e.isGrouped()&&e.ToolName!==window.Core.Tools.ToolNames.CROP&&!e.isContentEditPlaceholder()&&(!f||(0,W.c7)(e)===W.oC.TRACKED_CHANGE)})),e)}},n=e(1);r.A.addEventListener("documentUnloaded",n);var o,i,a=t(1);return r.A.addEventListener("annotationChanged",a),r.A.addEventListener("annotationHidden",a),r.A.addEventListener("updateAnnotationPermission",a),a(),p&&(o=e(2),r.A.addEventListener("documentUnloaded",o,void 0,2),i=t(2),r.A.addEventListener("annotationChanged",i,void 0,2),r.A.addEventListener("annotationHidden",i,void 0,2),r.A.addEventListener("updateAnnotationPermission",i,void 0,2),i()),function(){p&&(r.A.removeEventListener("documentUnloaded",o,2),r.A.removeEventListener("annotationChanged",i,2),r.A.removeEventListener("annotationHidden",i,2),r.A.removeEventListener("updateAnnotationPermission",i,2)),r.A.removeEventListener("documentUnloaded",n),r.A.removeEventListener("annotationChanged",a),r.A.removeEventListener("annotationHidden",a),r.A.removeEventListener("updateAnnotationPermission",a)}}),[p,f]),(0,o.useEffect)((function(){var e,n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m;return function(n,o){var i=r.A.getSelectedAnnotations(e),a={};i.forEach((function(e){a[e.Id]=!0})),(t||s||u)&&(I(a,e),x(!0));var l=U(i),c=i.length>1&&l.length!==i.length||v;d&&"selected"===o&&c?(w(!0),i.forEach((function(e){q[e.Id]=e})),D(He({},q),e)):"deselected"===o&&(n.forEach((function(e){delete q[e.Id]})),D(He({},q),e))}},o=n(1);return o(),r.A.addEventListener("annotationSelected",o),p&&((e=n(2))(),r.A.addEventListener("annotationSelected",e,void 0,2)),function(){r.A.removeEventListener("annotationSelected",o),p&&r.A.removeEventListener("annotationSelected",e,2)}}),[t,s,u,v,q,d,p]);var B={notes:T,selectedNoteIds:k,setSelectedNoteIds:I,searchInput:y,setSearchInput:g,isMultiSelectMode:v,setMultiSelectMode:w,isMultiSelectedMap:q,setIsMultiSelectedMap:D,scrollToSelectedAnnot:E,setScrollToSelectedAnnot:x};return o.createElement(Re,Le({},e,B))}},66697:(e,t,n)=>{(t=n(76314)(!1)).push([e.id,":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.multi-reply-place-holder{height:100px}.reply-area-multi-container{border-top:1px solid var(--divider);display:flex;flex-direction:column;width:100%;position:absolute;bottom:0;z-index:100;background:var(--panel-background)}.reply-area-multi-container form{width:100%;display:flex}.reply-area-multi-container .reply-area-multi-header{display:flex;flex-direction:row;margin-left:16px;margin-top:28px;position:relative;justify-content:space-between}.reply-area-multi-container .reply-area-multi-header .title{font-size:13px;font-weight:700;display:flex;align-items:center}.reply-area-multi-container .reply-area-multi-header .close-icon-container{display:flex;align-items:center;padding-right:12px;cursor:pointer;position:relative;top:1px}.reply-area-multi-container .reply-area-multi-header .close-icon-container .close-icon{width:22px;height:22px}.reply-area-multi-container .reply-button-container{display:flex;justify-content:flex-end;flex-direction:column}.reply-area-multi-container .reply-button{width:28px;height:28px;padding:0;border:none;background-color:transparent;right:10px;bottom:12px}:host(:not([data-tabbing=true])) .reply-area-multi-container .reply-button,html:not([data-tabbing=true]) .reply-area-multi-container .reply-button{outline:none}@media (-ms-high-contrast:active),(-ms-high-contrast:none){.reply-area-multi-container .reply-button{width:80px}}.reply-area-multi-container .reply-button:hover{background:var(--blue-1)}.reply-area-multi-container .reply-button.disabled{cursor:not-allowed}.reply-area-multi-container .reply-area{position:relative;flex:1;margin:13px 17px 12px 16px;border-radius:4px;align-items:center;background:var(--component-background)}.reply-area-multi-container .reply-area.unread{background:rgba(0,165,228,.08)}.reply-area-multi-container .reply-area .comment-textarea .ql-container .ql-editor.ql-blank{padding:4px}.reply-area-multi-container .reply-area .comment-textarea .ql-container .ql-editor.ql-blank:before{left:4px}.reply-area-multi-container .add-attachment{display:none}",""]),t.locals={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"},e.exports=t},42553:(e,t,n)=>{(t=n(76314)(!1)).push([e.id,".comments-counter{height:19px;margin-top:24px;margin-bottom:12px;font-size:16px}.comments-counter span{font-weight:700}[data-element=notesPanelHeader]{padding-right:18px}[data-element=notesPanelHeader] .buttons-container{display:flex;grid-column-gap:8px;-moz-column-gap:8px;column-gap:8px;justify-content:space-between}[data-element=notesPanelHeader] .buttons-container .Button{height:28px;width:28px;cursor:pointer}[data-element=notesPanelHeader] .buttons-container .Button:hover:enabled{background:var(--view-header-button-hover)}[data-element=notesPanelHeader] .buttons-container .Button.active{background:var(--view-header-button-active)}[data-element=notesPanelHeader] .buttons-container .Button.active .Icon{color:var(--view-header-icon-active-fill)}[data-element=notesPanelHeader] .sort-row{display:flex;justify-content:space-between;margin-bottom:16px}[data-element=notesPanelHeader] .sort-row .sort-container{display:flex;flex-direction:row;align-items:center;justify-content:flex-end;align-self:flex-end}[data-element=notesPanelHeader] .sort-row .sort-container .label{margin-right:8px}[data-element=notesPanelHeader] .sort-row .sort-container .picked-option{text-align:left}[data-element=notesPanelHeader] .input-container{display:flex;position:relative;flex:1}[data-element=notesPanelHeader] .input-container input{width:100%;border:1px solid var(--border);border-radius:4px;color:var(--text-color);padding:4px 8px 6px}[data-element=notesPanelHeader] .input-container input:focus{outline:none;border:1px solid var(--focus-border)}[data-element=notesPanelHeader] .input-container input::-moz-placeholder{color:var(--placeholder-text)}[data-element=notesPanelHeader] .input-container input::placeholder{color:var(--placeholder-text)}[data-element=notesPanelHeader] .input-container .input-button{cursor:pointer;background:var(--primary-button);border-radius:4px;height:100%;width:40px;display:flex;align-items:center;justify-content:center;position:absolute;bottom:0;right:0}[data-element=notesPanelHeader] .input-container .input-button .Icon{width:20px;height:20px}[data-element=notesPanelHeader] .input-container .input-button svg{color:var(--primary-button-text)}[data-element=notesPanelHeader] .input-container .input-button:hover{background:var(--primary-button-hover)}[data-element=notesPanelHeader] .divider{height:1px;width:100%;background:var(--divider);margin:16px 0}",""]),e.exports=t},48537:(e,t,n)=>{(t=n(76314)(!1)).push([e.id,".notes-panel-container .buttons-container{display:flex;grid-column-gap:8px;-moz-column-gap:8px;column-gap:8px;justify-content:space-between}.notes-panel-container .buttons-container .Button{height:28px;width:28px}.notes-panel-container .buttons-container .Button:hover:enabled{background:var(--view-header-button-hover)}.notes-panel-container .buttons-container .Button.active{background:var(--view-header-button-active)}.notes-panel-container .buttons-container .Button.active .Icon{color:var(--view-header-icon-active-fill)}.notes-panel-container .multi-select-footer{background:var(--panel-background);display:flex;border-top:1px solid var(--gray-5);margin-top:auto;height:72px;align-items:center;justify-content:center;position:absolute;bottom:0;width:100%;z-index:100}.notes-panel-container .multi-select-footer .close-container{margin-top:auto;right:10px;position:absolute}",""]),e.exports=t},90038:(e,t,n)=>{(t=n(76314)(!1)).push([e.id,".multi-style-container{border-radius:4px;box-shadow:0 0 3px 0 var(--document-box-shadow);background:var(--component-background);position:relative;right:20px;bottom:52px;pointer-events:auto}.multi-style-container *{box-sizing:border-box}",""]),e.exports=t},40547:(e,t,n)=>{(t=n(76314)(!1)).push([e.id,":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.notes-panel-container{z-index:65;display:flex;flex-direction:row;position:relative;overflow:hidden}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .notes-panel-container{z-index:95}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .notes-panel-container{z-index:95}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .notes-panel-container{border-left:1px solid var(--side-panel-border)}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .notes-panel-container{border-left:1px solid var(--side-panel-border)}}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .notes-panel-container{position:fixed;top:0;right:0;height:100%;width:100%}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .notes-panel-container{position:fixed;top:0;right:0;height:100%;width:100%}}.notes-panel-container .NotesPanel{width:100%;padding-left:16px;padding-bottom:0;display:flex;flex-direction:column;position:relative;padding-top:16px}.notes-panel-container .NotesPanel .close-container{display:flex;align-items:center;justify-content:flex-end}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .notes-panel-container .NotesPanel .close-container{height:64px;padding-right:12px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .notes-panel-container .NotesPanel .close-container{height:64px;padding-right:12px}}.notes-panel-container .NotesPanel .close-container .close-icon-container{display:flex;align-items:center;cursor:pointer}.notes-panel-container .NotesPanel .close-container .close-icon-container .close-icon{width:24px;height:24px}.notes-panel-container .NotesPanel .multi-select-place-holder{height:72px}.notes-panel-container .NotesPanel .preview-all-changes{height:57px;display:flex;flex-direction:column;justify-content:center;position:relative;margin-right:16px}.notes-panel-container .NotesPanel .preview-all-changes .divider{height:1px;width:100%;background:var(--divider);position:absolute;top:0}@media (-ms-high-contrast:active),(-ms-high-contrast:none){.notes-panel-container .NotesPanel .reply-area-container .reply-button{width:28px}}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .notes-panel-container .NotesPanel{width:100%;min-width:100%;padding-top:0}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .notes-panel-container .NotesPanel{width:100%;min-width:100%;padding-top:0}}.notes-panel-container .NotesPanel .no-annotations{display:flex;flex-direction:column;align-items:center}.notes-panel-container .NotesPanel .no-annotations .msg{text-align:center}@media(min-width:641px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .notes-panel-container .NotesPanel .no-annotations .msg{line-height:15px;width:146px}}@container (min-width: 641px){.App.is-web-component:not(.is-in-desktop-only-mode) .notes-panel-container .NotesPanel .no-annotations .msg{line-height:15px;width:146px}}.notes-panel-container .NotesPanel .no-annotations .empty-icon,.notes-panel-container .NotesPanel .no-annotations .empty-icon svg{width:65px;height:83px}.notes-panel-container .NotesPanel .no-annotations .empty-icon *{fill:var(--gray-5);color:var(--gray-5)}.notes-panel-container .NotesPanel .normal-notes-container,.notes-panel-container .NotesPanel .virtualized-notes-container{margin-top:10px;flex:1;padding-right:18px}.notes-panel-container .NotesPanel .virtualized-notes-container{overflow:hidden}.notes-panel-container .NotesPanel .normal-notes-container{overflow:auto;overflow:overlay}.notes-panel-container .NotesPanel .note-wrapper:first-child .ListSeparator{margin-top:0;word-break:break-word}.notes-panel-container .NotesPanel .no-results{display:flex;flex-direction:column;align-items:center;padding-right:18px}.notes-panel-container .NotesPanel .no-results .msg{text-align:center}@media(min-width:641px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .notes-panel-container .NotesPanel .no-results .msg{line-height:15px;width:92px}}@container (min-width: 641px){.App.is-web-component:not(.is-in-desktop-only-mode) .notes-panel-container .NotesPanel .no-results .msg{line-height:15px;width:92px}}.notes-panel-container .NotesPanel .no-results .empty-icon,.notes-panel-container .NotesPanel .no-results .empty-icon svg{width:65px;height:83px}.notes-panel-container .NotesPanel .no-results .empty-icon *{fill:var(--border);color:var(--border)}",""]),t.locals={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"},e.exports=t},26524:(e,t,n)=>{var o=n(85072),r=n(66697);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.id,r,""]]),o(r,{insert:function(e){if(!window.isApryseWebViewerWebComponent)return void document.head.appendChild(e);let t;t=document.getElementsByTagName("apryse-webviewer"),t.length||(t=function e(t,n=document){const o=[];return n.querySelectorAll(t).forEach((e=>o.push(e))),n.querySelectorAll("*").forEach((n=>{n.shadowRoot&&o.push(...e(t,n.shadowRoot))})),o}("apryse-webviewer"));const n=[];for(let o=0;o<t.length;o++){const r=t[o];if(0===o)r.shadowRoot.appendChild(e),e.onload=function(){n.length>0&&n.forEach((t=>{t.innerHTML=e.innerHTML}))};else{const t=e.cloneNode(!0);r.shadowRoot.appendChild(t),n.push(t)}}},singleton:!1}),e.exports=r.locals||{}},12452:(e,t,n)=>{var o=n(85072),r=n(42553);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.id,r,""]]),o(r,{insert:function(e){if(!window.isApryseWebViewerWebComponent)return void document.head.appendChild(e);let t;t=document.getElementsByTagName("apryse-webviewer"),t.length||(t=function e(t,n=document){const o=[];return n.querySelectorAll(t).forEach((e=>o.push(e))),n.querySelectorAll("*").forEach((n=>{n.shadowRoot&&o.push(...e(t,n.shadowRoot))})),o}("apryse-webviewer"));const n=[];for(let o=0;o<t.length;o++){const r=t[o];if(0===o)r.shadowRoot.appendChild(e),e.onload=function(){n.length>0&&n.forEach((t=>{t.innerHTML=e.innerHTML}))};else{const t=e.cloneNode(!0);r.shadowRoot.appendChild(t),n.push(t)}}},singleton:!1}),e.exports=r.locals||{}},40722:(e,t,n)=>{var o=n(85072),r=n(48537);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.id,r,""]]),o(r,{insert:function(e){if(!window.isApryseWebViewerWebComponent)return void document.head.appendChild(e);let t;t=document.getElementsByTagName("apryse-webviewer"),t.length||(t=function e(t,n=document){const o=[];return n.querySelectorAll(t).forEach((e=>o.push(e))),n.querySelectorAll("*").forEach((n=>{n.shadowRoot&&o.push(...e(t,n.shadowRoot))})),o}("apryse-webviewer"));const n=[];for(let o=0;o<t.length;o++){const r=t[o];if(0===o)r.shadowRoot.appendChild(e),e.onload=function(){n.length>0&&n.forEach((t=>{t.innerHTML=e.innerHTML}))};else{const t=e.cloneNode(!0);r.shadowRoot.appendChild(t),n.push(t)}}},singleton:!1}),e.exports=r.locals||{}},17649:(e,t,n)=>{var o=n(85072),r=n(90038);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.id,r,""]]),o(r,{insert:function(e){if(!window.isApryseWebViewerWebComponent)return void document.head.appendChild(e);let t;t=document.getElementsByTagName("apryse-webviewer"),t.length||(t=function e(t,n=document){const o=[];return n.querySelectorAll(t).forEach((e=>o.push(e))),n.querySelectorAll("*").forEach((n=>{n.shadowRoot&&o.push(...e(t,n.shadowRoot))})),o}("apryse-webviewer"));const n=[];for(let o=0;o<t.length;o++){const r=t[o];if(0===o)r.shadowRoot.appendChild(e),e.onload=function(){n.length>0&&n.forEach((t=>{t.innerHTML=e.innerHTML}))};else{const t=e.cloneNode(!0);r.shadowRoot.appendChild(t),n.push(t)}}},singleton:!1}),e.exports=r.locals||{}},26838:(e,t,n)=>{var o=n(85072),r=n(40547);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.id,r,""]]),o(r,{insert:function(e){if(!window.isApryseWebViewerWebComponent)return void document.head.appendChild(e);let t;t=document.getElementsByTagName("apryse-webviewer"),t.length||(t=function e(t,n=document){const o=[];return n.querySelectorAll(t).forEach((e=>o.push(e))),n.querySelectorAll("*").forEach((n=>{n.shadowRoot&&o.push(...e(t,n.shadowRoot))})),o}("apryse-webviewer"));const n=[];for(let o=0;o<t.length;o++){const r=t[o];if(0===o)r.shadowRoot.appendChild(e),e.onload=function(){n.length>0&&n.forEach((t=>{t.innerHTML=e.innerHTML}))};else{const t=e.cloneNode(!0);r.shadowRoot.appendChild(t),n.push(t)}}},singleton:!1}),e.exports=r.locals||{}}}]);
//# sourceMappingURL=2997.chunk.js.map