{"version":3,"file":"chunks/9220.chunk.js","mappings":"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","sources":["webpack://webviewer-ui/./src/components/ColorPickerModal/ColorPickerModal.js","webpack://webviewer-ui/./src/components/ColorPickerModal/ColorPickerModalContainer.js","webpack://webviewer-ui/./src/components/ColorPickerModal/ColorPickerModalRedux.js","webpack://webviewer-ui/./src/components/ColorPickerModal/index.js","webpack://webviewer-ui/./src/components/ColorPickerModal/ColorPickerModal.scss","webpack://webviewer-ui/./src/components/ColorPickerModal/ColorPickerModal.scss?d7f1"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport classNames from 'classnames';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { SketchPicker } from 'react-color';\r\nimport { Swipeable } from 'react-swipeable';\r\nimport DataElements from 'src/constants/dataElement';\r\n\r\nimport './ColorPickerModal.scss';\r\n\r\nconst ColorPickerModal = ({ isDisabled, isOpen, color, closeModal, handleChangeSave, handleChangeCancel }) => {\r\n  const [t] = useTranslation();\r\n  const [selectedColor, setSelectedColor] = useState({});\r\n  const modalClass = classNames({\r\n    Modal: true,\r\n    ColorPickerModal: true,\r\n    open: isOpen,\r\n    closed: !isOpen,\r\n  });\r\n\r\n  useEffect(() => {\r\n    const black = { r: 0, g: 0, b: 0, a: 1 };\r\n    if (color && color.A !== 0) {\r\n      setSelectedColor({ r: color.R, g: color.G, b: color.B, a: 1 });\r\n    } else {\r\n      setSelectedColor(black);\r\n    }\r\n  }, [color]);\r\n\r\n  const handleChangeComplete = (newColor) => {\r\n    setSelectedColor(newColor.rgb);\r\n  };\r\n\r\n  const handleSave = () => {\r\n    handleChangeSave(selectedColor);\r\n  };\r\n\r\n  return isDisabled ? null : (\r\n    <Swipeable onSwipedUp={closeModal} onSwipedDown={closeModal} preventDefaultTouchmoveEvent>\r\n      <div className={modalClass} data-element={DataElements.COLOR_PICKER_MODAL} onMouseDown={closeModal}>\r\n        <div className=\"container\" onMouseDown={(e) => e.stopPropagation()}>\r\n          <div className=\"swipe-indicator\" />\r\n          <SketchPicker\r\n            color={selectedColor}\r\n            disableAlpha\r\n            onChange={handleChangeComplete}\r\n            presetColors={[]}\r\n          />\r\n          <div className=\"buttons\">\r\n            <button className=\"cancel-button\" onClick={handleChangeCancel}>\r\n              {t('action.cancel')}\r\n            </button>\r\n            <button className=\"save-button\" onClick={handleSave}>\r\n              {t('action.ok')}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Swipeable>\r\n  );\r\n};\r\n\r\nexport default ColorPickerModal;\r\n","import React, { useCallback } from 'react';\r\nimport ColorPickerModal from './ColorPickerModal';\r\n\r\nfunction ColorPickerModalContainer(props) {\r\n  const { closeColorPicker, onColorChange, ...rest } = props;\r\n\r\n  const closeModal = useCallback(() => {\r\n    closeColorPicker();\r\n  }, [closeColorPicker]);\r\n\r\n  const handleChangeSave = (selectedColor) => {\r\n    onColorChange(selectedColor);\r\n    closeColorPicker();\r\n  };\r\n\r\n  const handleChangeCancel = useCallback(() => {\r\n    closeColorPicker();\r\n  }, [closeColorPicker]);\r\n\r\n  const newProps = {\r\n    ...rest,\r\n    closeModal,\r\n    handleChangeSave,\r\n    handleChangeCancel,\r\n  };\r\n\r\n  return <ColorPickerModal {...newProps} />;\r\n}\r\n\r\nexport default ColorPickerModalContainer;\r\n","import React from 'react';\r\nimport selectors from 'selectors';\r\nimport actions from 'actions';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport ColorPickerModalContainer from './ColorPickerModalContainer';\r\n\r\nfunction ColorPickerModalRedux(props) {\r\n  const dispatch = useDispatch();\r\n  const [isDisabled, isOpen, color] = useSelector((state) => [\r\n    selectors.isElementDisabled(state, 'ColorPickerModal'),\r\n    selectors.isElementOpen(state, 'ColorPickerModal'),\r\n    selectors.getCustomColor(state),\r\n  ]);\r\n\r\n  const onColorChange = (selectedColor) => {\r\n    const convertedColor = new window.Core.Annotations.Color(selectedColor.r, selectedColor.g, selectedColor.b, selectedColor.a);\r\n    dispatch(actions.setCustomColor(convertedColor));\r\n  };\r\n\r\n  const closeColorPicker = () => {\r\n    dispatch(actions.closeElement('ColorPickerModal'));\r\n  };\r\n\r\n  const newProps = {\r\n    ...props,\r\n    color,\r\n    onColorChange,\r\n    isDisabled,\r\n    closeColorPicker,\r\n    isOpen,\r\n  };\r\n  return <ColorPickerModalContainer {...newProps} />;\r\n}\r\n\r\nexport default ColorPickerModalRedux;\r\n","import ColorPickerModalRedux from './ColorPickerModalRedux';\r\n\r\nexport default ColorPickerModalRedux;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".open.ColorPickerModal{visibility:visible}.closed.ColorPickerModal{visibility:hidden}:host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.ColorPickerModal{position:fixed;left:0;bottom:0;z-index:100;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:var(--modal-negative-space)}.ColorPickerModal .modal-container .wrapper .modal-content{padding:10px}.ColorPickerModal .footer{display:flex;flex-direction:row;justify-content:flex-end;width:100%;margin-top:13px}.ColorPickerModal .footer.modal-footer{padding:16px;margin:0;border-top:1px solid var(--divider)}.ColorPickerModal .footer .modal-button{display:flex;justify-content:center;align-items:center;padding:6px 18px;margin:8px 0 0;width:auto;width:-moz-fit-content;width:fit-content;border-radius:4px;height:30px;cursor:pointer}.ColorPickerModal .footer .modal-button.cancel{color:var(--secondary-button-text);border:1px solid var(--secondary-button-text)}.ColorPickerModal .footer .modal-button.cancel:hover{background-color:var(--document-background-color);color:var(--secondary-button-hover);border:1px solid var(--secondary-button-hover)}.ColorPickerModal .footer .modal-button.confirm{margin-left:4px;color:var(--primary-button-text);font-weight:600;background:var(--primary-button)}.ColorPickerModal .footer .modal-button.confirm:hover{background:var(--primary-button-hover)}.ColorPickerModal .footer .modal-button.confirm.disabled{background:var(--primary-button)!important;opacity:.5}.ColorPickerModal .footer .modal-button.secondary-btn-custom{border-radius:4px;border:1px solid var(--primary-button);color:var(--primary-button);padding:2px 20px 4px;cursor:pointer;background-color:#fff}.ColorPickerModal .footer .modal-button.secondary-btn-custom:hover{color:var(--secondary-button-hover)}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .ColorPickerModal .footer .modal-button{padding:23px 8px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .ColorPickerModal .footer .modal-button{padding:23px 8px}}.ColorPickerModal .swipe-indicator{background:var(--divider);border-radius:2px;height:4px;width:38px;position:absolute;top:12px;margin-left:auto;margin-right:auto;left:0;right:0}@media(min-width:641px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .ColorPickerModal .swipe-indicator{display:none}}@container (min-width: 641px){.App.is-web-component:not(.is-in-desktop-only-mode) .ColorPickerModal .swipe-indicator{display:none}}.ColorPickerModal .container{overflow-y:auto;max-height:100%}@media(max-height:500px){.App:not(.is-web-component) .ColorPickerModal .container,.ColorPickerModal .App:not(.is-web-component) .container{overflow:auto;max-height:100%}}@container (max-height: 500px){.App.is-web-component .ColorPickerModal .container,.ColorPickerModal .App.is-web-component .container{overflow:auto;max-height:100%}}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .ColorPickerModal .container,.ColorPickerModal .App:not(.is-in-desktop-only-mode):not(.is-web-component) .container{width:100%;position:fixed;left:0;bottom:0;padding-top:4px;min-width:100px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .ColorPickerModal .container,.ColorPickerModal .App.is-web-component:not(.is-in-desktop-only-mode) .container{width:100%;position:fixed;left:0;bottom:0;padding-top:4px;min-width:100px}}.ColorPickerModal .container{display:flex;flex-direction:column;justify-content:center;align-items:center;box-shadow:0 0 3px 0 var(--document-box-shadow);background:var(--component-background);padding:15px 16px;border-radius:4px;width:250px}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .ColorPickerModal .container{padding:24px 24px 16px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .ColorPickerModal .container{padding:24px 24px 16px}}.ColorPickerModal .container .sketch-picker{border-radius:0!important;box-shadow:none!important;width:220px!important;padding:0!important;background:var(--component-background)!important}.ColorPickerModal .container .sketch-picker>div{border-radius:2px!important}.ColorPickerModal .container .sketch-picker .saturation-white>div>div{width:12px!important;height:12px!important;transform:translateX(-6px) translateY(-6px)!important}.ColorPickerModal .container .sketch-picker .flexbox-fix:nth-child(2) span{color:var(--text-color)!important;cursor:default!important}.ColorPickerModal .container .sketch-picker .flexbox-fix:nth-child(2)>div:first-child{border-radius:2px}.ColorPickerModal .container .sketch-picker .flexbox-fix:nth-child(2)>div:first-child>div{margin-top:6px;cursor:ew-resize!important;overflow:visible!important}.ColorPickerModal .container .sketch-picker .flexbox-fix:nth-child(2) .hue-horizontal{width:97%;border-radius:2px}.ColorPickerModal .container .sketch-picker .flexbox-fix:nth-child(2) .hue-horizontal div div{transform:translateX(-7px) translateY(-3px)!important;height:14px!important;width:14px!important;border-radius:14px!important}.ColorPickerModal .container .sketch-picker .flexbox-fix:nth-child(2)>div:nth-child(2){height:24px!important;border-radius:12px!important}.ColorPickerModal .container .sketch-picker .flexbox-fix:nth-child(2)>div:nth-child(2)>div{border-radius:12px!important}.ColorPickerModal .container .sketch-picker .flexbox-fix:nth-child(3) input{width:100%!important;text-align:center;border-radius:2px;box-shadow:var(--border) 0 0 0 1px inset!important}.ColorPickerModal .container .sketch-picker .flexbox-fix:nth-child(3) label{color:var(--text-color)!important}.ColorPickerModal .container .buttons{width:220px;text-align:right;font-size:13px;margin-top:20px;display:flex;justify-content:flex-end}.ColorPickerModal .container .buttons .save-button{background-color:transparent;color:var(--primary-button-text);padding:6px 16px;background:var(--primary-button);border-radius:4px;border:0;height:32px;cursor:pointer}.ColorPickerModal .container .buttons .cancel-button{cursor:pointer;background:none;border:0;color:var(--secondary-button-text);padding:6px 16px;margin-right:4px;height:32px}.ColorPickerModal .container .buttons .cancel-button:hover{color:var(--secondary-button-hover)}.ColorPickerModal .container .buttons .cancel-button:focus{outline:none}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"LEFT_HEADER_WIDTH\": \"41px\",\n\t\"RIGHT_HEADER_WIDTH\": \"41px\"\n};\nmodule.exports = exports;\n","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/postcss-loader/src/index.js??ruleSet[1].rules[1].use[2]!../../../node_modules/sass-loader/dist/cjs.js!./ColorPickerModal.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\r\n                function findNestedWebComponents(tagName, root = document) {\r\n                  const elements = [];\r\n\r\n                  // Check direct children\r\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\r\n\r\n                  // Check shadow DOMs\r\n                  root.querySelectorAll('*').forEach(el => {\r\n                    if (el.shadowRoot) {\r\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\r\n                    }\r\n                  });\r\n\r\n                  return elements;\r\n                }\r\n                if (!window.isApryseWebViewerWebComponent) {\r\n                  document.head.appendChild(styleTag);\r\n                  return;\r\n                }\r\n\r\n                let webComponents;\r\n                // First we see if the webcomponent is at the document level\r\n                webComponents = document.getElementsByTagName('apryse-webviewer');\r\n                // If not, we check have to check if it is nested in another webcomponent\r\n                if (!webComponents.length) {\r\n                  webComponents = findNestedWebComponents('apryse-webviewer');\r\n                }\r\n                // Now we append the style tag to each webcomponent\r\n                const clonedStyleTags = [];\r\n                for (let i = 0; i < webComponents.length; i++) {\r\n                  const webComponent = webComponents[i];\r\n                  if (i === 0) {\r\n                    webComponent.shadowRoot.appendChild(styleTag);\r\n                    styleTag.onload = function () {\r\n                      if (clonedStyleTags.length > 0) {\r\n                        clonedStyleTags.forEach((styleNode) => {\r\n                          // eslint-disable-next-line no-unsanitized/property\r\n                          styleNode.innerHTML = styleTag.innerHTML;\r\n                        });\r\n                      }\r\n                    };\r\n                  } else {\r\n                    const styleNode = styleTag.cloneNode(true);\r\n                    webComponent.shadowRoot.appendChild(styleNode);\r\n                    clonedStyleTags.push(styleNode);\r\n                  }\r\n                }\r\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};"],"names":["_ref","isDisabled","isOpen","color","closeModal","handleChangeSave","handleChangeCancel","t","_slicedToArray","useTranslation","_useState2","useState","selectedColor","setSelectedColor","modalClass","classNames","Modal","ColorPickerModal","open","closed","useEffect","A","r","R","g","G","b","B","a","React","Swipeable","onSwipedUp","onSwipedDown","preventDefaultTouchmoveEvent","className","DataElements","COLOR_PICKER_MODAL","onMouseDown","e","stopPropagation","SketchPicker","disableAlpha","onChange","newColor","rgb","presetColors","onClick","props","closeColorPicker","onColorChange","rest","_objectWithoutProperties","_excluded","useCallback","newProps","_objectSpread","dispatch","useDispatch","_useSelector2","useSelector","state","selectors","isElementDisabled","isElementOpen","getCustomColor","convertedColor","window","Core","Annotations","Color","actions","setCustomColor","closeElement","ColorPickerModalContainer","exports","___CSS_LOADER_API_IMPORT___","push","module","id","locals","api","content","__esModule","default","options","styleTag","isApryseWebViewerWebComponent","document","head","appendChild","webComponents","getElementsByTagName","length","findNestedWebComponents","tagName","root","elements","querySelectorAll","forEach","el","shadowRoot","clonedStyleTags","i","webComponent","onload","styleNode","innerHTML","cloneNode"],"sourceRoot":""}