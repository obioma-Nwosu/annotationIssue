(self.webpackChunkwebviewer_ui=self.webpackChunkwebviewer_ui||[]).push([[954],{60954:(t,o,e)=>{"use strict";e.r(o),e.d(o,{default:()=>C}),e(63534),e(40590),e(64216),e(15195),e(4895),e(18665),e(59581),e(14913),e(79389),e(98741),e(94009),e(80577),e(34867),e(5086),e(96088),e(87136),e(6048),e(29979),e(68329),e(14602);var n=e(96540),i=e(32485),a=e.n(i),r=e(61113),l=e(18492),d=e(51e3),p=e(28854),c=e(17246),s=e(77368);function u(t,o){(null==o||o>t.length)&&(o=t.length);for(var e=0,n=new Array(o);e<o;e++)n[e]=t[e];return n}const b=function(t){var o,e,n=(o=t.split("/"),e=2,function(t){if(Array.isArray(t))return t}(o)||function(t,o){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var n,i,a,r,l=[],d=!0,p=!1;try{if(a=(e=e.call(t)).next,0===o){if(Object(e)!==e)return;d=!1}else for(;!(d=(n=a.call(e)).done)&&(l.push(n.value),l.length!==o);d=!0);}catch(t){p=!0,i=t}finally{try{if(!d&&null!=e.return&&(r=e.return(),Object(r)!==r))return}finally{if(p)throw i}}return l}}(o,e)||function(t,o){if(t){if("string"==typeof t)return u(t,o);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?u(t,o):void 0}}(o,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=n[0],a=n[1];return Number(i)/Number(a)};var m=e(26247),f=e(75710),x=e(10188),h=e(97160);function y(t,o){return function(t){if(Array.isArray(t))return t}(t)||function(t,o){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var n,i,a,r,l=[],d=!0,p=!1;try{if(a=(e=e.call(t)).next,0===o){if(Object(e)!==e)return;d=!1}else for(;!(d=(n=a.call(e)).done)&&(l.push(n.value),l.length!==o);d=!0);}catch(t){p=!0,i=t}finally{try{if(!d&&null!=e.return&&(r=e.return(),Object(r)!==r))return}finally{if(p)throw i}}return l}}(t,o)||function(t,o){if(t){if("string"==typeof t)return v(t,o);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?v(t,o):void 0}}(t,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(t,o){(null==o||o>t.length)&&(o=t.length);for(var e=0,n=new Array(o);e<o;e++)n[e]=t[e];return n}e(15798);var w=function(t){var o=t.Measure.axis[0].factor;return"ft-in"===t.Scale[1][1]?t.getLineLength()*o/12:t.getLineLength()*o},g=/^\d*(\.\d*)?$/,A=/^\d*(\s\d\/\d*)$/,M=/^(\d\/\d*)*$/;const C=function(){var t=y((0,r.d4)((function(t){return[f.A.isElementOpen(t,h.A.CALIBRATION_MODAL),f.A.isElementDisabled(t,h.A.CALIBRATION_MODAL),f.A.getMeasurementUnits(t)]}),r.bN),3),o=t[0],e=t[1],i=t[2],u=(0,r.wA)(),v=y((0,n.useState)(null),2),C=v[0],_=v[1],E=y((0,n.useState)(""),2),k=E[0],S=E[1],I=y((0,n.useState)(0),2),N=I[0],L=I[1],T=y((0,n.useState)(""),2),O=T[0],j=T[1],D=y((0,n.useState)(!1),2),R=D[0],z=D[1],B=y((0,l.B)(),1)[0],F=(0,n.useRef)(null);(0,n.useEffect)((function(){var t;o&&(null==F||null===(t=F.current)||void 0===t||t.focus()),H(p.A.getSelectedAnnotations())}),[o]),(0,n.useEffect)((function(){var t=function(t,o){"selected"===o?H(t):"deselected"===o&&(_(null),S(""),j(""),L(0))};return p.A.addEventListener("annotationSelected",t),function(){return p.A.removeEventListener("annotationSelected",t)}}),[]),(0,n.useEffect)((function(){var t=function(t,o){"modify"===o&&1===t.length&&t[0]===C&&(S(w(C).toFixed(2)),j(C.Scale[1][1]))};return p.A.addEventListener("annotationChanged",t),function(){return p.A.removeEventListener("annotationChanged",t)}}),[C]);var H=function(t){if(1===(null==t?void 0:t.length)&&"distanceMeasurement"===(0,c.c7)(t[0])){var o=t[0];_(o);var e=w(o).toFixed(2);S(e),j(o.Scale[1][1]),L(parseFloat(e))}},$=function(){var t=w(C),o=N/t,e=C.Scale;return[[e[0][0],e[0][1]],[e[1][0]*o,O]]},U=function(){u(m.A.closeElements([h.A.CALIBRATION_MODAL]))};return e||!C?null:n.createElement(x.Hx,{onSwipedUp:U,onSwipedDown:U,preventDefaultTouchmoveEvent:!0},n.createElement("div",{className:a()({Modal:!0,CalibrationModal:!0,open:o,closed:!o}),onMouseDown:U}," ",n.createElement("div",{className:"container",onMouseDown:function(t){return t.stopPropagation()}},n.createElement("div",{className:"swipe-indicator"}),n.createElement("div",{className:"calibration__header"},B("component.calibration")),n.createElement("div",{className:"calibration__body"},n.createElement("div",null,B("message.enterMeasurement")),n.createElement("div",{className:"calibration__input"},n.createElement("input",{className:R?"error":"",ref:F,type:"text",value:k,onChange:function(t){z(!1),S(t.target.value)},onBlur:function(t){var o=t.target.value.trim();if(""===o&&z(!0),g.test(o))0!==parseFloat(o)?(L(parseFloat(o)),S(o)):z(!0);else if(A.test(o)){var e=y(o.split(" "),2),n=e[0],i=e[1];if(Number.isFinite(b(i))){var a=Number(n)+b(i);L(parseFloat(a)),S(a)}else z(!0)}else if(M.test(o))if(Number.isFinite(b(o))){var r=b(o);L(parseFloat(r)),S(r)}else z(!0);else z(!0)}}),n.createElement("select",{className:"unitToInput",value:O,onChange:function(t){j(t.target.value)}},i.to.map((function(t){return n.createElement("option",{key:t,value:t},t)})))),R?n.createElement("div",{className:"errorMeasurement"},B("message.errorEnterMeasurement")):null),n.createElement("div",{className:"calibration__footer"},n.createElement(d.A,{dataElement:"passwordSubmitButton",label:B("action.apply"),onClick:function(){var t,o=$(),e=(t=o,C.Scale=t,$());p.A.setAnnotationStyles(C,{Scale:e}),(0,s.A)("AnnotationCreateDistanceMeasurement","Scale",e),u(m.A.closeElements([h.A.CALIBRATION_MODAL]))},disabled:R})))))}},72075:(t,o,e)=>{(o=e(76314)(!1)).push([t.id,".open.CalibrationModal{visibility:visible}.closed.CalibrationModal{visibility:hidden}:host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.CalibrationModal{position:fixed;left:0;bottom:0;z-index:100;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:var(--modal-negative-space)}.CalibrationModal .modal-container .wrapper .modal-content{padding:10px}.CalibrationModal .footer{display:flex;flex-direction:row;justify-content:flex-end;width:100%;margin-top:13px}.CalibrationModal .footer.modal-footer{padding:16px;margin:0;border-top:1px solid var(--divider)}.CalibrationModal .footer .modal-button{display:flex;justify-content:center;align-items:center;padding:6px 18px;margin:8px 0 0;width:auto;width:-moz-fit-content;width:fit-content;border-radius:4px;height:30px;cursor:pointer}.CalibrationModal .footer .modal-button.cancel{color:var(--secondary-button-text);border:1px solid var(--secondary-button-text)}.CalibrationModal .footer .modal-button.cancel:hover{background-color:var(--document-background-color);color:var(--secondary-button-hover);border:1px solid var(--secondary-button-hover)}.CalibrationModal .footer .modal-button.confirm{margin-left:4px;color:var(--primary-button-text);font-weight:600;background:var(--primary-button)}.CalibrationModal .footer .modal-button.confirm:hover{background:var(--primary-button-hover)}.CalibrationModal .footer .modal-button.confirm.disabled{background:var(--primary-button)!important;opacity:.5}.CalibrationModal .footer .modal-button.secondary-btn-custom{border-radius:4px;border:1px solid var(--primary-button);color:var(--primary-button);padding:2px 20px 4px;cursor:pointer;background-color:#fff}.CalibrationModal .footer .modal-button.secondary-btn-custom:hover{color:var(--secondary-button-hover)}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .CalibrationModal .footer .modal-button{padding:23px 8px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .CalibrationModal .footer .modal-button{padding:23px 8px}}.CalibrationModal .swipe-indicator{background:var(--divider);border-radius:2px;height:4px;width:38px;position:absolute;top:12px;margin-left:auto;margin-right:auto;left:0;right:0}@media(min-width:641px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .CalibrationModal .swipe-indicator{display:none}}@container (min-width: 641px){.App.is-web-component:not(.is-in-desktop-only-mode) .CalibrationModal .swipe-indicator{display:none}}.CalibrationModal .container{border-radius:4px;overflow-y:auto;max-height:100%}@media(max-height:500px){.App:not(.is-web-component) .CalibrationModal .container,.CalibrationModal .App:not(.is-web-component) .container{overflow:auto;max-height:100%}}@container (max-height: 500px){.App.is-web-component .CalibrationModal .container,.CalibrationModal .App.is-web-component .container{overflow:auto;max-height:100%}}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .CalibrationModal .container,.CalibrationModal .App:not(.is-in-desktop-only-mode):not(.is-web-component) .container{width:100%;position:fixed;left:0;bottom:0;padding-top:4px;min-width:100px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .CalibrationModal .container,.CalibrationModal .App.is-web-component:not(.is-in-desktop-only-mode) .container{width:100%;position:fixed;left:0;bottom:0;padding-top:4px;min-width:100px}}.CalibrationModal .container{display:flex;flex-direction:column;min-width:400px;box-shadow:0 0 3px 0 var(--document-box-shadow);padding:8px;background:var(--component-background)}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .CalibrationModal .container{padding:24px 24px 16px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .CalibrationModal .container{padding:24px 24px 16px}}.CalibrationModal .container .calibration__header{font-size:16px;margin-top:8px;margin-bottom:8px}.CalibrationModal .container .calibration__body{padding-top:8px}.CalibrationModal .container .calibration__body .calibration__input{margin-top:8px;display:flex;flex-direction:row;justify-content:space-between}.CalibrationModal .container .calibration__body input{width:100%;height:30px;font-size:13px;border:1px solid var(--border);border-radius:4px;color:var(--text-color);padding:4px 42px 6px 8px;margin-right:8px}.CalibrationModal .container .calibration__body input:focus{outline:none;border:1px solid var(--focus-border)}.CalibrationModal .container .calibration__body input::-moz-placeholder{color:var(--placeholder-text)}.CalibrationModal .container .calibration__body input::placeholder{color:var(--placeholder-text)}.CalibrationModal .container .calibration__body .error{border:1px solid var(--error-border-color)}.CalibrationModal .container .calibration__body .unitToInput{height:29px;width:45px;border-radius:5px;border:1px solid var(--border);font-size:13px}.CalibrationModal .container .calibration__body .unitToInput:focus{outline:none;border:1px solid var(--focus-border)}.CalibrationModal .container .calibration__body .unitToInput::-moz-placeholder{color:var(--placeholder-text)}.CalibrationModal .container .calibration__body .unitToInput::placeholder{color:var(--placeholder-text)}.CalibrationModal .container .calibration__body .errorMeasurement{font-size:13px;margin-top:8px;margin-bottom:8px;color:var(--error-text-color);max-width:400px}.CalibrationModal .container .calibration__footer{display:flex;justify-content:flex-end;margin-top:8px}.CalibrationModal .container .calibration__footer .Button{display:flex;justify-content:center;align-items:center;color:var(--primary-button-text);font-weight:600;padding:6px 18px;margin-top:8px;margin-left:5px;width:auto;width:-moz-fit-content;width:fit-content;background:var(--primary-button);border-radius:4px;height:30px;cursor:pointer}.CalibrationModal .container .calibration__footer .Button:hover{background:var(--primary-button-hover)}",""]),o.locals={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"},t.exports=o},15798:(t,o,e)=>{var n=e(85072),i=e(72075);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.id,i,""]]),n(i,{insert:function(t){if(!window.isApryseWebViewerWebComponent)return void document.head.appendChild(t);let o;o=document.getElementsByTagName("apryse-webviewer"),o.length||(o=function t(o,e=document){const n=[];return e.querySelectorAll(o).forEach((t=>n.push(t))),e.querySelectorAll("*").forEach((e=>{e.shadowRoot&&n.push(...t(o,e.shadowRoot))})),n}("apryse-webviewer"));const e=[];for(let n=0;n<o.length;n++){const i=o[n];if(0===n)i.shadowRoot.appendChild(t),t.onload=function(){e.length>0&&e.forEach((o=>{o.innerHTML=t.innerHTML}))};else{const o=t.cloneNode(!0);i.shadowRoot.appendChild(o),e.push(o)}}},singleton:!1}),t.exports=i.locals||{}}}]);
//# sourceMappingURL=954.chunk.js.map