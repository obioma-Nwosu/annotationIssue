{"version":3,"file":"chunks/6396.chunk.js","mappings":"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","sources":["webpack://webviewer-ui/./src/components/FilterAnnotModal/FilterAnnotModal.js","webpack://webviewer-ui/./src/components/FilterAnnotModal/index.js","webpack://webviewer-ui/./src/components/FilterAnnotModal/FilterAnnotModal.scss","webpack://webviewer-ui/./src/components/FilterAnnotModal/FilterAnnotModal.scss?06c0"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport classNames from 'classnames';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { useTranslation } from 'react-i18next';\r\nimport core from 'core';\r\nimport actions from 'actions';\r\nimport selectors from 'selectors';\r\nimport fireEvent from 'helpers/fireEvent';\r\nimport { Swipeable } from 'react-swipeable';\r\nimport { FocusTrap } from '@pdftron/webviewer-react-toolkit';\r\nimport defaultTool from 'constants/defaultTool';\r\nimport Events from 'constants/events';\r\nimport { mapAnnotationToKey } from 'constants/map';\r\nimport DataElements from 'constants/dataElement';\r\nimport { rgbaToHex, getHexToRgbaString } from 'helpers/color';\r\nimport { getAnnotationClass } from 'helpers/getAnnotationClass';\r\nimport Choice from 'components/Choice';\r\nimport Button from 'components/Button';\r\nimport { Tabs, Tab, TabPanel } from 'components/Tabs';\r\nimport Tooltip from 'components/Tooltip';\r\n\r\nimport './FilterAnnotModal.scss';\r\n\r\nconst TABS_ID = 'filterAnnotModal';\r\n\r\nconst FilterAnnotModal = () => {\r\n  const [isDisabled, isOpen, colorMap, selectedTab, annotationFilters, isMeasurementAnnotationFilterEnabled] = useSelector((state) => [\r\n    selectors.isElementDisabled(state, DataElements.FILTER_MODAL),\r\n    selectors.isElementOpen(state, DataElements.FILTER_MODAL),\r\n    selectors.getColorMap(state),\r\n    selectors.getSelectedTab(state, TABS_ID),\r\n    selectors.getAnnotationFilters(state),\r\n    selectors.getIsMeasurementAnnotationFilterEnabled(state),\r\n  ]);\r\n  const [t] = useTranslation();\r\n  const dispatch = useDispatch();\r\n\r\n  const [authors, setAuthors] = useState([]);\r\n  const [annotTypes, setAnnotTypes] = useState([]);\r\n  const [colors, setColorTypes] = useState([]);\r\n  const [statuses, setStatusTypes] = useState([]);\r\n  const [authorFilter, setAuthorFilter] = useState([]);\r\n  const [typesFilter, setTypesFilter] = useState([]);\r\n  const [colorFilter, setColorFilter] = useState([]);\r\n  const [checkRepliesForAuthorFilter, setCheckRepliesForAuthorFilter] = useState(true);\r\n  const [isDocumentFilterActive, setIsDocumentFilterActive] = useState(false);\r\n  const [statusFilter, setStatusFilter] = useState([]);\r\n  const [filterCount, setFilterCount] = useState(0);\r\n  const [ifShowAnnotationStatus, setIfShowAnnotationStatus] = useState(false);\r\n\r\n  const getIconColor = (annot) => {\r\n    const key = mapAnnotationToKey(annot);\r\n    const iconColorProperty = colorMap[key]?.iconColor;\r\n\r\n    return annot[iconColorProperty];\r\n  };\r\n\r\n  const similarColorExist = (currColors, newColor) => {\r\n    const colorObject = currColors.map((c) => Object.assign({\r\n      R: parseInt(`${c[1]}${c[2]}`, 16),\r\n      G: parseInt(`${c[3]}${c[4]}`, 16),\r\n      B: parseInt(`${c[5]}${c[6]}`, 16)\r\n    }));\r\n\r\n    const threshold = 10;\r\n    const similarColors = colorObject\r\n      .filter((c) => Math.abs(newColor.R - c.R) < threshold\r\n        && Math.abs(newColor.G - c.G) < threshold\r\n        && Math.abs(newColor.B - c.B) < threshold);\r\n\r\n    return !!similarColors.length;\r\n  };\r\n\r\n  const filterApply = () => {\r\n    const newFilter = (annot, documentViewerKey = 1) => {\r\n      let type = true;\r\n      let author = true;\r\n      let color = true;\r\n      let status = true;\r\n      if (typesFilter.length > 0) {\r\n        const isMeasurementAnnotation = annot.IT || annot.getCustomData('trn-is-count');\r\n        if (isMeasurementAnnotationFilterEnabled && isMeasurementAnnotation) {\r\n          const measurementKey = mapAnnotationToKey(annot);\r\n          type = typesFilter.includes(measurementKey);\r\n        } else {\r\n          type = typesFilter.includes(getAnnotationClass(annot));\r\n        }\r\n      }\r\n      if (authorFilter.length > 0) {\r\n        author = authorFilter.includes(core.getDisplayAuthor(annot['Author'], documentViewerKey));\r\n        if (!author && checkRepliesForAuthorFilter) {\r\n          const allReplies = annot.getReplies();\r\n          for (const reply of allReplies) {\r\n            // Short-circuit the search if at least one reply is created by\r\n            // one of the desired authors\r\n            if (authorFilter.includes(core.getDisplayAuthor(reply['Author'], documentViewerKey))) {\r\n              author = true;\r\n              break;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      if (colorFilter.length > 0) {\r\n        const iconColor = getIconColor(annot);\r\n        if (iconColor) {\r\n          color = similarColorExist(colorFilter, iconColor);\r\n        } else {\r\n          // check for default color if no color is available\r\n          color = colorFilter.includes('#485056');\r\n        }\r\n      }\r\n      if (statusFilter.length > 0) {\r\n        if (annot.getStatus()) {\r\n          status = statusFilter.includes(annot.getStatus());\r\n        } else {\r\n          status = statusFilter.includes('None');\r\n        }\r\n      }\r\n      return type && author && color && status;\r\n    };\r\n    dispatch(actions.setCustomNoteFilter(newFilter));\r\n    dispatch(actions.setAnnotationFilters({\r\n      isDocumentFilterActive,\r\n      includeReplies: checkRepliesForAuthorFilter,\r\n      authorFilter,\r\n      colorFilter,\r\n      typeFilter: typesFilter,\r\n      statusFilter\r\n    }));\r\n    const redrawList = [];\r\n    if (isDocumentFilterActive) {\r\n      core.getDocumentViewers().forEach((documentViewer, index) => documentViewer.getAnnotationManager()\r\n        .getAnnotationsList().forEach((annot) => {\r\n          const shouldHide = !newFilter(annot, index + 1);\r\n          if (shouldHide !== annot.NoView) {\r\n            annot.NoView = shouldHide;\r\n            redrawList.push(annot);\r\n          }\r\n        }));\r\n    } else {\r\n      core.getDocumentViewers().forEach((documentViewer) => documentViewer.getAnnotationManager()\r\n        .getAnnotationsList().forEach((annot) => {\r\n          if (annot.NoView === true) {\r\n            annot.NoView = false;\r\n            redrawList.push(annot);\r\n          }\r\n        }));\r\n    }\r\n    core.getDocumentViewers().forEach((documentViewer) => documentViewer.getAnnotationManager().drawAnnotationsFromList(redrawList));\r\n    fireEvent(\r\n      Events.ANNOTATION_FILTER_CHANGED,\r\n      {\r\n        types: typesFilter,\r\n        authors: authorFilter,\r\n        colors: colorFilter,\r\n        statuses: statusFilter,\r\n        checkRepliesForAuthorFilter\r\n      }\r\n    );\r\n    closeModal();\r\n  };\r\n\r\n  const filterClear = () => {\r\n    setCheckRepliesForAuthorFilter(false);\r\n    setIsDocumentFilterActive(false);\r\n    setAuthorFilter([]);\r\n    setTypesFilter([]);\r\n    setColorFilter([]);\r\n    setStatusFilter([]);\r\n\r\n    const redrawList = [];\r\n    core.getDocumentViewers().forEach((documentViewer) => documentViewer.getAnnotationManager().getAnnotationsList()\r\n      .forEach((annot) => {\r\n        if (annot.NoView === true) {\r\n          annot.NoView = false;\r\n          redrawList.push(annot);\r\n        }\r\n      }));\r\n    core.getDocumentViewers().forEach((documentViewer) => documentViewer.getAnnotationManager().drawAnnotationsFromList(redrawList));\r\n  };\r\n\r\n  const closeModal = () => {\r\n    dispatch(actions.closeElement(DataElements.FILTER_MODAL));\r\n    core.setToolMode(defaultTool);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const clearAllFilters = () => {\r\n      filterClear();\r\n      filterApply();\r\n    };\r\n    core.addEventListener('documentUnloaded', clearAllFilters);\r\n    return () => {\r\n      core.removeEventListener('documentUnloaded', clearAllFilters);\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const annotLists = core.getDocumentViewers().map((documentViewer) => documentViewer.getAnnotationManager().getAnnotationsList());\r\n    const annots = [].concat(...annotLists).filter((annot) => !annot.Hidden);\r\n    // set is a great way to remove any duplicate additions and ensure the unique items are present\r\n    // the only gotcha that it should not be used by state since not always it will trigger a rerender\r\n    const authorsToBeAdded = new Set();\r\n    const annotTypesToBeAdded = new Set();\r\n    const annotColorsToBeAdded = new Set();\r\n    const annotStatusesToBeAdded = new Set();\r\n    annots.forEach((annot) => {\r\n      const displayAuthor = core.getDisplayAuthor(annot['Author']);\r\n      if (displayAuthor && displayAuthor !== '') {\r\n        authorsToBeAdded.add(displayAuthor);\r\n      }\r\n      // We don't show it in the filter for WidgetAnnotation or StickyAnnotation or LinkAnnotation from the comments\r\n      if (\r\n        annot instanceof window.Core.Annotations.WidgetAnnotation ||\r\n        (annot instanceof window.Core.Annotations.StickyAnnotation && annot.isReply()) ||\r\n        annot instanceof window.Core.Annotations.Link\r\n      ) {\r\n        return;\r\n      }\r\n\r\n      // If the annotation is also measurement, and the API is on, we want to instead add the measurement type\r\n      const isMeasurementAnnotation = annot.IT || annot.getCustomData('trn-is-count');\r\n      if (isMeasurementAnnotationFilterEnabled && isMeasurementAnnotation) {\r\n        const measurementKey = mapAnnotationToKey(annot);\r\n        annotTypesToBeAdded.add(measurementKey);\r\n      } else {\r\n        annotTypesToBeAdded.add(getAnnotationClass(annot));\r\n      }\r\n      const iconColor = getIconColor(annot);\r\n      if (iconColor && !similarColorExist([...annotColorsToBeAdded], iconColor)) {\r\n        annotColorsToBeAdded.add(rgbaToHex(iconColor.R, iconColor.G, iconColor.B, iconColor.A));\r\n      }\r\n\r\n      if (annot.getStatus()) {\r\n        annotStatusesToBeAdded.add(annot.getStatus());\r\n      } else {\r\n        annotStatusesToBeAdded.add('None');\r\n      }\r\n    });\r\n\r\n    setAuthors([...authorsToBeAdded]);\r\n    setAnnotTypes([...annotTypesToBeAdded]);\r\n    setColorTypes([...annotColorsToBeAdded]);\r\n    setStatusTypes([...annotStatusesToBeAdded]);\r\n\r\n    core.addEventListener('documentUnloaded', closeModal);\r\n    return () => {\r\n      core.removeEventListener('documentUnloaded', closeModal);\r\n    };\r\n  }, [isOpen, isMeasurementAnnotationFilterEnabled]);\r\n\r\n  useEffect(() => {\r\n    if (selectedTab === DataElements.ANNOTATION_STATUS_FILTER_PANEL_BUTTON && !ifShowAnnotationStatus) {\r\n      dispatch(actions.setSelectedTab(TABS_ID, DataElements.ANNOTATION_USER_FILTER_PANEL_BUTTON));\r\n    }\r\n  }, [isOpen, selectedTab, ifShowAnnotationStatus]);\r\n\r\n  useEffect(() => {\r\n    setFilterCount(\r\n      (checkRepliesForAuthorFilter ? 1 : 0) +\r\n      (isDocumentFilterActive ? 1 : 0) +\r\n      authorFilter.length +\r\n      colorFilter.length +\r\n      typesFilter.length +\r\n      statusFilter.length\r\n    );\r\n  }, [checkRepliesForAuthorFilter, isDocumentFilterActive, authorFilter, colorFilter, typesFilter, statusFilter]);\r\n\r\n  useEffect(() => {\r\n    setIfShowAnnotationStatus((statuses.length > 1) || (statuses.length === 1 && statuses[0] !== 'None'));\r\n  }, [statuses]);\r\n\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      setIsDocumentFilterActive(annotationFilters.isDocumentFilterActive);\r\n      setCheckRepliesForAuthorFilter(annotationFilters.includeReplies);\r\n      setAuthorFilter(annotationFilters.authorFilter);\r\n      setColorFilter(annotationFilters.colorFilter);\r\n      setTypesFilter(annotationFilters.typeFilter);\r\n      setStatusFilter(annotationFilters.statusFilter);\r\n    }\r\n  }, [isOpen]);\r\n\r\n  const renderAuthors = () => {\r\n    return (\r\n      <div className=\"user-filters three-column-filter\">\r\n        {[...authors].map((val, index) => {\r\n          return (\r\n            <Choice\r\n              type=\"checkbox\"\r\n              key={index}\r\n              label={<Tooltip content={val}><div>{val}</div></Tooltip>}\r\n              checked={authorFilter.includes(val)}\r\n              id={val}\r\n              onChange={(e) => {\r\n                if (authorFilter.indexOf(e.target.getAttribute('id')) === -1) {\r\n                  setAuthorFilter([...authorFilter, e.target.getAttribute('id')]);\r\n                } else {\r\n                  setAuthorFilter(authorFilter.filter((author) => author !== e.target.getAttribute('id')));\r\n                }\r\n              }}\r\n            />\r\n          );\r\n        })}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const renderAnnotTypes = () => {\r\n    return (\r\n      <div className=\"type-filters three-column-filter\">\r\n        {[...annotTypes]\r\n          .sort((type1, type2) => (t(`annotation.${type1}`) <= t(`annotation.${type2}`) ? -1 : 1))\r\n          .map((val, index) => {\r\n            return (\r\n              <Choice\r\n                type=\"checkbox\"\r\n                key={index}\r\n                label={<Tooltip content={t(`annotation.${val}`)}><div>{t(`annotation.${val}`)}</div></Tooltip>}\r\n                checked={typesFilter.includes(val)}\r\n                id={val}\r\n                onChange={(e) => {\r\n                  if (typesFilter.indexOf(e.target.getAttribute('id')) === -1) {\r\n                    setTypesFilter([...typesFilter, e.target.getAttribute('id')]);\r\n                  } else {\r\n                    setTypesFilter(typesFilter.filter((type) => type !== e.target.getAttribute('id')));\r\n                  }\r\n                }}\r\n              />\r\n            );\r\n          })}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const renderColorTypes = () => {\r\n    return (\r\n      <div className=\"color-filters\">\r\n        {[...colors].map((val, index) => {\r\n          return (\r\n            <div className=\"colorSelect\" key={`color${index}`}>\r\n              <Choice\r\n                type=\"checkbox\"\r\n                checked={colorFilter.includes(val)}\r\n                id={val}\r\n                onChange={(e) => {\r\n                  if (colorFilter.indexOf(e.target.getAttribute('id')) === -1) {\r\n                    setColorFilter([...colorFilter, e.target.getAttribute('id')]);\r\n                  } else {\r\n                    setColorFilter(colorFilter.filter((color) => color !== e.target.getAttribute('id')));\r\n                  }\r\n                }}\r\n              />\r\n              <div\r\n                className=\"colorCell\"\r\n                style={{\r\n                  background: getHexToRgbaString(val),\r\n                }}\r\n              ></div>\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const renderStatusTypes = () => {\r\n    return (\r\n      <div className=\"status-filters three-column-filter\">\r\n        {[...statuses].map((val, index) => {\r\n          return (\r\n            <Choice\r\n              type=\"checkbox\"\r\n              key={index}\r\n              checked={statusFilter.includes(val)}\r\n              label={t(`option.state.${val.toLocaleLowerCase()}`)}\r\n              id={val}\r\n              onChange={(e) => {\r\n                if (statusFilter.indexOf(e.target.getAttribute('id')) === -1) {\r\n                  setStatusFilter([...statusFilter, e.target.getAttribute('id')]);\r\n                } else {\r\n                  setStatusFilter(statusFilter.filter((status) => status !== e.target.getAttribute('id')));\r\n                }\r\n              }}\r\n            />\r\n          );\r\n        })}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const modalClass = classNames({\r\n    Modal: true,\r\n    FilterAnnotModal: true,\r\n    open: isOpen,\r\n    closed: !isOpen,\r\n  });\r\n\r\n  return isDisabled ? null : (\r\n    <div className={modalClass} data-element={DataElements.FILTER_MODAL} onMouseDown={closeModal}>\r\n      <FocusTrap locked={isOpen} focusLastOnUnlock>\r\n        <div className=\"container\" onMouseDown={(e) => e.stopPropagation()}>\r\n          {core.getAnnotationsList().length > 0 ? (\r\n            <div className=\"filter-modal\">\r\n              <Swipeable onSwipedDown={closeModal} preventDefaultTouchmoveEvent>\r\n                <div className=\"swipe-indicator\" />\r\n                <div className=\"header\">\r\n                  <div>{`${t('option.filterAnnotModal.filters')} (${filterCount})`}</div>\r\n                  <Button\r\n                    img=\"icon-close\"\r\n                    onClick={closeModal}\r\n                    title=\"action.close\"\r\n                  />\r\n                </div>\r\n              </Swipeable>\r\n              <div className=\"divider\"></div>\r\n              <div className=\"body\">\r\n                <Tabs id={TABS_ID}>\r\n                  <div className=\"tab-list\">\r\n                    <Tab dataElement={DataElements.ANNOTATION_USER_FILTER_PANEL_BUTTON}>\r\n                      <button className=\"tab-options-button\">\r\n                        {t('option.filterAnnotModal.user')}\r\n                      </button>\r\n                    </Tab>\r\n                    <div className=\"tab-options-divider\" />\r\n                    <Tab dataElement={DataElements.ANNOTATION_COLOR_FILTER_PANEL_BUTTON}>\r\n                      <button className=\"tab-options-button\">\r\n                        {t('option.filterAnnotModal.color')}\r\n                      </button>\r\n                    </Tab>\r\n                    <div className=\"tab-options-divider\" />\r\n                    <Tab dataElement={DataElements.ANNOTATION_TYPE_FILTER_PANEL_BUTTON}>\r\n                      <button className=\"tab-options-button\">\r\n                        {t('option.filterAnnotModal.type')}\r\n                      </button>\r\n                    </Tab>\r\n                    {ifShowAnnotationStatus && (\r\n                      <>\r\n                        <div className=\"tab-options-divider\" />\r\n                        <Tab dataElement={DataElements.ANNOTATION_STATUS_FILTER_PANEL_BUTTON}>\r\n                          <button className=\"tab-options-button\">\r\n                            {t('option.filterAnnotModal.status')}\r\n                          </button>\r\n                        </Tab>\r\n                      </>\r\n                    )}\r\n                  </div>\r\n                  <div className=\"filter-options\">\r\n                    <TabPanel dataElement=\"annotationUserFilterPanel\">\r\n                      {renderAuthors()}\r\n                    </TabPanel>\r\n                    <TabPanel dataElement=\"annotationColorFilterPanel\">\r\n                      {renderColorTypes()}\r\n                    </TabPanel>\r\n                    <TabPanel dataElement=\"annotationTypeFilterPanel\">\r\n                      {renderAnnotTypes()}\r\n                    </TabPanel>\r\n                    {ifShowAnnotationStatus && (\r\n                      <TabPanel dataElement=\"annotationStatusFilterPanel\">\r\n                        {renderStatusTypes()}\r\n                      </TabPanel>\r\n                    )}\r\n                  </div>\r\n                </Tabs>\r\n              </div>\r\n              <div className=\"divider\"></div>\r\n              <div className=\"settings-body\">\r\n                <div className=\"settings-header\">{t('option.filterAnnotModal.filterSettings')}</div>\r\n                <div className=\"settings\">\r\n                  <Choice\r\n                    label={t('option.filterAnnotModal.includeReplies')}\r\n                    checked={checkRepliesForAuthorFilter}\r\n                    onChange={(e) => setCheckRepliesForAuthorFilter(e.target.checked)}\r\n                    id=\"filter-annot-modal-include-replies\"\r\n                  />\r\n                  <Choice\r\n                    label={t('option.filterAnnotModal.filterDocument')}\r\n                    checked={isDocumentFilterActive}\r\n                    onChange={(e) => setIsDocumentFilterActive(e.target.checked)}\r\n                    id=\"filter-annot-modal-filter-document\"\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"divider\"></div>\r\n              <div className=\"footer\">\r\n                <Button className=\"filter-annot-clear\" onClick={filterClear} label={t('action.clearAll')}\r\n                  disabled={filterCount === 0} />\r\n                <Button className=\"filter-annot-apply\" onClick={filterApply} label={t('action.apply')} />\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <div>\r\n              <div className=\"swipe-indicator\" />\r\n              <div className=\"message\">{t('message.noAnnotationsFilter')}</div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </FocusTrap>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FilterAnnotModal;\r\n","import FilterAnnotModal from './FilterAnnotModal';\r\n\r\nexport default FilterAnnotModal;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".open.FilterAnnotModal{visibility:visible}.closed.FilterAnnotModal{visibility:hidden}:host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.FilterAnnotModal{position:fixed;left:0;bottom:0;z-index:100;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:var(--modal-negative-space)}.FilterAnnotModal .modal-container .wrapper .modal-content{padding:10px}.FilterAnnotModal .footer{display:flex;flex-direction:row;justify-content:flex-end;width:100%;margin-top:13px}.FilterAnnotModal .footer.modal-footer{padding:16px;margin:0;border-top:1px solid var(--divider)}.FilterAnnotModal .footer .modal-button{display:flex;justify-content:center;align-items:center;padding:6px 18px;margin:8px 0 0;width:auto;width:-moz-fit-content;width:fit-content;border-radius:4px;height:30px;cursor:pointer}.FilterAnnotModal .footer .modal-button.cancel{color:var(--secondary-button-text);border:1px solid var(--secondary-button-text)}.FilterAnnotModal .footer .modal-button.cancel:hover{background-color:var(--document-background-color);color:var(--secondary-button-hover);border:1px solid var(--secondary-button-hover)}.FilterAnnotModal .footer .modal-button.confirm{margin-left:4px;color:var(--primary-button-text);font-weight:600;background:var(--primary-button)}.FilterAnnotModal .footer .modal-button.confirm:hover{background:var(--primary-button-hover)}.FilterAnnotModal .footer .modal-button.confirm.disabled{background:var(--primary-button)!important;opacity:.5}.FilterAnnotModal .footer .modal-button.secondary-btn-custom{border-radius:4px;border:1px solid var(--primary-button);color:var(--primary-button);padding:2px 20px 4px;cursor:pointer;background-color:#fff}.FilterAnnotModal .footer .modal-button.secondary-btn-custom:hover{color:var(--secondary-button-hover)}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .FilterAnnotModal .footer .modal-button{padding:23px 8px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .FilterAnnotModal .footer .modal-button{padding:23px 8px}}.FilterAnnotModal .swipe-indicator{background:var(--divider);border-radius:2px;height:4px;width:38px;position:absolute;top:12px;margin-left:auto;margin-right:auto;left:0;right:0}@media(min-width:641px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .FilterAnnotModal .swipe-indicator{display:none}}@container (min-width: 641px){.App.is-web-component:not(.is-in-desktop-only-mode) .FilterAnnotModal .swipe-indicator{display:none}}.FilterAnnotModal .container{overflow-y:auto;max-height:100%}@media(max-height:500px){.App:not(.is-web-component) .FilterAnnotModal .container,.FilterAnnotModal .App:not(.is-web-component) .container{overflow:auto;max-height:100%}}@container (max-height: 500px){.App.is-web-component .FilterAnnotModal .container,.FilterAnnotModal .App.is-web-component .container{overflow:auto;max-height:100%}}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .FilterAnnotModal .container,.FilterAnnotModal .App:not(.is-in-desktop-only-mode):not(.is-web-component) .container{width:100%;position:fixed;left:0;bottom:0;padding-top:4px;min-width:100px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .FilterAnnotModal .container,.FilterAnnotModal .App.is-web-component:not(.is-in-desktop-only-mode) .container{width:100%;position:fixed;left:0;bottom:0;padding-top:4px;min-width:100px}}.FilterAnnotModal .container .filter-modal .body .tab-list{width:100%;height:28px;display:flex;border-radius:4px;border:1px solid var(--border);color:var(--text-color)}.FilterAnnotModal .container .filter-modal .body .tab-list .tab-options-button{text-align:center;vertical-align:middle;line-height:24px;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;flex:1;border-radius:0;cursor:pointer}.FilterAnnotModal .container .filter-modal .body .tab-list .tab-options-button:first-child{border-bottom-left-radius:4px;border-top-left-radius:4px}.FilterAnnotModal .container .filter-modal .body .tab-list .tab-options-button:last-child{border-bottom-right-radius:4px;border-top-right-radius:4px}.FilterAnnotModal .container .filter-modal .body .tab-list .tab-options-button:hover{background:var(--popup-button-hover)}.FilterAnnotModal .container .filter-modal .body .tab-list .tab-options-button.selected{background:var(--popup-button-active);cursor:default}.FilterAnnotModal .container .filter-modal .body .tab-list .tab-options-divider{width:1px;background:var(--divider)}.FilterAnnotModal{font-size:.9em}.FilterAnnotModal .container{display:flex;flex-direction:column;align-items:center;border-radius:4px;box-shadow:0 0 3px 0 var(--document-box-shadow);background:var(--component-background);width:360px}.FilterAnnotModal .container .message{font-size:14px}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .FilterAnnotModal .container .message{font-size:16px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .FilterAnnotModal .container .message{font-size:16px}}.FilterAnnotModal .container .filter-modal{display:flex;flex-direction:column;width:100%}.FilterAnnotModal .container .filter-modal .divider{height:1px;width:100%;background:var(--divider)}.FilterAnnotModal .container .filter-modal .header{display:flex;justify-content:space-between;margin:16px;font-size:16px;font-weight:700;align-items:center;height:24px}.FilterAnnotModal .container .filter-modal .header .Button{height:24px}.FilterAnnotModal .container .filter-modal .body{padding:16px}.FilterAnnotModal .container .filter-modal .body .tab-list .tab-options-button{padding:0;border:none;background-color:transparent}:host(:not([data-tabbing=true])) .FilterAnnotModal .container .filter-modal .body .tab-list .tab-options-button,html:not([data-tabbing=true]) .FilterAnnotModal .container .filter-modal .body .tab-list .tab-options-button{outline:none}.FilterAnnotModal .container .filter-modal .body .filter-options{height:200px;width:100%}.FilterAnnotModal .container .filter-modal .body .filter-options .tab-panel{height:100%;width:100%;display:flex;flex-direction:column}.FilterAnnotModal .container .filter-modal .body .filter-options .tab-panel .include-replies{display:flex;height:20px;margin-top:12px}.FilterAnnotModal .container .filter-modal .body .filter-options .tab-panel .include-replies label{color:var(--gray-7)}.FilterAnnotModal .container .filter-modal .body .filter-options .tab-panel .three-column-filter{margin-top:20px;overflow-y:scroll;display:grid;grid-gap:5px 16px;grid-template-columns:repeat(3,minmax(0,1fr))}.FilterAnnotModal .container .filter-modal .body .filter-options .tab-panel .color-filters{margin-top:20px;overflow-y:scroll;display:grid;grid-gap:16px;grid-template-columns:repeat(5,minmax(0,1fr))}.FilterAnnotModal .container .filter-modal .body .filter-options .tab-panel .buttons{display:grid;padding:6px 0;grid-template-columns:100px 100px}.FilterAnnotModal .container .filter-modal .body .filter-options .tab-panel .colorSelect{display:flex;flex-direction:row}.FilterAnnotModal .container .filter-modal .body .filter-options .tab-panel .colorSelect .colorCell{width:22px;height:22px;border-radius:10000000px;margin-left:4px}.FilterAnnotModal .container .filter-modal .body .filter-options .tab-panel label{overflow:hidden}.FilterAnnotModal .container .filter-modal .body .filter-options .tab-panel label div{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.FilterAnnotModal .container .filter-modal .settings-body{display:flex;flex-direction:column;padding:16px;font-size:var(--font-size-default);grid-gap:12px;gap:12px}.FilterAnnotModal .container .filter-modal .settings-body .settings-header{font-weight:var(--font-weight-bold)}.FilterAnnotModal .container .filter-modal .settings-body .settings{display:flex;flex-direction:column;grid-gap:8px;gap:8px}.FilterAnnotModal .container .filter-modal .settings-body .settings .setting{display:flex;flex-direction:row;grid-gap:16px;gap:16px}.FilterAnnotModal .container .filter-modal .footer{display:flex;justify-content:space-between;width:100%;padding:16px;margin-top:0}.FilterAnnotModal .container .filter-modal .footer .Button{display:flex;justify-content:center;align-items:center;color:var(--primary-button-text);padding:6px 18px;width:auto;width:-moz-fit-content;width:fit-content;background:var(--primary-button);border-radius:4px;height:32px;cursor:pointer}.FilterAnnotModal .container .filter-modal .footer .Button:hover{background:var(--primary-button-hover)}.FilterAnnotModal .container .filter-modal .footer .Button.disabled{background:var(--gray-6);border-color:var(--gray-6);cursor:not-allowed}.FilterAnnotModal .container .filter-modal .footer .filter-annot-clear{color:var(--secondary-button-text);background:none}.FilterAnnotModal .container .filter-modal .footer .filter-annot-clear:hover{color:var(--secondary-button-hover);background:none}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"LEFT_HEADER_WIDTH\": \"41px\",\n\t\"RIGHT_HEADER_WIDTH\": \"41px\"\n};\nmodule.exports = exports;\n","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/postcss-loader/src/index.js??ruleSet[1].rules[1].use[2]!../../../node_modules/sass-loader/dist/cjs.js!./FilterAnnotModal.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\r\n                function findNestedWebComponents(tagName, root = document) {\r\n                  const elements = [];\r\n\r\n                  // Check direct children\r\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\r\n\r\n                  // Check shadow DOMs\r\n                  root.querySelectorAll('*').forEach(el => {\r\n                    if (el.shadowRoot) {\r\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\r\n                    }\r\n                  });\r\n\r\n                  return elements;\r\n                }\r\n                if (!window.isApryseWebViewerWebComponent) {\r\n                  document.head.appendChild(styleTag);\r\n                  return;\r\n                }\r\n\r\n                let webComponents;\r\n                // First we see if the webcomponent is at the document level\r\n                webComponents = document.getElementsByTagName('apryse-webviewer');\r\n                // If not, we check have to check if it is nested in another webcomponent\r\n                if (!webComponents.length) {\r\n                  webComponents = findNestedWebComponents('apryse-webviewer');\r\n                }\r\n                // Now we append the style tag to each webcomponent\r\n                const clonedStyleTags = [];\r\n                for (let i = 0; i < webComponents.length; i++) {\r\n                  const webComponent = webComponents[i];\r\n                  if (i === 0) {\r\n                    webComponent.shadowRoot.appendChild(styleTag);\r\n                    styleTag.onload = function () {\r\n                      if (clonedStyleTags.length > 0) {\r\n                        clonedStyleTags.forEach((styleNode) => {\r\n                          // eslint-disable-next-line no-unsanitized/property\r\n                          styleNode.innerHTML = styleTag.innerHTML;\r\n                        });\r\n                      }\r\n                    };\r\n                  } else {\r\n                    const styleNode = styleTag.cloneNode(true);\r\n                    webComponent.shadowRoot.appendChild(styleNode);\r\n                    clonedStyleTags.push(styleNode);\r\n                  }\r\n                }\r\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};"],"names":["TABS_ID","_useSelector2","_slicedToArray","useSelector","state","selectors","isElementDisabled","DataElements","FILTER_MODAL","isElementOpen","getColorMap","getSelectedTab","getAnnotationFilters","getIsMeasurementAnnotationFilterEnabled","isDisabled","isOpen","colorMap","selectedTab","annotationFilters","isMeasurementAnnotationFilterEnabled","t","useTranslation","dispatch","useDispatch","_useState2","useState","authors","setAuthors","_useState4","annotTypes","setAnnotTypes","_useState6","colors","setColorTypes","_useState8","statuses","setStatusTypes","_useState10","authorFilter","setAuthorFilter","_useState12","typesFilter","setTypesFilter","_useState14","colorFilter","setColorFilter","_useState16","checkRepliesForAuthorFilter","setCheckRepliesForAuthorFilter","_useState18","isDocumentFilterActive","setIsDocumentFilterActive","_useState20","statusFilter","setStatusFilter","_useState22","filterCount","setFilterCount","_useState24","ifShowAnnotationStatus","setIfShowAnnotationStatus","getIconColor","annot","_colorMap$key","key","mapAnnotationToKey","iconColor","similarColorExist","currColors","newColor","map","c","Object","assign","R","parseInt","concat","G","B","filter","Math","abs","length","filterApply","newFilter","documentViewerKey","arguments","undefined","type","author","color","status","isMeasurementAnnotation","IT","getCustomData","measurementKey","includes","getAnnotationClass","core","getDisplayAuthor","_step","_iterator","_createForOfIteratorHelper","getReplies","s","n","done","reply","value","err","e","f","getStatus","actions","setCustomNoteFilter","setAnnotationFilters","includeReplies","typeFilter","redrawList","getDocumentViewers","forEach","documentViewer","index","getAnnotationManager","getAnnotationsList","shouldHide","NoView","push","drawAnnotationsFromList","fireEvent","Events","ANNOTATION_FILTER_CHANGED","types","closeModal","filterClear","closeElement","setToolMode","defaultTool","useEffect","clearAllFilters","addEventListener","removeEventListener","_ref","annotLists","annots","apply","_toConsumableArray","Hidden","authorsToBeAdded","Set","annotTypesToBeAdded","annotColorsToBeAdded","annotStatusesToBeAdded","displayAuthor","add","window","Core","Annotations","WidgetAnnotation","StickyAnnotation","isReply","Link","rgbaToHex","A","ANNOTATION_STATUS_FILTER_PANEL_BUTTON","setSelectedTab","ANNOTATION_USER_FILTER_PANEL_BUTTON","modalClass","classNames","Modal","FilterAnnotModal","open","closed","React","className","onMouseDown","FocusTrap","locked","focusLastOnUnlock","stopPropagation","Swipeable","onSwipedDown","preventDefaultTouchmoveEvent","Button","img","onClick","title","Tabs","id","Tab","dataElement","ANNOTATION_COLOR_FILTER_PANEL_BUTTON","ANNOTATION_TYPE_FILTER_PANEL_BUTTON","TabPanel","val","Choice","label","Tooltip","content","checked","onChange","indexOf","target","getAttribute","style","background","getHexToRgbaString","sort","type1","type2","toLocaleLowerCase","disabled","exports","___CSS_LOADER_API_IMPORT___","module","locals","api","__esModule","default","options","styleTag","isApryseWebViewerWebComponent","document","head","appendChild","webComponents","getElementsByTagName","findNestedWebComponents","tagName","root","elements","querySelectorAll","el","shadowRoot","clonedStyleTags","i","webComponent","onload","styleNode","innerHTML","cloneNode"],"sourceRoot":""}